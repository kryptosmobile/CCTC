{
  "version": 366,
  "tenantid": "CCTC",
  "mobappid": 3912,
  "appName": "CCTC",
  "appDisplayName": "CCTC",
  "homeScreenTemplate": "<script>\r\n  MyCampusApp.rootScope.animatepage = function(currentstyle) {\r\n    $(\".app-body\").addClass(currentstyle);\r\n  }\r\n  var hideInterval = setInterval(function() {\r\n    var animatecss = $(\"#animatecss\");\r\n    if (!animatecss || animatecss.length <= 0) {\r\n      $.ajax({\r\n        url: \"https://raw.githubusercontent.com/daneden/animate.css/master/animate.css\",\r\n        dataType: \"text\",\r\n        success: function(data) {\r\n          $(\"head\").append(\"<style id='animatecss'>\" + data + \"<\/style>\");\r\n          clearInterval(hideInterval);\r\n        }\r\n      });\r\n    }\r\n  }, 2000);\r\n  if (!MyCampusApp.rootScope.cangelistadded) {\r\n    MyCampusApp.rootScope.$on(\"$routeChangeStart\", function(event, next, current) {\r\n      $(\".app-body\").attr(\"class\", \"app-body animated \");\r\n    });\r\n    MyCampusApp.rootScope.$on(\"$routeChangeSuccess\", function(event, next, current) {\r\n      currentstyle = \"bounceInRight\";\r\n      if (next.loadedTemplateUrl == \"partials/home.html\" && current.loadedTemplateUrl != \"partials/home.html\") {\r\n        currentstyle = \"bounceInLeft\";\r\n      } else if (current.loadedTemplateUrl != \"partials/home.html\") {\r\n        if (next.params.appid == current.params.appid && next.params.appid == next.params.pageid) {\r\n          currentstyle = \"bounceInLeft\";\r\n        }\r\n        if (MyCampusApp.rootScope.ppage) {\r\n          if (MyCampusApp.rootScope.ppage.appid == next.params.appid && MyCampusApp.rootScope.ppage.pageid == next.params.pageid) {\r\n            currentstyle = \"bounceInLeft\";\r\n          }\r\n        }\r\n      }\r\n      $(\".app-body\").addClass(currentstyle);\r\n      $(\".app-body\").addClass(\"animated\");\r\n      MyCampusApp.rootScope.cpage = next.params;\r\n      MyCampusApp.rootScope.ppage = current.params;\r\n    });\r\n    MyCampusApp.rootScope.cangelistadded = true;\r\n  }\r\n<\/script>\r\n<style>\r\n  .navbar-app,\r\n  .sidebar,\r\n  #mainSidebar {\r\n    background: none !important;\r\n    border: 0;\r\n  }\r\n  \r\n  .navbar-brand.navbar-brand-center {\r\n    display: none !important;\r\n  }\r\n  \r\n  .sidebar .navbar-brand {\r\n    display: block;\r\n    color: #fff;\r\n  }\r\n  \r\n  .navbar-absolute-top .fa-bars,\r\n  .navbar-absolute-top .fa-user {\r\n    color: #fff;\r\n  }\r\n  \r\n  #dock {\r\n    background: #000 !important;\r\n    bottom: 0 !important;\r\n  }\r\n  \r\n  .dockicon {\r\n    margin-top: 12px !important;\r\n    margin-right: 8% !important;\r\n  }\r\n  \r\n  .sidebar-scrollable {\r\n    min-height: 100% !important\r\n  }\r\n  \r\n  .list-group {\r\n    margin-bottom: 0 !important;\r\n  }\r\n  \r\n  #appContent {\r\n    height: 100% !important;\r\n    background: #fff !important;\r\n  }\r\n  \r\n  .navbar .fa-bars,\r\n  .navbar .fa-user {\r\n    color: #fcba5e\r\n  }\r\n  \r\n  div.sideBarMenu div[aria-label=\"Sidebar Menu\"]:after {\r\n    color: #002246 !important;\r\n  }\r\n<\/style>",
  "middlewareServerUrl": "https://kryptosda.kryptosmobile.com/kmwda3cctc",
  "feedbackEmail": "publicrelationsoffice@cctech.edu",
  "backgroundurl": "CCTC/background.png",
  "brandingurl": "CCTC/branding.png",
  "customStyle": "/*.app-body{\r\nbackground:rgba(0,0,0,0.2) !important;\r\n}*/\r\n\r\n#branding {\r\n  position: absolute !important;\r\n  top: 45px !important;\r\n  width: 65% !important;\r\n  margin: auto;\r\n  bottom: auto !important;\r\n}\r\n\r\nbody {\r\n  position: absolute;\r\n  width: 100%;\r\n  height: 100%;\r\n  background-size: 100% 100% !important;\r\n}\r\n\r\n.icon {\r\n  width: 56px !important;\r\n  height: 56px !important;\r\n}\r\n\r\n\r\n/*.campuseai-Info {\r\n  white-space: nowrap !important;\r\n}*/\r\n\r\n#homedata .campuseai-Info {\r\n  width: 56px !important;\r\n  height: 33px !important;\r\n}\r\n\r\n.dockicon:after {\r\n  bottom: 0px !important;\r\n}\r\n\r\n.dockicon {\r\n  margin-bottom: 25px !important;\r\n}\r\n\r\n.blockUI i {\r\n  color: white !important;\r\n}\r\n\r\n.promptumenu_nav a.active {\r\n  background: #fff;\r\n  border-radius: 50%;\r\n  width: 10px;\r\n  height: 10px;\r\n}\r\n\r\n.promptumenu_nav a {\r\n  background: #fcba5e;\r\n  border-radius: 50%;\r\n  width: 10px;\r\n  height: 10px;\r\n}\r\n\r\n.promptumenu_window {\r\n  overflow: visible !important;\r\n  height: 95% !important;\r\n  margin-top: 29%;\r\n  left: 5px;\r\n}\r\n\r\n.promptumenu_nav {\r\n  margin-bottom: 32%;\r\n}\r\n\r\n.app-body {\r\n  padding-bottom: 0px !important;\r\n}\r\n\r\n.blockUI {\r\n  margin: auto !important;\r\n  left: 0px !important;\r\n  right: 0px !important;\r\n  width: auto !important;\r\n}\r\n\r\n#homedata .campuseai-Info {\r\n  width: 76px !important;\r\n  margin-left: -10px;\r\n}\r\n\r\n@media (min-width: 320px) and (max-width: 480px) {\r\n  .icon {\r\n    width: 56px !important;\r\n    height: 56px !important;\r\n  }\r\n  #homedata .campuseai-Info {\r\n    width: 76px !important;\r\n    margin-left: -10px;\r\n  }\r\n}\r\n\r\n@media (min-width: 320px) and (max-width: 568px) {\r\n  .icon {\r\n    width: 75px !important;\r\n    height: 75px !important;\r\n    padding: 5px !important;\r\n  }\r\n  #homedata .campuseai-Info {\r\n    width: 91px !important;\r\n    font-size: 12px;\r\n    margin-top: 2px;\r\n    margin-left: -10px;\r\n    margin-right: -10px;\r\n    /*margin-left:-10px;*/\r\n    line-height: 12px !important;\r\n    height: 31px !important;\r\n    padding: 0 4px !important;\r\n  }\r\n}\r\n\r\n@media (min-width: 768px) {\r\n  #branding {\r\n    width: 50% !important;\r\n    margin: auto;\r\n  }\r\n  .icon {\r\n    width: 102px !important;\r\n    height: 102px !important;\r\n  }\r\n  #homedata .campuseai-Info {\r\n    width: 120px !important;\r\n    margin-left: -10px;\r\n    margin-right: -10px;\r\n    /*margin-left:-10px;*/\r\n  }\r\n}\r\n\r\n#loginbtn {}\r\n\r\n.btn-block {\r\n  background: #fed501;\r\n}\r\n\r\n@media all and (orientation: landscape) {\r\n  #branding {\r\n    width: 30% !important;\r\n  }\r\n}\r\n\r\na:active {\r\n  opacity: 1 !important;\r\n}\r\n\r\n.scrollable-content > div#appContent {\r\n  background: #fff !important;\r\n  color: #333 !important;\r\n  min-height: 100%;\r\n  height: auto;\r\n  margin-top: 0px;\r\n  padding-bottom: 10px;\r\n}\r\n\r\n.scrollable-content > div#appContent h4,\r\n.scrollable-content > div#appContent p {\r\n  color: #333 !important;\r\n}\r\n\r\n.app {\r\n  background-size: 100% 100% !important;\r\n}\r\n\r\n.userProfile {\r\n  display: none !important;\r\n}\r\n\r\na.list-group-item.active,\r\na.list-group-item.active:focus,\r\na.list-group-item.active:hover {\r\n  border-color: #ddd;\r\n}\r\n\r\n\r\n/*div.backButtonArrow div[aria-label=\"Login\"]:after {\r\n  content: \"Login\";\r\n  position: absolute !important;\r\n  top: 17px;\r\n  right: 6px;\r\n  font-size: 11px;\r\n  color: #fcba5e !important;\r\n}\r\n\r\ndiv.backButtonArrow div[aria-label=\"Logout\"]:after {\r\n  content: \"Logout\";\r\n  position: absolute !important;\r\n  top: 17px;\r\n  right: 0px;\r\n  font-size: 11px;\r\n  color: #fcba5e !important;\r\n}\r\n\r\ndiv.backButtonArrow div[aria-label=\"Back\"]:after {\r\n  content: \"Back\";\r\n  position: absolute !important;\r\n  top: 17px;\r\n  right: 7px;\r\n  font-size: 11px;\r\n  color: #fcba5e !important;\r\n}\r\n\r\ndiv.sideBarMenu div[aria-label=\"Sidebar Menu\"]:after {\r\n  content: \"Menu\";\r\n  position: absolute !important;\r\n  top: 16px;\r\n  right: 5px;\r\n  font-size: 11px;\r\n  color: #fcba5e !important;\r\n}\r\n\r\n.btn-group.pull-left.sideBarMenu,\r\n.btn-group.pull-right.backButtonArrow {\r\n  bottom: 6px !important;\r\n}\r\n\r\ndiv.sideBarMenu div[aria-label=\"Sidebar Menu\"]::after {\r\n  color: #fcba5e !important;\r\n}*/\r\n\r\n.page-container {\r\n  overflow-x: hidden;\r\n  position: absolute;\r\n  height: 100%;\r\n  width: 100%;\r\n  background: #fff;\r\n}\r\n\r\n.list-group {\r\n  /*margin: 8px;*/\r\n}\r\n\r\n.page-container > .list-group-item {\r\n  border: 1px solid #e3e3e3;\r\n  margin-bottom: -1px;\r\n}\r\n\r\n.transparent {\r\n  background: transparent;\r\n  border: none !important;\r\n}\r\n\r\n.main-heading {\r\n  background: #FCBA5E;\r\n  color: #fff;\r\n  font-family: \"Trebuchet MS\", Calibri, Arial;\r\n  font-size: 1.2em;\r\n  border: none !important;\r\n}\r\n\r\n.group-heading,\r\n.group-heading a {\r\n  background: #002446;\r\n  color: #fff !important;\r\n  font-family: \"Trebuchet MS\", Calibri, Arial;\r\n  font-size: 1.2em;\r\n  border: none !important;\r\n}\r\n\r\n.footer {\r\n  background: #213445;\r\n  color: #fff;\r\n  font-family: \"Trebuchet MS\", Calibri, Arial;\r\n  font-size: 1em;\r\n  border: none !important;\r\n}\r\n\r\n.accordian {\r\n  background: #002446;\r\n  color: #fff;\r\n  font-family: \"Trebuchet MS\", Calibri, Arial;\r\n  font-size: 1em;\r\n  border: 1px solid #2469D9 !important;\r\n}\r\n\r\n.accordian .fa,\r\n.accordian a {\r\n  color: #fff;\r\n}\r\n\r\n.key-block {\r\n  background: #213445;\r\n  color: #fff;\r\n  border: none !important;\r\n  font-family: \"Trebuchet MS\", Helvetica, \"Courier New\", Arial;\r\n  padding-bottom: 1.5em;\r\n}\r\n\r\n.page-container label,\r\n.key,\r\n.data-block > .list-group-item {\r\n  color: #9ea2a5;\r\n}\r\n\r\n.val,\r\n.data-block > .list-group-item > span {\r\n  color: #002446;\r\n  font-family: Calibri, Arial;\r\n  font-weight: 600;\r\n}\r\n\r\n.heading {\r\n  font-family: Calibri, Arial;\r\n  font-size: 1.2em;\r\n  font-weight: 600;\r\n}\r\n\r\n.heading-xl {\r\n  font-family: Calibri, Arial;\r\n  font-size: 1.6em;\r\n  font-weight: 600;\r\n}\r\n\r\n.danger {\r\n  color: #f85162;\r\n}\r\n\r\n.warning {\r\n  color: orange;\r\n}\r\n\r\n.success {\r\n  color: #16ce8e;\r\n}\r\n\r\n.list-group-item > i > span {\r\n  font-family: Calibri, Arial;\r\n}\r\n\r\n.list-group-item > i.fa.fa-2x {\r\n  margin-top: -3px;\r\n}\r\n\r\n.key-block > span > i {\r\n  margin: 10px;\r\n}\r\n\r\n.group-heading > i.fa {\r\n  margin-top: 2px;\r\n}\r\n\r\nselect,\r\ninput,\r\ntextarea,\r\n.form-control {\r\n  min-height: 30px;\r\n  border-radius: 4px;\r\n}\r\n\r\n.input-group-addon > .form-control {\r\n  border-top-left-radius: 0px;\r\n  border-top-right-radius: 4px;\r\n  border-bottom-left-radius: 0px;\r\n  border-bottom-right-radius: 4px;\r\n}\r\n\r\n.btn-oval {\r\n  border-radius: 30px;\r\n  padding-left: 1em;\r\n  padding-right: 1em;\r\n}\r\n\r\n.btn-left-oval {\r\n  border-top-left-radius: 30px;\r\n  border-bottom-left-radius: 30px;\r\n}\r\n\r\n.btn-right-oval {\r\n  border-top-right-radius: 30px;\r\n  border-bottom-right-radius: 30px;\r\n}\r\n\r\n.btn-square-xs {\r\n  height: 15px;\r\n  width: 15px;\r\n  float: left;\r\n}\r\n\r\n.btn-group > .btn-default {\r\n  color: #fff;\r\n  background: transparent;\r\n  border: 1px solid #0078D7;\r\n  border-radius: 30px;\r\n  line-height: 1.5em;\r\n}\r\n\r\n.btn-selected {\r\n  color: #fff;\r\n  background: #0078D7;\r\n  border: 1px solid #2469D9;\r\n}\r\n\r\n.btn-group > .btn-default.active {\r\n  color: #fff !important;\r\n  background: #0078D7 !important;\r\n  border: 1px solid #0078D7 !important;\r\n}\r\n\r\n.badge-info {\r\n  background: #002446;\r\n  color: #fff !important;\r\n}\r\n\r\n.badge-warning {\r\n  background: orange;\r\n  color: #fff;\r\n}\r\n\r\n.badge-success {\r\n  background: #16ce8e;\r\n  color: #fff;\r\n}\r\n\r\n.badge-top {\r\n  position: absolute;\r\n  border-radius: 50%;\r\n  background: orange;\r\n  line-height: 20px;\r\n  width: 20px;\r\n  height: 20px;\r\n  top: -15%;\r\n  right: 3%;\r\n  padding-left: 2px;\r\n  -webkit-box-shadow: 2px 2px 5px 0px grey;\r\n  -moz-box-shadow: 2px 2px 5px 0px grey;\r\n  box-shadow: 2px 2px 5px 0px grey;\r\n}\r\n\r\n.alert-info,\r\n.alert-warning {\r\n  border: 0px;\r\n  font-family: Verdana, Tahoma, Arial;\r\n  font-size: 0.9em;\r\n}\r\n\r\n.wrap-text {\r\n  white-space: nowrap;\r\n  width: 100%;\r\n  overflow: hidden;\r\n  text-overflow: ellipsis;\r\n}\r\n\r\n.circle {\r\n  width: 40px;\r\n  height: 40px;\r\n  border-radius: 50px;\r\n  padding-top: 14px;\r\n  outline: none !important;\r\n  font-weight: bolder;\r\n}\r\n\r\n.circle > i.fa-2x {\r\n  margin-left: -5px;\r\n  margin-top: -5px;\r\n}\r\n\r\n.no-padding {\r\n  padding: 0px !important;\r\n}\r\n\r\n.no-side-padding {\r\n  padding-left: 0px !important;\r\n  padding-right: 0px !important;\r\n}\r\n\r\n\r\n/* for ribbon control */\r\n\r\n.in-cart-course {\r\n  box-shadow: 0 0 10px black;\r\n  -webkit-transition: box-shadow linear 0.5s;\r\n  transition: box-shadow linear 0.5s;\r\n}\r\n\r\n.ribbon-parent {\r\n  position: relative;\r\n  overflow: hidden;\r\n}\r\n\r\n.corner-ribbon {\r\n  width: 120px;\r\n  line-height: 18px;\r\n  top: 5px;\r\n  right: -20px;\r\n  position: absolute !important;\r\n  text-align: center;\r\n  letter-spacing: 1px;\r\n  color: #f0f0f0;\r\n  transform: rotate(40deg);\r\n  -webkit-transform: rotate(40deg);\r\n}\r\n\r\n.corner-ribbon.shadow {\r\n  box-shadow: 0 0 3px rgba(0, 0, 0, .3);\r\n}\r\n\r\n.corner-ribbon.cart {\r\n  background: #39d;\r\n  -moz-box-shadow: 0 0 0 4px #39d, 2px 1px 4px 4px rgba(10, 10, 0, .5);\r\n  -webkit-box-shadow: 0 0 0 4px #39d, 2px 1px 4px 4px rgba(10, 10, 0, .5);\r\n  box-shadow: 0 0 0 4px #39d, 2px 1px 6px 4px rgba(10, 10, 0, .5);\r\n  border-top: 1px dashed #fff;\r\n  border-bottom: 1px dashed #fff;\r\n}\r\n\r\n.corner-ribbon.registered {\r\n  background: #FF7C00;\r\n  -moz-box-shadow: 0 0 0 4px #FF7C00, 2px 1px 4px 4px rgba(10, 10, 0, .5);\r\n  -webkit-box-shadow: 0 0 0 4px #FF7C00, 2px 1px 4px 4px rgba(10, 10, 0, .5);\r\n  box-shadow: 0 0 0 4px #FF7C00, 2px 1px 6px 4px rgba(10, 10, 0, .5);\r\n  border-top: 1px dashed #fff;\r\n  border-bottom: 1px dashed #fff;\r\n}\r\n\r\n\r\n/* ribbon control end */\r\n\r\n.green {\r\n  color: green;\r\n}\r\n\r\n.red {\r\n  color: red;\r\n}\r\n\r\n.blue {\r\n  color: blue;\r\n}\r\n\r\n@media only screen and (min-device-width: 768px) and (max-device-width: 1024px) and (orientation: portrait) {\r\n  .icon {\r\n    margin: 0 10px;\r\n    padding: 6px !important;\r\n  }\r\n  #homedata .campuseai-Info {\r\n    width: 120px !important;\r\n    height: 30px;\r\n    line-height: 14px;\r\n    font-weight: bold;\r\n    margin-left: 0px;\r\n    margin-right: 0px\r\n  }\r\n  a.list-group-item img.avatar {\r\n    width: 5.5% !important;\r\n  }\r\n  .promptumenu_window {\r\n    overflow: visible !important;\r\n    height: 85% !important;\r\n    margin-top: 20.6%;\r\n    left: 5px;\r\n  }\r\n  /*.promptumenu_nav {\r\n    margin-bottom: 5%;\r\n  }*/\r\n}\r\n\r\n@media only screen and (min-device-width: 768px) and (max-device-width: 1024px) and (orientation: landscape) {\r\n  .promptumenu_window {\r\n    overflow: visible !important;\r\n    height: 111% !important;\r\n    margin-top: 17%;\r\n    left: 5px;\r\n  }\r\n  /*.promptumenu_nav {\r\n  margin-bottom: %;\r\n}*/\r\n}.navbar-app, .sidebar, #mainSidebar { background : #002446 !important; } .navbar-brand, .navbar-absolute-top .btn-navbar { color : #fcba5e !important; } .navbar-absolute-bottom .navbar-inverse { background : #333333 !important; } .navbar-absolute-bottom .navbar-inverse { color : #ffffff !important; } .app { background :  !important; } .campuseai-Info { color : #ffffff !important; } #mainSidebar .list-group-item { background : #002446 !important; } #mainSidebar .list-group-item { color : #ffffff !important; } #mainSidebar .appgroup { background : #fcba5e !important; } #mainSidebar .appgroup { color : #ffffff !important; } .btn-primary { background : #fcba5e !important; } .btn-primary { color : #002446 !important; } .btn-primary { border-color : #002446 !important; } ",
  "authFunction": "function authFunction(uname, password, $http, $rootScope, success, error) {\r\n\r\n  try {\r\n    var authSuccess = success;\r\n    var authError = error;\r\n\r\n    //Banner Authentication with CAS - middlware auth\r\n\r\n    var url = $rootScope.middlewareServerUrl + \"/services/authenticate/login\";\r\n    var data = {};\r\n    if (window.device) {\r\n      data = \"username=\" + uname + \"&password=\" + encodeURIComponent(password);\r\n    } else {\r\n      url = \"/websimulator/json?url=\" + url;\r\n      data = {\r\n        method: \"POST\",\r\n        body: \"username=\" + uname + \"&password=\" + encodeURIComponent(password)\r\n      };\r\n    }\r\n    var authUrl = url;\r\n    var authData = data;\r\n    $rootScope.generateST = function(tgt, service, callback) {\r\n      //Bypassing the ST as there is no service ticket required here..\r\n      callback(tgt);\r\n    };\r\n\r\n\r\n    $rootScope.authD2L = function() {\r\n      $.blockUI();\r\n      try {\r\n        var appId = \"g0RdJsRJOxuveh3Y6cz-hw\";\r\n        var appKey = \"CSzfg5Fzsm2ihHLz4LoeJw\";\r\n        var host = \"https://cctechtest.desire2learn.com\";\r\n        var port = \"443\";\r\n        var callback = \"https://apitesttool.desire2learnvalence.com/\";\r\n        var appContext = new D2L.ApplicationContext('localhost', appId, appKey);\r\n        var d2lData = \"host=cctechtest.desire2learn.com&port=443&appId=\" + appId + \"&appKey=\" + appKey + \"&username=\" + uname + \"&password=\" + password;\r\n        var d2lAuthUrl = \"https://kryptosda.kryptosmobile.com/oauthadapter/d2l/authenticate\";\r\n\r\n\r\n\r\n        /*var appId = \"xI-RAA5l90h12JAqgNOyeg\";\r\n        var appKey = \"QsHzfQWyEB2G9oYmNqKnHw\";\r\n        var host = \"https://calu.desire2learn.com\";\r\n        var port = \"443\";\r\n        var callback = \"https://apitesttool.desire2learnvalence.com/\";\r\n        var appContext = new D2L.ApplicationContext('localhost', appId, appKey);\r\n        var d2lData = \"host=https://cctech.desire2learn.com&port=443&appId=\" + appId + \"&appKey=\" + appKey + \"&username=\" + uname + \"&password=\" + password;\r\n        var d2lAuthUrl = \"https://kryptosda.kryptosmobile.com/oauthadapter/d2l/authenticate\";*/\r\n\r\n        $rootScope.ValenceGetAPI = function(endpoint, callback) {\r\n          $.blockUI();\r\n          var userId = $rootScope.vuid;\r\n          var userKey = $rootScope.vukey;\r\n\r\n          var userContext = appContext.createUserContextWithValues(host, port, userId, userKey);\r\n          var url = userContext.createUrlForAuthentication(endpoint, \"GET\");\r\n          //alert(\"URL : \" + url);\r\n          $http({\r\n            method: \"GET\",\r\n            url: url,\r\n            data: {}\r\n          }).\r\n          success(function(data, status, headers, config) {\r\n            $.unblockUI();\r\n            console.log('D2L Logs = ' + JSON.stringify(data));\r\n            callback(data, status, headers, config);\r\n          }).\r\n          error(function(data, status, headers, config) {\r\n            $.unblockUI();\r\n            //alert(\"Error \" + data);\r\n          });\r\n\r\n        };\r\n\r\n        $rootScope.ValencePostAPI = function(endpoint, data, callback) {\r\n          $.blockUI();\r\n          var userId = $rootScope.vuid;\r\n          var userKey = $rootScope.vukey;\r\n          //alert(\"User Id : \" + userId);\r\n          //alert(\"User key : \" + userKey);\r\n          var userContext = appContext.createUserContextWithValues(host, port, userId, userKey);\r\n          var url = userContext.createUrlForAuthentication(endpoint, \"POST\");\r\n          //alert(\"URL : \" + url);\r\n          $http({\r\n            method: \"POST\",\r\n            url: url,\r\n            data: data\r\n          }).\r\n          success(function(data, status, headers, config) {\r\n            $.unblockUI();\r\n            callback(data, status, headers, config);\r\n          }).\r\n          error(function(data, status, headers, config) {\r\n            $.unblockUI();\r\n            //alert(\"Error \" + data);\r\n          });\r\n\r\n        };\r\n\r\n        $rootScope.ValencePutAPI = function(endpoint, data, callback) {\r\n          $.blockUI();\r\n          var userId = $rootScope.vuid;\r\n          var userKey = $rootScope.vukey;\r\n          //alert(\"User Id : \" + userId);\r\n          //alert(\"User key : \" + userKey);\r\n          var userContext = appContext.createUserContextWithValues(host, port, userId, userKey);\r\n          var url = userContext.createUrlForAuthentication(endpoint, \"PUT\");\r\n          //alert(\"URL : \" + url);\r\n          $http({\r\n            method: \"PUT\",\r\n            url: url,\r\n            data: data\r\n          }).\r\n          success(function(data, status, headers, config) {\r\n            $.unblockUI();\r\n            callback(data, status, headers, config);\r\n          }).\r\n          error(function(data, status, headers, config) {\r\n            $.unblockUI();\r\n            //alert(\"Error \" + data);\r\n          });\r\n\r\n        };\r\n\r\n        $rootScope.ValenceDeleteAPI = function(endpoint, callback) {\r\n          $.blockUI();\r\n          var userId = $rootScope.vuid;\r\n          var userKey = $rootScope.vukey;\r\n          //alert(\"User Id : \" + userId);\r\n          //alert(\"User key : \" + userKey);\r\n          var userContext = appContext.createUserContextWithValues(host, port, userId, userKey);\r\n          var url = userContext.createUrlForAuthentication(endpoint, \"DELETE\");\r\n          //alert(\"URL : \" + url);\r\n          $http({\r\n            method: \"DELETE\",\r\n            url: url,\r\n            data: {}\r\n          }).\r\n          success(function(data, status, headers, config) {\r\n            $.unblockUI();\r\n            callback(data, status, headers, config);\r\n          }).\r\n          error(function(data, status, headers, config) {\r\n            $.unblockUI();\r\n            //alert(\"Error \" + data);\r\n          });\r\n\r\n        };\r\n\r\n        var urlParam = function(name, url) {\r\n          var results = new RegExp('[\\?&]' + name + '=([^&#]*)').exec(url);\r\n          if (results == null) {\r\n            return null;\r\n          } else {\r\n            return results[1] || 0;\r\n          }\r\n        }\r\n\r\n        var url = appContext.createUrlForAuthentication(host, port, callback);\r\n        var d2lreq = {\r\n          method: 'POST',\r\n          url: d2lAuthUrl,\r\n          headers: {\r\n            'Content-Type': 'application/x-www-form-urlencoded'\r\n          },\r\n          data: d2lData\r\n        }\r\n        $http(d2lreq).\r\n        success(function(data, status, headers, config) {\r\n          $.unblockUI();\r\n          $rootScope.vuid = data.userId;\r\n          $rootScope.vukey = data.userKey;\r\n          $rootScope.valenceToken = data.userKey + \"_\" + data.userId;\r\n\r\n          var droles = $.jStorage.get(\"userroles\");\r\n          if (!droles) {\r\n            droles = []\r\n          }\r\n          droles.push(\"D2LSTUDENT\");\r\n          $rootScope.userroles = droles;\r\n          $.jStorage.set(\"userroles\", droles);\r\n          window.location.href = \"index.html#home\";\r\n          /*$scope.$apply();\r\n          window.location.href = \"index.html#home\";\r\n          $scope.$apply();\r\n          $route.reload();\r\n          window.location.href = \"index.html#home\";\r\n          $rootScope.$apply(function() {\r\n            $location.path(\"/home\");\r\n          });*/\r\n        }).\r\n        error(function(data, status, headers, config) {\r\n          $.unblockUI();\r\n        });\r\n\r\n        return;\r\n        /*        var launchurl = url;\r\n\r\n                var iabRef = window.open(launchurl, \"_blank\", \"location=yes,hidden=yes,clearcache=yes\");\r\n                var iabClose = function(data) {\r\n                  window.location.href = \"index.html#home\";\r\n                };\r\n                iabRef.addEventListener(\"exit\", iabClose);\r\n                var username = $.jStorage.get(\"username\");\r\n                var password = $.jStorage.get(\"password\");\r\n\r\n                alert(uname + \" - \" + password);\r\n                var cd = \"try { document.getElementById('userName').value = '\" + username + \"';document.getElementById('password').value = '\" + password + \"';}catch(e) {} document.getElementsByClassName('d2l-button')[0].click();\";\r\n                if (window.device) {\r\n                  navigator.notification.alert(\"D2L Authentication in progress\");\r\n                } else {\r\n                  alert(\"D2L Authentication in progress\");\r\n                }\r\n                var cb = function(data) {};\r\n                var loadStart = function(data) {\r\n                  if (data.url.indexOf(\"BAD_CREDENTIALS\") != -1) {\r\n                    $.unblockUI();\r\n                    //alert (\"Bad credentials\");\r\n                    iabRef.close();\r\n                    if (window.device) {\r\n                      navigator.notification.alert(\"Your Banner and D2L credentials seems to be different. Cant login to D2L.\");\r\n                    } else {\r\n                      alert(\"Your Banner and D2L credentials seems to be different. Cant login to D2L.\");\r\n                    }\r\n                  }\r\n                }\r\n                var loadStop = function(data) {\r\n                  iabRef.executeScript({\r\n                    code: cd\r\n                  }, cb);\r\n\r\n                  alert(\"in loadstop, url=\" + data.url);\r\n                  if (data.url.indexOf(\"x_c\") != -1) {\r\n                    //alert (\"Login Success\");\r\n                    $.unblockUI();\r\n                    $rootScope.vuid = urlParam(\"x_a\", data.url);\r\n                    $rootScope.vukey = urlParam(\"x_b\", data.url);\r\n                    $rootScope.valenceToken = urlParam(\"x_c\", data.url);\r\n                    //alert($rootScope.userroles);\r\n                    var vroles = $.jStorage.get(\"userroles\");\r\n                    if (!vroles) {\r\n                      vroles = []\r\n                    }\r\n                    //alert(vroles);\r\n                    vroles.push(\"D2LSTUDENT\");\r\n                    $rootScope.userroles = vroles;\r\n                    $.jStorage.set(\"userroles\", vroles);\r\n                    //alert(\"* \"+$rootScope.userroles);\r\n                    //alert (urlParam(\"x_c\", data.url));\r\n                    //alert(data.url);\r\n                    //alert(urlParam(\"x_c\", data.url));                \r\n\r\n                    iabRef.close();\r\n                    if (window.device) {\r\n                      navigator.notification.alert(\"D2L logged in successfully !\");\r\n                    } else {\r\n                      alert(\"D2L logged in successfully !\");\r\n                    }\r\n                  }\r\n                };\r\n\r\n                iabRef.addEventListener(\"loadstart\", loadStart);\r\n                iabRef.addEventListener(\"loadstop\", loadStop);\r\n\r\n                var iabClose = function(data) {\r\n                  //$location.path(\"/home\");\r\n                  iabRef.removeEventListener(\"exit\", iabClose);\r\n                };\r\n                iabRef.addEventListener(\"exit\", iabClose);*/\r\n\r\n\r\n      } catch (Ex) {\r\n        alert(Ex);\r\n      }\r\n    }\r\n\r\n\r\n    $rootScope.postAPI = function(endpoint, postdata, callback) {\r\n      $.blockUI({\r\n        message: '<div id=\"floatingBarsG\"><div class=\"blockG\" id=\"rotateG_01\"><\/div><div class=\"blockG\" id=\"rotateG_02\"><\/div><div class=\"blockG\" id=\"rotateG_03\"><\/div><div class=\"blockG\" id=\"rotateG_04\"><\/div><div class=\"blockG\" id=\"rotateG_05\"><\/div><div class=\"blockG\" id=\"rotateG_06\"><\/div><div class=\"blockG\" id=\"rotateG_07\"><\/div><div class=\"blockG\" id=\"rotateG_08\"><\/div><\/div><div><\/div>'\r\n      });\r\n      $rootScope.generateST($rootScope.ticket, endpoint, function(st) {\r\n        var serviceurl = $rootScope.middlewareServerUrl + \"/services/student\" + endpoint + \"?ticket=\" + st;\r\n        var url = \"\";\r\n        var proxyMethod = \"POST\";\r\n        var proxyData = postdata;\r\n        if (window.device) {\r\n          url = serviceurl;\r\n        } else {\r\n          url = \"/websimulator/json?url=\" + serviceurl;\r\n          proxyMethod = \"POST\";\r\n          proxyData = {\r\n            method: \"POST\",\r\n            body: postdata\r\n          }\r\n        }\r\n        $http({\r\n          method: proxyMethod,\r\n          url: url,\r\n          data: proxyData\r\n        }).\r\n        success(function(data, status, headers, config) {\r\n          $.unblockUI();\r\n          callback(data, status, headers, config);\r\n        }).\r\n        error(function(data, status, headers, config) {\r\n          //$.unblockUI();\r\n          //alert(\"Error in service call : \" + data + \" Status : \" + status);\r\n          if (status == 403) { //Ticket expired.. need to relogin\r\n            $http.post(authUrl, authData).success(function(data, status, headers, config) {\r\n\r\n              if (!data.error) {\r\n                $rootScope.ticket = data.ticket;\r\n                $rootScope.getAPI(\"/banneruserroles\", function(roles) {\r\n                  if (roles && roles.getuserroles && roles.getuserroles[0]) {\r\n                    var uroles = [];\r\n                    if (roles.getuserroles[0].STUDENT == \"Y\") {\r\n                      uroles.push(\"STUDENT\");\r\n                    }\r\n                    if (roles.getuserroles[0].EMPLOYEE == \"Y\") {\r\n                      uroles.push(\"EMPLOYEE\");\r\n                    }\r\n                    if (roles.getuserroles[0].FACULTY == \"Y\") {\r\n                      uroles.push(\"FACULTY\");\r\n                    }\r\n                    if (roles.getuserroles[0].GOVROLE_ALUMNI_IND == \"Y\") {\r\n                      uroles.push(\"ALUMNI\");\r\n                    }\r\n                    if (roles.getuserroles[0].GOVROLE_FINANCE_IND == \"Y\") {\r\n                      uroles.push(\"FINANCE\");\r\n                    }\r\n                    if (roles.getuserroles[0].FINAID == \"Y\") {\r\n                      uroles.push(\"FINAID\");\r\n                    }\r\n                    data.roles = uroles;\r\n                  }\r\n                  console.log(data);\r\n                  authSuccess(data);\r\n                });\r\n\r\n              } else {\r\n                authSuccess(data);\r\n              }\r\n              //authSuccess(data);\r\n              $rootScope.postAPI(endpoint, postdata, callback);\r\n            }).error(function(data, status, headers, config) {\r\n              authError(data);\r\n\r\n            });\r\n          }\r\n\r\n        });\r\n\r\n      });\r\n\r\n    };\r\n\r\n    $rootScope.getAPI = function(endpoint, callback) {\r\n      $.blockUI({\r\n        message: '<div id=\"floatingBarsG\"><div class=\"blockG\" id=\"rotateG_01\"><\/div><div class=\"blockG\" id=\"rotateG_02\"><\/div><div class=\"blockG\" id=\"rotateG_03\"><\/div><div class=\"blockG\" id=\"rotateG_04\"><\/div><div class=\"blockG\" id=\"rotateG_05\"><\/div><div class=\"blockG\" id=\"rotateG_06\"><\/div><div class=\"blockG\" id=\"rotateG_07\"><\/div><div class=\"blockG\" id=\"rotateG_08\"><\/div><\/div><div><\/div>'\r\n      });\r\n\r\n      $rootScope.generateST($rootScope.ticket, endpoint, function(st) {\r\n        var serviceurl = $rootScope.middlewareServerUrl + \"/services/student\" + endpoint + \"?ticket=\" + st;\r\n        var url = \"\";\r\n        var proxyMethod = \"GET\";\r\n        var proxyData = {};\r\n        if (window.device) {\r\n          url = serviceurl;\r\n        } else {\r\n          url = \"/websimulator/json?url=\" + encodeURIComponent(serviceurl);\r\n          proxyMethod = \"POST\";\r\n          proxyData = {\r\n            method: \"GET\"\r\n          }\r\n        }\r\n        $http({\r\n          method: proxyMethod,\r\n          url: url,\r\n          data: proxyData\r\n        }).\r\n        success(function(data, status, headers, config) {\r\n          $.unblockUI();\r\n          callback(data, status, headers, config);\r\n        }).\r\n        error(function(data, status, headers, config) {\r\n          //$.unblockUI();\r\n          //alert(\"Error in service call : \" + data + \" Status : \" + status);\r\n          if (status == 403) { //Ticket expired.. need to relogin\r\n            $http.post(authUrl, authData).success(function(data, status, headers, config) {\r\n\r\n              if (!data.error) {\r\n                $rootScope.ticket = data.ticket;\r\n                $rootScope.getAPI(\"/banneruserroles\", function(roles) {\r\n                  if (roles && roles.getuserroles && roles.getuserroles[0]) {\r\n                    var uroles = [];\r\n                    if (roles.getuserroles[0].GOVROLE_STUDENT_IND == \"Y\") {\r\n                      uroles.push(\"STUDENT\");\r\n                    }\r\n                    if (roles.getuserroles[0].GOVROLE_EMPLOYEE_IND == \"Y\") {\r\n                      uroles.push(\"EMPLOYEE\");\r\n                    }\r\n                    if (roles.getuserroles[0].GOVROLE_FACULTY_IND == \"Y\") {\r\n                      uroles.push(\"FACULTY\");\r\n                    }\r\n                    if (roles.getuserroles[0].GOVROLE_ALUMNI_IND == \"Y\") {\r\n                      uroles.push(\"ALUMNI\");\r\n                    }\r\n                    if (roles.getuserroles[0].GOVROLE_FINANCE_IND == \"Y\") {\r\n                      uroles.push(\"FINANCE\");\r\n                    }\r\n                    if (roles.getuserroles[0].GOVROLE_FINAID_IND == \"Y\") {\r\n                      uroles.push(\"FINAID\");\r\n                    }\r\n                    data.roles = uroles;\r\n                  }\r\n                  console.log(data);\r\n                  authSuccess(data);\r\n                });\r\n\r\n              } else {\r\n                authSuccess(data);\r\n              }\r\n              //authSuccess(data);\r\n              $rootScope.getAPI(endpoint, callback);\r\n            }).error(function(data, status, headers, config) {\r\n              authError(data);\r\n\r\n            });\r\n          }\r\n          $.unblockUI();\r\n        });\r\n\r\n      });\r\n\r\n    };\r\n\r\n\r\n\r\n    $.blockUI({\r\n      message: '<div id=\"floatingBarsG\"><div class=\"blockG\" id=\"rotateG_01\"><\/div><div class=\"blockG\" id=\"rotateG_02\"><\/div><div class=\"blockG\" id=\"rotateG_03\"><\/div><div class=\"blockG\" id=\"rotateG_04\"><\/div><div class=\"blockG\" id=\"rotateG_05\"><\/div><div class=\"blockG\" id=\"rotateG_06\"><\/div><div class=\"blockG\" id=\"rotateG_07\"><\/div><div class=\"blockG\" id=\"rotateG_08\"><\/div><\/div><div><h3 style=\"color:#fff;\">Authenticating<\/h3><\/div>'\r\n    });\r\n    $http.post(url, data).success(function(data, status, headers, config) {\r\n\r\n      if (!data.error) {\r\n        $rootScope.ticket = data.ticket;\r\n        $.blockUI();\r\n        $rootScope.getAPI(\"/banneruserroles\", function(roles) {\r\n          /* if(roles.error){\r\n               if(window.device) {\r\n                 navigator.notification.alert(roles.error);success(data);\r\n                 $.unblockUI();\r\n                 $rootScope.authD2L();\r\n               }\r\n               else {\r\n                 alert(roles.error);success(data);\r\n                 $.unblockUI();\r\n                 $rootScope.authD2L();\r\n                 }\r\n               }*/\r\n          if (roles && roles.getuserroles && roles.getuserroles[0]) {\r\n            var uroles = [];\r\n            if (roles.getuserroles[0].GOVROLE_STUDENT_IND == \"Y\") {\r\n              uroles.push(\"STUDENT\");\r\n            }\r\n            if (roles.getuserroles[0].GOVROLE_EMPLOYEE_IND == \"Y\") {\r\n              uroles.push(\"EMPLOYEE\");\r\n            }\r\n            if (roles.getuserroles[0].GOVROLE_FACULTY_IND == \"Y\") {\r\n              uroles.push(\"FACULTY\");\r\n            }\r\n            if (roles.getuserroles[0].ALUMNI == \"Y\") {\r\n              uroles.push(\"ALUMNI\");\r\n            }\r\n            if (roles.getuserroles[0].GOVROLE_FINANCE_IND == \"Y\") {\r\n              uroles.push(\"FINANCE\");\r\n            }\r\n            if (roles.getuserroles[0].GOVROLE_FINAID_IND == \"Y\") {\r\n              uroles.push(\"FINAID\");\r\n            }\r\n            data.roles = uroles;\r\n          }\r\n          console.log(data);\r\n          success(data);\r\n          $.unblockUI();\r\n          $rootScope.authD2L();\r\n        });\r\n\r\n      } else {\r\n        success(data);\r\n        $.unblockUI();\r\n      }\r\n\r\n    }).error(function(data, status, headers, config) {\r\n      error(data);\r\n      $.unblockUI();\r\n    });\r\n\r\n  } catch (e) {\r\n    // alert(\"Exception : \" + e);\r\n  }\r\n}",
  "forgotPasswordUrl": "https://ssotest.cctech.edu/cas/login?execution=e1s1&_eventId=forgotPassword",
  "reportissueEmail": "publicrelationsoffice@cctech.edu",
  "iconWidth": 70,
  "apps": 
  [
    {
      "id": 77921,
      "name": "Email62",
      "displayname": "Email",
      "logo": "CCTC/Email62.png",
      "logourl": "CCTC/Email62.png",
      "description": "Email",
      "appFeatureType": "Banner",
      "roles": "STUDENT",
      "showInDock": false,
      "showInHome": true,
      "networkrequired": true,
      "analytics": false,
      "pages": 
      [
        {
          "pageid": "Email62",
          "pageTemplate": "<div><\/div>",
          "pageprocessor": "function pageprocessorEmail62(pagedef, $scope, $routeParams, $compile, $http, $rootScope, $sce, $window, $location) {\r\n  $.blockUI();\r\n  var emailUrl = pagedef.url;\r\n  var iabRef = window.open(emailUrl, \"_blank\", \"location=no,hidden=yes,clearsessioncache=yes,clearcache=yes,enableViewportScale=yes,hardwareback=no\");\r\n\r\n  var iabClose = function(data) {\r\n    $.unblockUI();\r\n    //window.location.href = \"index.html#home\";\r\n  };\r\n  iabRef.addEventListener(\"exit\", iabClose);\r\n  var hideBlockUi = function() {\r\n    iabRef.show();\r\n    $.unblockUI();\r\n  };\r\n\r\n  var username = ($.jStorage.get(\"username\")).trim();\r\n  var password = $.jStorage.get(\"password\");\r\n  var cd = \"document.getElementById('username').value = '\" + username + \"';document.getElementById('password').value = '\" + password + \"';document.getElementsByClassName('btn-submit')[0].click();\";\r\n  var cb = function(data) {};\r\n  var loadStop = function(data) {\r\n    iabRef.executeScript({\r\n      code: cd\r\n    }, cb);\r\n    if (data.url.indexOf(\"mail.google.com/mail/mu\") != -1) {\r\n\r\n      setTimeout(hideBlockUi, 2000);\r\n\r\n      iabRef.removeEventListener(\"loadstop\", loadStop);\r\n    }\r\n  };\r\n  iabRef.addEventListener(\"loadstop\", loadStop);\r\n  $location.path(\"/home\");\r\n}",
          "url": "https://mail.google.com/a/mycctc.cctech.edu"
        }
      ]
    },
    {
      "id": 56578,
      "name": "D2LLogin",
      "displayname": "D2L Login",
      "logo": "CCTC/D2LLogin.png",
      "logourl": "CCTC/D2LLogin.png",
      "description": "D2L Login",
      "appFeatureType": "Desire2Learn",
      "roles": null,
      "showInDock": false,
      "showInHome": false,
      "networkrequired": true,
      "analytics": false,
      "pages": 
      [
        {
          "pageid": "D2LLogin",
          "pageTemplate": "<div><\/div>",
          "url": "/",
          "pageprocessor": "function pageprocessorD2LLogin(pagedef, $scope, $routeParams, $compile, $http, $rootScope, $sce, $window, $location) {\r\n  try {\r\n    var appId = \"x9Fkkl0fStgIi1srnksg_g\";\r\n    var appKey = \"Uw9odmKljvjxQrwScVA2EQ\";\r\n    var host = \"https://cctechtest.desire2learn.com\";\r\n    var port = \"443\";\r\n    var callback = \"https://apitesttool.desire2learnvalence.com/\";\r\n    var appContext = new D2L.ApplicationContext('localhost', appId, appKey);\r\n\r\n    $rootScope.ValenceGetAPI = function(endpoint, callback) {\r\n      $.blockUI();\r\n      var userId = $rootScope.vuid;\r\n      var userKey = $rootScope.vukey;\r\n      //alert(\"User Id : \" + userId);\r\n      //alert(\"User key : \" + userKey);\r\n      var userContext = appContext.createUserContextWithValues(host, port, userId, userKey);\r\n      var url = userContext.createUrlForAuthentication(endpoint, \"GET\");\r\n      //alert(\"URL : \" + url);\r\n      $http({\r\n        method: \"GET\",\r\n        url: url,\r\n        data: {}\r\n      }).\r\n      success(function(data, status, headers, config) {\r\n        $.unblockUI();\r\n        console.log(\"D2l logs = \" + JSON.stringify(data));\r\n        callback(data, status, headers, config);\r\n      }).\r\n      error(function(data, status, headers, config) {\r\n        $.unblockUI();\r\n        console.log(data);\r\n        //alert(\"Error \" + data);\r\n      });\r\n\r\n    };\r\n\r\n    $rootScope.ValencePostAPI = function(endpoint, data, callback) {\r\n      $.blockUI();\r\n      var userId = $rootScope.vuid;\r\n      var userKey = $rootScope.vukey;\r\n      //alert(\"User Id : \" + userId);\r\n      //alert(\"User key : \" + userKey);\r\n      var userContext = appContext.createUserContextWithValues(host, port, userId, userKey);\r\n      var url = userContext.createUrlForAuthentication(endpoint, \"POST\");\r\n      //alert(\"URL : \" + url);\r\n      $http({\r\n        method: \"POST\",\r\n        url: url,\r\n        data: data\r\n      }).\r\n      success(function(data, status, headers, config) {\r\n        $.unblockUI();\r\n        callback(data, status, headers, config);\r\n      }).\r\n      error(function(data, status, headers, config) {\r\n        $.unblockUI();\r\n        console.log(data);\r\n        //alert(\"Error \" + data);\r\n      });\r\n\r\n    };\r\n\r\n    $rootScope.ValencePutAPI = function(endpoint, data, callback) {\r\n      $.blockUI();\r\n      var userId = $rootScope.vuid;\r\n      var userKey = $rootScope.vukey;\r\n      //alert(\"User Id : \" + userId);\r\n      //alert(\"User key : \" + userKey);\r\n      var userContext = appContext.createUserContextWithValues(host, port, userId, userKey);\r\n      var url = userContext.createUrlForAuthentication(endpoint, \"PUT\");\r\n      //alert(\"URL : \" + url);\r\n      $http({\r\n        method: \"PUT\",\r\n        url: url,\r\n        data: data\r\n      }).\r\n      success(function(data, status, headers, config) {\r\n        $.unblockUI();\r\n        callback(data, status, headers, config);\r\n      }).\r\n      error(function(data, status, headers, config) {\r\n        $.unblockUI();\r\n        console.log(data);\r\n        //alert(\"Error \" + data);\r\n      });\r\n\r\n    };\r\n\r\n    $rootScope.ValenceDeleteAPI = function(endpoint, callback) {\r\n      $.blockUI();\r\n      var userId = $rootScope.vuid;\r\n      var userKey = $rootScope.vukey;\r\n      //alert(\"User Id : \" + userId);\r\n      //alert(\"User key : \" + userKey);\r\n      var userContext = appContext.createUserContextWithValues(host, port, userId, userKey);\r\n      var url = userContext.createUrlForAuthentication(endpoint, \"DELETE\");\r\n      //alert(\"URL : \" + url);\r\n      $http({\r\n        method: \"DELETE\",\r\n        url: url,\r\n        data: {}\r\n      }).\r\n      success(function(data, status, headers, config) {\r\n        $.unblockUI();\r\n        callback(data, status, headers, config);\r\n      }).\r\n      error(function(data, status, headers, config) {\r\n        $.unblockUI();\r\n        console.log(data);\r\n        //alert(\"Error \" + data);\r\n      });\r\n\r\n    };\r\n\r\n\r\n    if ($rootScope.valenceToken) {\r\n      if (window.device) {\r\n        navigator.notification.alert(\"You are already authenticated to D2L applications.\", null, \"D2L Login\", null);\r\n      } else {\r\n        apprise(\"You are already authenticated to D2L applications.\", {\r\n          'verify': false,\r\n          'textYes': \"Ok\"\r\n        }, function(r) {\r\n\r\n        });\r\n      }\r\n      $location.path(\"/home\");\r\n      return;\r\n    }\r\n\r\n    var urlParam = function(name, url) {\r\n      var results = new RegExp('[\\?&]' + name + '=([^&#]*)').exec(url);\r\n      if (results == null) {\r\n        return null;\r\n      } else {\r\n        return results[1] || 0;\r\n      }\r\n    }\r\n\r\n    var url = appContext.createUrlForAuthentication(host, port, callback);\r\n    var launchurl = url;\r\n\r\n    var iabRef = window.open(launchurl, \"_blank\", \"location=yes,hidden=no,clearcache=yes\");\r\n    var iabClose = function(data) {\r\n      window.location.href = \"index.html#home\";\r\n    };\r\n    iabRef.addEventListener(\"exit\", iabClose);\r\n    var username = $.jStorage.get(\"username\");\r\n    var password = $.jStorage.get(\"password\");\r\n    alert(username);\r\n    //var username =\"920065098\";  // \"920065098\";\r\n    //var pwd = \"Zuko041895\";  // \"Zuko041895\";\r\n    var cd = \"try { document.getElementById('userName').value = '\" + username + \"';document.getElementById('password').value = '\" + password + \"';}catch(e) {} document.getElementsByClassName('d2l-button')[0].click();\";\r\n    //alert(\"before execution\");\r\n\r\n    var cb = function(data) {};\r\n    var loadStop = function(data) {\r\n      iabRef.executeScript({\r\n        code: cd\r\n      }, cb);\r\n\r\n      if (data.url.indexOf(\"BAD_CREDENTIALS\") != -1) {\r\n        $.unblockUI();\r\n        alert(\"Bad credentials\");\r\n        /*authSuccess({\r\n            \"error\": \"Invalid Credentials\"\r\n        });*/\r\n        iabRef.close();\r\n      }\r\n      if (data.url.indexOf(\"x_c\") != -1) {\r\n        //alert (\"Login Success\");\r\n        $.unblockUI();\r\n        $rootScope.vuid = urlParam(\"x_a\", data.url);\r\n        $rootScope.vukey = urlParam(\"x_b\", data.url);\r\n        $rootScope.valenceToken = urlParam(\"x_c\", data.url);\r\n        //alert (urlParam(\"x_c\", data.url));\r\n        //alert(data.url);\r\n        //alert(urlParam(\"x_c\", data.url));                \r\n        /*authSuccess({\r\n            \"ticket\": urlParam(\"x_c\", data.url)\r\n        });*/\r\n\r\n        iabRef.close();\r\n      }\r\n    };\r\n    iabRef.addEventListener(\"loadstop\", loadStop);\r\n\r\n\r\n    var iabClose = function(data) {\r\n      //$location.path(\"/home\");\r\n      iabRef.removeEventListener(\"exit\", iabClose);\r\n    };\r\n    iabRef.addEventListener(\"exit\", iabClose);\r\n\r\n\r\n  } catch (Ex) {\r\n    alert(Ex);\r\n  }\r\n}"
        }
      ]
    },
    {
      "id": 56581,
      "name": "CourseList",
      "displayname": "Courses",
      "logo": "CCTC/CourseList.png",
      "logourl": "CCTC/CourseList.png",
      "description": "Course List",
      "appFeatureType": "Desire2Learn",
      "roles": "D2LSTUDENT",
      "showInDock": false,
      "showInHome": false,
      "networkrequired": true,
      "analytics": false,
      "pages": 
      [
        {
          "pageid": "CourseList",
          "pageTemplate": "<div><\/div>",
          "datatemplate": "<style>\r\n  #appContent {\r\n    height: 100%;\r\n    width: 100%;\r\n    background: #fff;\r\n  }\r\n  \r\n  .text-3D {\r\n    text-shadow: #333333 2px 2px;\r\n    font-family: Calibri, Arial;\r\n    font-size: 1.3em;\r\n  }\r\n<\/style>\r\n<div style=\"background:#213445;height:110px;width:100%;padding:1em;color:#fff;\">\r\n  <div style=\"position:absolute;opacity:0.4;\">\r\n    <i class=\"fa fa-file-text-o fa-4x\"><\/i>\r\n  <\/div>\r\n  <div style=\"margin-left:4.5em;color:#fff\">\r\n    <h3 class=\"text-3D\"><b>Course List<\/b><\/h3>\r\n    <p style=\"color:#fff !important\">Select a course to see its course news, contents, classlist etc.<\/p>\r\n  <\/div>\r\n<\/div>\r\n<div class=\"list-group\">\r\n  <a class=\"list-group-item\" ng-repeat=\"course in courseslist\" style=\"min-height:4em;\" href=\"#app/CourseList/CourseListPage2?index={{$index}}\">\r\n    <div class=\"row clearfix\">\r\n      <div class=\"col-xs-10\">\r\n        <span class=\"\">\r\n                    {{course.OrgUnit.Name}}\r\n                <\/span>\r\n      <\/div>\r\n      <div class=\"col-xs-2\">\r\n        <i class=\"fa fa-chevron-right\" />\r\n      <\/div>\r\n    <\/div>\r\n  <\/a>\r\n<\/div>\r\n<div class=\"well hide\" style=\"background:transparent;border:none;\">\r\n  <div class=\"list-group\">\r\n    <div class=\"list-group-item\" ng-repeat=\"course in courseslist\" style=\"margin-bottom:10px;box-shadow:0 0 5px #000;\">\r\n      <a class=\"list-group-item active\" href=\"#app/CourseList/CourseListPage2?index={{$index}}\">\r\n        <h4>{{course.OrgUnit.Name}}<span class=\"pull-right fa fa-chevron-right\"><\/span><\/h4>\r\n      <\/a>\r\n      <p>Code: {{course.OrgUnit.Code}}\r\n        <br/>Start Dt: {{course.Access.StartDate}}\r\n        <br/>End Dt: {{course.Access.StartDate}}\r\n        <br/>Active : {{course.Access.IsActive}}\r\n      <\/p>\r\n    <\/div>\r\n  <\/div>\r\n<\/div>",
          "pageprocessor": "function pageprocessorCourseList(pagedef, $scope, $routeParams, $compile, $http, $rootScope, $sce, $window, $location) {\r\n    var data1 = $compile($(pagedef.datatemplate))($scope);\r\n    $(\"#appContent\").append(data1);\r\n\r\n    $rootScope.back = function() {\r\n        if ($routeParams.from) {\r\n\r\n            if (device.platform == 'iOS') {\r\n                history.go(-1);\r\n            } else {\r\n                navigator.app.backHistory();\r\n            }\r\n        } else {\r\n            window.location.href = \"index.html#home\";\r\n        }\r\n    }\r\n    \r\n    try {\r\n    if (!$rootScope.valenceToken) {\r\n            if (window.device) {\r\n                navigator.notification.alert(\"You may not be logged in to D2L or the session may got expired. Please login to D2L again.\", null, \"Holds\", null);\r\n            } else {\r\n                apprise(\"You may not be logged in to D2L or the session may got expired. Please login to D2L again.\", {\r\n                    'verify': false,\r\n                    'textYes': \"Ok\"\r\n                }, function (r) {\r\n                    \r\n                });\r\n            }            \r\n            $location.path(\"/home\");  \r\n            return;  \t\r\n    }\r\n    } catch (ex) {\r\n            if (window.device) {\r\n                navigator.notification.alert(\"You may not be logged in to D2L or the session may got expired. Please login to D2L again.\", null, \"Holds\", null);\r\n            } else {\r\n                apprise(\"You may not be logged in to D2L or the session may got expired. Please login to D2L again.\", {\r\n                    'verify': false,\r\n                    'textYes': \"Ok\"\r\n                }, function (r) {\r\n                    \r\n                });\r\n            }            \r\n            $location.path(\"/home\"); \r\n            return;\r\n    }\r\n\r\n\r\n\r\n    if ($rootScope.courseslist && $rootScope.courseslist.length > 0) {\r\n    \t//\r\n    } else {\r\n\t    $scope.courseslist = [];\r\n\t    $rootScope.courseslist = []; \r\n\t    $rootScope.ValenceGetAPI(pagedef.endpoint, function(data) {\r\n\r\n\r\n\t        var courseslist = [];\r\n\t        $.each(data.Items, function(i, val) {\r\n\t            //alert(\"Code : \" + val.OrgUnit.Type.Code);\r\n\t            if ((val.OrgUnit.Type.Code == \"Course Offering\") && (val.Access.IsActive) && (val.Access.CanAccess)  ) {\r\n\t                courseslist.push(val);\r\n\t            }\r\n\t        });\r\n\t        $scope.courseslist = courseslist;\r\n\t        $rootScope.courseslist = courseslist;\r\n\t    });\r\n\t}\t       \t\r\n    }\r\n",
          "endpoint": "/d2l/api/lp/1.0/enrollments/myenrollments/"
        },
        {
          "pageid": "CourseListPage2",
          "pageTemplate": "<div><\/div>",
          "pageprocessor": "function pageprocessorCourseListPage2(pagedef, $scope, $routeParams, $compile, $http, $rootScope, $sce, $window, $location) {\r\n  var data1 = $compile($(pagedef.datatemplate))($scope);\r\n  $(\"#appContent\").append(data1);\r\n  var course = $rootScope.courseslist[$routeParams.index];\r\n  $rootScope.FileData = \"\";\r\n\r\n  $scope.course = course;\r\n  var homepage = \"https://calu.desire2learn.com\";\r\n  var iabRef = \"\";\r\n\r\n  $scope.trusthtml = function(data) {\r\n    return $sce.trustAsHtml(data);\r\n  }\r\n\r\n  $scope.showFile = false;\r\n\r\n\r\n  $scope.fileDownload = function(fileUrl) {\r\n    $.blockUI();\r\n    var fileTransfer = new FileTransfer();\r\n    var uri = encodeURI(fileUrl);\r\n    //var store = cordova.file.dataDirectory;\r\n    var store = \"\";\r\n    if (device.platform == \"Android\") {\r\n      store = cordova.file.externalRootDirectory;\r\n    } else {\r\n      store = cordova.file.documentsDirectory;\r\n    }\r\n    //alert(\"root dir: \"+store);\r\n    var fileName = fileUrl.substr(fileUrl.lastIndexOf(\"/\") + 1);\r\n    try {\r\n      fileTransfer.download(\r\n        uri,\r\n        store + fileName,\r\n        function(entry) {\r\n          if (device.platform == \"Android\") {\r\n            window.open(entry.toURL(), '_system');\r\n          } else {\r\n            window.open(entry.toURL(), '_blank', \"location=no,enableViewportScale=yes\");\r\n            $.unblockUI();\r\n          }\r\n          return;\r\n          /*                                            try {\r\n                                                          handleDocumentWithURL(\r\n                                                              function() { \r\n                                                                  $.unblockUI(); \r\n                                                                  console.log('success'); \r\n                                                              },\r\n                                                              function(error) { \r\n                                                                  $.unblockUI();                      \r\n                                                                  alert('failure'+error); \r\n                                                                  if (error == 53) { \r\n                                                                      alert('No app that handles this file type.'); \r\n                                                                  } \r\n                                                              },\r\n                                                              entry.toURL()\r\n                                                          );\r\n                                                      } catch (readErr) {\r\n                                                          // Document cant be opened using the library, instead open in browser\r\n                                                          $.unblockUI();                      \r\n                                                          window.open(entry.toURL(), '_system');\r\n                                                      }                                               \r\n                                                      return;*/\r\n        },\r\n        function(error) {\r\n          $.unblockUI();\r\n          alert(\"Download error: \" + error.source);\r\n        },\r\n        false, {\r\n          headers: {\r\n            \"Authorization\": \"Basic dGVzdHVzZXJuYW1lOnRlc3RwYXNzd29yZA==\"\r\n          }\r\n        }\r\n      );\r\n    } catch (err) {\r\n      $.unblockUI();\r\n    }\r\n\r\n  }\r\n\r\n  $scope.openUrlInBrowser = function(urlToOpen, urlType) {\r\n    $.blockUI();\r\n    if (iabRef) {\r\n      iabRef = window.open(urlToOpen, \"_blank\", \"location=no,hidden=no,clearcache=no,enableViewportScale=yes\");\r\n      $.unblockUI();\r\n    } else {\r\n      iabRef = window.open(homepage, \"_blank\", \"location=yes,hidden=yes,clearcache=yes,enableViewportScale=yes\");\r\n      var iabClose = function(data) {\r\n        $.unblockUI();\r\n        //window.location.href = \"index.html#home\";\r\n      };\r\n      iabRef.addEventListener(\"exit\", iabClose);\r\n      var hideBlockUi = function() {\r\n        //iabRef.show();\r\n        $.unblockUI();\r\n        iabRef = window.open(urlToOpen, \"_blank\", \"location=no,hidden=no,clearcache=no,enableViewportScale=yes\");\r\n      };\r\n      var username = $.jStorage.get(\"username\");\r\n      var password = $.jStorage.get(\"password\");\r\n      var cd = \"try { document.getElementById('userName').value = '\" + username + \"';document.getElementById('password').value = '\" + password + \"';} catch(e) {} document.getElementsByClassName('d2l-button')[0].click();\";\r\n\r\n      var cb = function(data) {};\r\n      var loadStop = function(data) {\r\n        iabRef.executeScript({\r\n          code: cd\r\n        }, cb);\r\n        if (data.url.indexOf(\"login\") == -1) {\r\n          hideBlockUi();\r\n          //iabRef.close();\r\n          //iabRef = window.open(qlssourl, \"_blank\", \"location=yes,hidden=no,clearcache=no,enableViewportScale=yes\");\r\n        }\r\n      };\r\n      iabRef.addEventListener(\"loadstop\", loadStop);\r\n      iabRef.addEventListener('loaderror', function(event) {\r\n        $.unblockUI();\r\n        window.open(homepage, \"_blank\", \"location=yes,enableViewportScale=yes\");\r\n      });\r\n    }\r\n\r\n  }\r\n\r\n\r\n  $scope.updateNews = function(index, news) {\r\n    var item = \"news\" + index;\r\n    var eL = angular.element(document.getElementById(item));\r\n    if (eL.children().length == 0) {\r\n      eL.append(news.Body.Html);\r\n      angular.forEach(eL.find('a'), function(value, iterator, obj) {\r\n        var aEl = angular.element(value);\r\n        var tempHref = aEl.attr(\"href\");\r\n        aEl.bind('click', function(e) {\r\n          var vhref = e.srcElement.href;\r\n          if (vhref.indexOf(\"file://\") == -1) {\r\n            //Nothing\r\n            e.preventDefault();\r\n            e.stopPropagation();\r\n            var iabExtLink = window.open(vhref, \"_blank\", \"location=no,hidden=no,clearcache=no,enableViewportScale=yes\");\r\n          } else {\r\n            e.preventDefault();\r\n            e.stopPropagation();\r\n            //create a D2L session and show the URL\r\n            var linkUrl = homepage + vhref.replace(\"file://\", \"\");\r\n            $scope.openUrlInBrowser(linkUrl);\r\n            return;\r\n          }\r\n        });\r\n      });\r\n      angular.forEach(eL.find('img'), function(value, iterator, obj) {\r\n        var imgEl = angular.element(value);\r\n        var tempHref = imgEl.attr(\"src\");\r\n        imgEl.attr(\"src\", homepage + tempHref);\r\n      });\r\n    }\r\n    return \"\";\r\n  }\r\n\r\n\r\n  $rootScope.ValenceGetAPI(\"/d2l/api/le/1.0/\" + $scope.course.OrgUnit.Id + \"/news/\", function(data) {\r\n    $scope.coursenews = data;\r\n\r\n    $rootScope.ValenceGetAPI(\"/d2l/api/le/1.0/\" + $scope.course.OrgUnit.Id + \"/content/toc\", function(data1) {\r\n      $scope.content = data1;\r\n    });\r\n    $rootScope.ValenceGetAPI(\"/d2l/api/le/1.0/\" + $scope.course.OrgUnit.Id + \"/classlist/\", function(data1) {\r\n      $scope.classlist = data1;\r\n      //alert(JSON.stringify($scope.classlist));\r\n    });\r\n  });\r\n\r\n  $scope.downloadAttachment = function(topic) {\r\n    if (topic.TypeIdentifier == \"File\") {\r\n      if (topic.Url.indexOf(\".html\") != -1 || topic.Url.indexOf(\".htm\") != -1 || topic.Url.indexOf(\".jsp\") != -1) {\r\n        var linkUrl = homepage + topic.Url;\r\n        $scope.openUrlInBrowser(linkUrl);\r\n        return;\r\n      } else {\r\n        $scope.fileDownload(homepage + topic.Url);\r\n        /*                return;\r\n                          $.blockUI();\r\n                          handleDocumentWithURL(\r\n                            function() {\r\n                              $.unblockUI();\r\n                              //window.location.href = \"index.html#home\";\r\n                            },\r\n                            function(error) {\r\n                              if (error) {\r\n                                navigator.notification.alert('The link cannot be opened due to an unknown error.');\r\n                                $.unblockUI();\r\n                              }\r\n                            },\r\n                            \"https://d2l.nl.edu\" + topic.Url\r\n                          );  */\r\n      }\r\n    } else if (topic.TypeIdentifier == \"Link\") {\r\n      // Link\r\n\r\n      var vfound = false;\r\n      $rootScope.ValenceGetAPI(\"/d2l/api/le/1.3/\" + $scope.course.OrgUnit.Id + \"/discussions/forums/\", function(data) {\r\n        angular.forEach(data, function(value, key) {\r\n          if (topic.Title == value.Name) {\r\n            vfound = true;\r\n            return;\r\n          }\r\n        });\r\n        if (vfound) {\r\n          $rootScope.filterDiscussionItem = topic.Title;\r\n          $rootScope.course = $scope.course.OrgUnit.Id;\r\n          $location.path(\"/app/Discussions/Discussions\");\r\n        } else {\r\n          var linkUrl = homepage + topic.Url;\r\n          $scope.openUrlInBrowser(linkUrl);\r\n          return;\r\n        }\r\n      });\r\n\r\n\r\n    } else {\r\n      // Others\r\n    }\r\n\r\n  }\r\n\r\n\r\n\r\n  var dv = '<div style=\"background:#5d5d5b;height:110px;width:100%;padding:1em;color:#fff;border-bottom:1px solid #015F90;\"><div style=\"position:absolute;opacity:0.4;\">';\r\n  dv = dv + '<i class=\"fa fa-file-text-o fa-5x\"><\/i><\/div><div style=\"margin-left:4.5em;\"><h3 class=\"text-3D\" ><b>{{course.OrgUnit.Name}}<\/b><\/h3><\/div>';\r\n  dv = dv + '<\/div><div style=\"padding:0px;border-radius:0px;\"><div class=\"toolbar-top\"><div class=\"btn-group justified nav-tabs my-nav-tabs\">' +\r\n    '<a class=\"btn btn-default btn-top\" href=\"#Tab1\" toggle=\"on\" active-class=\"active\" active><i class=\"fa fa-file-text fa-2x\"><\/i><br/>News<\/a>' +\r\n    '<a class=\"btn btn-default btn-top\" href=\"#Tab2\" toggle=\"on\" active-class=\"active\"><i class=\"fa fa-list-alt fa-2x\"><\/i><br/>Content<\/a>' +\r\n    '<a class=\"btn btn-default btn-top\" href=\"#Tab3\" toggle=\"on\" active-class=\"active\"><i class=\"fa fa-users fa-2x\"><\/i><br/>Class List<\/a>' +\r\n    '<\/div> <\/div><\/div>';\r\n  $(\".app-content\").prepend($compile(dv)($scope));\r\n}",
          "datatemplate": "<style>\r\n  #appContent {\r\n    height: 100%;\r\n    width: 100%;\r\n    background: #fff;\r\n  }\r\n  \r\n  .toolbar-top {\r\n    margin: 0px;\r\n    min-height: 40px;\r\n  }\r\n  \r\n  .my-nav-tabs {\r\n    background: #002446;\r\n    color: #fff;\r\n  }\r\n  \r\n  .nav-tabs {\r\n    min-height: 4em;\r\n  }\r\n  \r\n  .btn-top {\r\n    border-radius: 0px !important;\r\n  }\r\n  \r\n  .btn-group.justified>.btn.active {\r\n    color: #fff !important;\r\n    background: #213445 !important;\r\n    border-bottom: 4px solid #c89844 !important;\r\n    border: none;\r\n  }\r\n  \r\n  .btn-selected {\r\n    color: #fff !important;\r\n    background: #213445 !important;\r\n    border-bottom: 4px solid #FCBA5E !important;\r\n    border: none;\r\n  }\r\n  \r\n  .list-group-item-top-header {\r\n    line-height: 1.2em;\r\n    background: #213445;\r\n    color: #fff;\r\n    font-size: 1.4em;\r\n    font-weight: bold;\r\n  }\r\n  \r\n  .list-group-item-header {\r\n    background: #e3e3e3;\r\n    line-height: 1.5em;\r\n    font-size: 1.1em;\r\n    font-weight: bold;\r\n  }\r\n  \r\n  .text-3D {\r\n    text-shadow: #333333 2px 2px;\r\n    font-family: Calibri, Arial;\r\n    font-size: 1.3em;\r\n  }\r\n  \r\n  #profile-img {\r\n    height: 100px;\r\n    width: 100px;\r\n  }\r\n  \r\n  .style-list-item {\r\n    text-decoration: underline;\r\n    cursor: pointer;\r\n  }\r\n<\/style>\r\n\r\n<div style=\"margin-top:-9px;\">\r\n  <div class=\"tab-content\">\r\n    <div class=\"tab-pane\" toggleable active-class=\"active\" default=\"active\" id=\"Tab1\" exclusion-group=\"myTabs\">\r\n      <div class=\"list-group\" style=\"margin-top:10px;overflow-x:hidden;\">\r\n        <div class=\"alert alert-warning\" ng-show=\"coursenews.length == 0\">\r\n          <strong>There is no news to display.<\/strong>\r\n        <\/div>\r\n        <div class=\"list-group-item\" ng-repeat=\"cn in coursenews\" style=\"overflow-wrap:break-word;word-wrap:break-word;\">\r\n          <h4 style=\"color:#333333 !important;\">{{cn.Title}}<\/h4>\r\n          <p>Posted&nbsp;{{cn.StartDate | date : 'medium'}}<\/p>\r\n          <!-- <p  ng-bind-html=\"trusthtml(cn.Body.Html)\"><\/p> -->\r\n          <p id=\"news{{$index}}\"><\/p>\r\n          {{updateNews($index,cn)}}\r\n        <\/div>\r\n      <\/div>\r\n    <\/div>\r\n    <div class=\"tab-pane\" toggleable active-class=\"active\" id=\"Tab2\" exclusion-group=\"myTabs\">\r\n      <div class=\"list-group\" style=\"margin-top:10px;overflow-x:hidden;\">\r\n        <div ng-repeat=\"topmodule in content.Modules\">\r\n          <div class=\"list-group-item list-group-item-top-header\">{{topmodule.Title}}<\/div>\r\n          <div ng-repeat=\"module in topmodule.Modules\">\r\n            <div class=\"list-group-item list-group-item-header\">{{module.Title}}<\/div>\r\n            <div ng-repeat=\"module1 in module.Modules\">\r\n              <div class=\"list-group-item list-group-item-header\">{{module1.Title}}<\/div>\r\n              <a class=\"list-group-item style-list-item\" ng-repeat=\"topic1 in module1.Topics\" ng-click=\"downloadAttachment(topic1)\">\r\n                <span style=\"color:#333333 !important;\">{{topic1.Title}}\r\n                                    <span class=\"pull-right fa fa-check\" style=\"color:green;\" ng-show=\"!topic1.Unread\"><\/span>\r\n                <\/span>\r\n              <\/a>\r\n            <\/div>\r\n            <a class=\"list-group-item style-list-item\" ng-repeat=\"topic in module.Topics\" ng-click=\"downloadAttachment(topic)\">\r\n              <span style=\"color:#333333 !important;\">{{topic.Title}}\r\n                                <span class=\"pull-right fa fa-check\" style=\"color:green;\" ng-show=\"!topic.Unread\"><\/span>\r\n              <\/span>\r\n            <\/a>\r\n          <\/div>\r\n          <a class=\"list-group-item style-list-item\" ng-repeat=\"mtopic in topmodule.Topics\" ng-click=\"downloadAttachment(mtopic)\">\r\n            <span style=\"color:#333333 !important;\">{{mtopic.Title}}<span class=\"pull-right fa fa-check\" style=\"color:green;\" ng-show=\"!mtopic.Unread\"><\/span><\/span>\r\n          <\/a>\r\n        <\/div>\r\n      <\/div>\r\n    <\/div>\r\n    <div class=\"tab-pane\" toggleable active-class=\"active\" id=\"Tab3\" exclusion-group=\"myTabs\">\r\n      <!-- <img id=\"profile-img\" ng-src=\"data:image/jpeg;base64,{{pimage}}\" /> -->\r\n      <div class=\"list-group\" style=\"margin-top:10px;\">\r\n        <div class=\"list-group-item\" ng-repeat=\"user in classlist\">\r\n          {{user.DisplayName}}\r\n          <!--<span class=\"pull-right fa fa-chevron-right\"><\/span>-->\r\n          <br/>\r\n          <span>{{user.Username}}<\/span>\r\n          <br/>\r\n          <a href=\"mailto:{{user.Email}}\">{{user.Email}}<\/a>\r\n        <\/div>\r\n      <\/div>\r\n    <\/div>\r\n  <\/div>\r\n<\/div>",
          "endpoint": ""
        },
        {
          "pageid": "CourseListPage3",
          "pageTemplate": "<div><\/div>",
          "pageprocessor": "function pageprocessorCourseListPage3(pagedef, $scope, $routeParams, $compile, $http, $rootScope, $sce, $window, $location) {\r\n    var data1 = $compile($(pagedef.datatemplate))($scope);\r\n    $(\"#appContent\").append(data1);\r\n\r\n    $scope.FileData= $rootScope.FileData;\r\n    $scope.trusthtml = function (data) {\r\n        return $sce.trustAsHtml(data);\r\n    }  \r\n\r\n    document.getElementById(\"viewport\").setAttribute('content','user-scalable=yes, width=device-width, initial-scale=1');\r\n}",
          "endpoint": "",
          "datatemplate": "<style>\r\n    #appContent {\r\n        height: 100%;\r\n        width: 100%;\r\n        background: #fff;\r\n        overflow-x: hidden;\r\n    }\r\n    h2,h3,h4,h5 {\r\n        color: #181D23 !important;\r\n    }\r\n<\/style>\r\n<div class=\"well clearfix\" style=\"overflow-x:auto;\">\r\n    <div class=\"list-group\" >\r\n        <div id=\"viewport\" ng-bind-html=\"trusthtml(FileData)\" ><\/div>\r\n        <div class=\"btn btn-primary\" ng-click=\"back()\">Close<\/div>\r\n    <\/div>\r\n<\/div>\r\n"
        }
      ]
    },
    {
      "id": 82285,
      "name": "D2LGrades",
      "displayname": "Grades",
      "logo": "CCTC/D2LGrades.png",
      "logourl": "CCTC/D2LGrades.png",
      "description": "D2L Grades",
      "appFeatureType": "Desire2Learn",
      "roles": "D2LSTUDENT",
      "showInDock": false,
      "showInHome": false,
      "networkrequired": true,
      "analytics": false,
      "pages": 
      [
        {
          "pageid": "D2LGrades",
          "pageTemplate": "<div><\/div>",
          "datatemplate": "<style>\r\n    #appContent {\r\n        height: 100%;\r\n        width: 100%;\r\n        background: #fff;\r\n        overflow-x: hidden;\r\n    }        \r\n<\/style>\r\n<div class=\"overflow-x:hidden;\">\r\n    <div class=\"list-group-item\" style=\"padding:15px;\">\r\n        <p style=\"font-family:Tahoma,Calibri,Arial;font-size: 1em;font-style: italic;\">Select a course to view the Grades for the selected course.<\/p>\r\n         <select ng-model=\"course\" class=\"form-control\" ng-change=\"courseselect(this.value);\">\r\n            <option value=\"\">-- Select a Course --<\/option>\r\n            <option ng-selected=\"course == course1.OrgUnit.Id\" value=\"{{course1.OrgUnit.Id}}\" ng-repeat=\"course1 in courseslist\">{{course1.OrgUnit.Name}}<\/option>\r\n        <\/select>   \r\n    <\/div>\r\n    <div ng-repeat=\"category in grades\">\r\n        <div class=\"list-group-item\" style=\"background: #e3e3e3;line-height: 1.5em;\" ng-hide=\"category.Id == 0\">\r\n            <h3>{{category.Name}}<\/h3>\r\n        <\/div>\r\n        <div class=\"list-group-item\" ng-repeat=\"grade in category.Grades\">\r\n            <span style=\"font-family:Camibri,Arial;font-size:1.3em;\">{{grade.Name}}<\/span> <\/br>\r\n            <span>Points:&nbsp;{{grade.gradevalue.PointsNumerator || \"-\"}} / {{grade.gradevalue.PointsDenominator || grade.MaxPoints}}<\/span>\r\n            <span class=\"pull-right badge\" >Grade:&nbsp;{{grade.gradevalue.DisplayedGrade || \"-%\"}}<\/span>\r\n        <\/div>\r\n    <\/div>\r\n    <div class=\"alert alert-danger\" ng-show=\"grades.length == 0\">No grades available<\/div>            \r\n\r\n<\/div>",
          "endpoint": "notDefined",
          "pageprocessor": "function pageprocessorD2LGrades(pagedef, $scope, $routeParams, $compile, $http, $rootScope, $sce, $window, $location) {\r\n    \r\n    var data1 = $compile($(pagedef.datatemplate))($scope);\r\n    $(\"#appContent\").append(data1);\r\n  \r\n\r\n    $scope.course=\"\";\r\n    $scope.grades = null;\r\n    $rootScope.grades = null;\r\n \r\n    $rootScope.back = function() {\r\n        if ($routeParams.from) {\r\n\r\n            if (device.platform == 'iOS') {\r\n                history.go(-1);\r\n            } else {\r\n                navigator.app.backHistory();\r\n            }\r\n        } else {\r\n            window.location.href = \"index.html#home\";\r\n        }\r\n    }\r\n  \r\n      try {\r\n    if (!$rootScope.valenceToken) {\r\n            if (window.device) {\r\n                navigator.notification.alert(\"You may not be logged in to D2L or the session may got expired. Please login to D2L again.\", null, \"Holds\", null);\r\n            } else {\r\n                apprise(\"You may not be logged in to D2L or the session may got expired. Please login to D2L again.\", {\r\n                    'verify': false,\r\n                    'textYes': \"Ok\"\r\n                }, function (r) {\r\n                    \r\n                });\r\n            }            \r\n            $location.path(\"/home\");  \r\n            return;     \r\n    }\r\n    } catch (ex) {\r\n            if (window.device) {\r\n                navigator.notification.alert(\"You may not be logged in to D2L or the session may got expired. Please login to D2L again.\", null, \"Holds\", null);\r\n            } else {\r\n                apprise(\"You may not be logged in to D2L or the session may got expired. Please login to D2L again.\", {\r\n                    'verify': false,\r\n                    'textYes': \"Ok\"\r\n                }, function (r) {\r\n                    \r\n                });\r\n            }            \r\n            $location.path(\"/home\"); \r\n            return;\r\n    }  \r\n\r\n    $rootScope.ValenceGetAPI(\"/d2l/api/lp/1.0/enrollments/myenrollments/\", function(data) {\r\n        //alert(data);\r\n        var courseslist = [];\r\n        $.each(data.Items, function(i, val) {\r\n            //alert(\"Code : \" + val.OrgUnit.Type.Code);\r\n            if ((val.OrgUnit.Type.Code == \"Course Offering\") && (val.Access.IsActive) && (val.Access.CanAccess) ) {\r\n                courseslist.push(val);\r\n            }\r\n        });\r\n        $scope.courseslist = courseslist;\r\n        $rootScope.courseslist = courseslist;\r\n    });\r\n\r\n    $scope.courseselect = function() {\r\n        var lastId = 0;\r\n        $scope.grades = [];\r\n        $scope.gradevals = [];\r\n        $rootScope.ValenceGetAPI(\"/d2l/api/le/1.0/\" + $scope.course + \"/grades/categories/\", function(data) {\r\n            $scope.grades = data;\r\n            $rootScope.ValenceGetAPI(\"/d2l/api/le/1.0/\" + $scope.course + \"/grades/\", function(data1) {\r\n                $scope.gradevals = data1;\r\n                $.each($scope.gradevals,function(k,val3) {\r\n                    if (val3.CategoryId > 0) {\r\n                        lastId = val3.CategoryId;\r\n                    } else {\r\n                        $.each($scope.grades,function(x,valx) {\r\n                            if (valx.Id == lastId) {\r\n                                valx.Grades.push(val3);\r\n                            }\r\n                        });\r\n                    }\r\n                });\r\n\r\n                if ($scope.grades.length == 0 && $scope.gradevals.length > 0) {\r\n                    $.each($scope.gradevals,function(x,valx) {\r\n                        var catObj = {\"Id\" : 0, \"Grades\" : [], \"Name\" : valx.Name };\r\n                        catObj.Grades.push(valx);\r\n                        $scope.grades.push(catObj);\r\n\r\n                    });\r\n                }\r\n\r\n                $.each($scope.grades, function(i, val) {\r\n                    $.each(val.Grades, function(j,val2) { \r\n\r\n                        val2.gradevalue = null;\r\n                         $rootScope.ValenceGetAPI(\"/d2l/api/le/1.0/\" + $scope.course + \"/grades/\" + val2.Id + \"/values/myGradeValue\", function(data1) {\r\n                            val2.gradevalue = data1;\r\n                        });                   \r\n                    });\r\n                });                \r\n            });\r\n\r\n        });\r\n    }\r\n\r\n\r\n}"
        },
        {
          "pageid": "D2LGradesDetails",
          "pageTemplate": "<div><\/div>",
          "endpoint": "[Ljava.lang.String;@42fc270b",
          "pageprocessor": "function pageprocessorD2LGradesDetails(pagedef, $scope, $routeParams, $compile, $http, $rootScope, $sce, $window, $location) {}",
          "datatemplate": "<div><\/div>"
        }
      ]
    },
    {
      "id": 56590,
      "name": "Dropbox",
      "displayname": "Assignments",
      "logo": "CCTC/Dropbox.png",
      "logourl": "CCTC/Dropbox.png",
      "description": "Dropbox",
      "appFeatureType": "Desire2Learn",
      "roles": "D2LSTUDENT",
      "showInDock": false,
      "showInHome": false,
      "networkrequired": true,
      "analytics": false,
      "pages": 
      [
        {
          "pageid": "Dropbox",
          "pageTemplate": "<div><\/div>",
          "endpoint": "test",
          "pageprocessor": "function pageprocessorDropbox(pagedef, $scope, $routeParams, $compile, $http, $rootScope, $sce, $window, $location) {\r\n    var data1 = $compile($(pagedef.datatemplate))($scope);\r\n    $(\"#appContent\").append(data1);\r\n\r\n    $rootScope.back = function() {\r\n        if ($routeParams.from) {\r\n\r\n            if (device.platform == 'iOS') {\r\n                history.go(-1);\r\n            } else {\r\n                navigator.app.backHistory();\r\n            }\r\n        } else {\r\n            window.location.href = \"index.html#home\";\r\n        }\r\n    }\r\n    \r\n    try {\r\n        if (!$rootScope.valenceToken) {\r\n                if (window.device) {\r\n                    navigator.notification.alert(\"You may not be logged in to D2L or the session may got expired. Please login to D2L again.\", null, \"Holds\", null);\r\n                } else {\r\n                    apprise(\"You may not be logged in to D2L or the session may got expired. Please login to D2L again.\", {\r\n                        'verify': false,\r\n                        'textYes': \"Ok\"\r\n                    }, function (r) {\r\n                        \r\n                    });\r\n                }            \r\n                $location.path(\"/home\");  \r\n                return;     \r\n        }\r\n    } catch (ex) {\r\n            if (window.device) {\r\n                navigator.notification.alert(\"You may not be logged in to D2L or the session may got expired. Please login to D2L again.\", null, \"Holds\", null);\r\n            } else {\r\n                apprise(\"You may not be logged in to D2L or the session may got expired. Please login to D2L again.\", {\r\n                    'verify': false,\r\n                    'textYes': \"Ok\"\r\n                }, function (r) {\r\n                    \r\n                });\r\n            }            \r\n            $location.path(\"/home\"); \r\n            return;\r\n    }  \r\n    \r\n    $rootScope.ValenceGetAPI(\"/d2l/api/lp/1.0/enrollments/myenrollments/\", function(data) {\r\n            //alert(data);\r\n            var courseslist = [];\r\n            $.each(data.Items, function(i, val) {\r\n                //alert(\"Code : \" + val.OrgUnit.Type.Code);\r\n                if ((val.OrgUnit.Type.Code == \"Course Offering\") && (val.Access.IsActive) && (val.Access.CanAccess) ) {\r\n                    courseslist.push(val);\r\n                }\r\n            });\r\n            $scope.courseslist = courseslist;\r\n            $rootScope.courseslist = courseslist;            \r\n    });      \r\n\r\n\r\n    $scope.courseselect = function() {\r\n        $scope.forums = null;\r\n        var submissioncount = 0;\r\n        $rootScope.ValenceGetAPI(\"/d2l/api/le/1.3/\" + $scope.course + \"/dropbox/folders/\", function(data) {\r\n            $scope.folders = data;\r\n            submissioncount = 0;\r\n            $.each($scope.folders, function(i,val) {\r\n                val.submissions = [];\r\n\r\n                $rootScope.ValenceGetAPI(\"/d2l/api/le/1.3/\" + $scope.course + \"/dropbox/folders/\" + val.Id + \"/submissions/\", function(data1) {\r\n                    val.submissions = data1;\r\n                    val.Feedback = val.submissions[0].Feedback;\r\n                    val.Score = \"-\";\r\n                    if (val.submissions[0] && val.submissions[0].Feedback) {\r\n                        val.Score = val.submissions[0].Feedback.Score;\r\n                    }\r\n                    $.each(val.submissions[0].Submissions, function(j, val2) {\r\n                        submissioncount += val2.Files.length;\r\n                    });\r\n                    $scope.folders[i].submissioncount = submissioncount;                   \r\n                });\r\n\r\n                \r\n            });\r\n            /*$.each($scope.forums, function(i, val) {\r\n                $scope.forums[i].topics = null;\r\n                $rootScope.getAPI(\"/d2l/api/le/1.3/\" + $scope.course + \"/discussions/forums/\" + val.ForumId + \"/topics/\", function(data1) {\r\n                    $scope.forums[i].topics = data1;\r\n                    $.each($scope.forums[i].topics, function(j, topic) {\r\n                        $scope.forums[i].topics[j].posts = null;\r\n                        $rootScope.getAPI(\"/d2l/api/le/1.3/\" + $scope.course + \"/discussions/forums/\" + val.ForumId + \"/topics/\" + topic.TopicId + \"/posts/\", function(data2) {\r\n                            $scope.forums[i].topics[j].posts = data2;\r\n                        });\r\n                    });\r\n\r\n\r\n                });\r\n            });*/\r\n        });\r\n    }\r\n\r\n    $scope.showSubmissions = function(folder) {\r\n        $rootScope.folder = folder;\r\n        $location.path(\"/app/Dropbox/DropboxPage2\");\r\n    }\r\n\r\n    $scope.trustHtml = function(data) {\r\n        return $sce.trustAsHtml(data);\r\n    }\r\n}",
          "datatemplate": "<style>\r\n  #appContent {\r\n    height: 100%;\r\n    width: 100%;\r\n    background: #fff;\r\n    overflow-x: hidden;\r\n  }\r\n  \r\n  .main-header {\r\n    font-family: Calibri, Arial;\r\n    font-size: 1.3em;\r\n    font-weight: bold;\r\n  }\r\n  \r\n  .group-header {\r\n    font-family: Calibri, Arial;\r\n    font-size: 1.1em;\r\n    font-weight: bold;\r\n  }\r\n  \r\n  .mybadge {\r\n    font-weight: bold;\r\n  }\r\n<\/style>\r\n<div style=\"overflow-x:hidden;\">\r\n  <div class=\"list-group-item\" style=\"padding:15px;\">\r\n    <p style=\"font-family:Tahoma,Calibri,Arial;font-size: 1em;font-style: italic;\">Select a course to view the Assignment details.<\/p>\r\n    <select ng-model=\"course\" class=\"form-control\" ng-change=\"courseselect(this.value);\">\r\n      <option value=\"\">-- Select a Course --<\/option>\r\n      <option ng-selected=\"course == course1.OrgUnit.Id\" value=\"{{course1.OrgUnit.Id}}\" ng-repeat=\"course1 in courseslist\">{{course1.OrgUnit.Name}}<\/option>\r\n    <\/select>\r\n  <\/div>\r\n  <div class=\"list-group-item\" style=\"background: #e3e3e3;\">\r\n    <span class=\"main-header\">Assignments Folders<\/span>\r\n  <\/div>\r\n  <div ng-repeat=\"folder in folders\" style=\"margin-top:0px;margin-bottom: 0px;\">\r\n    <div class=\"list-group-item clearfix\" ng-click=\"showSubmissions(folder);\">\r\n      <div class=\"row\">\r\n        <div class=\"col-xs-10\">\r\n          <span class=\"group-header\">{{folder.Name}}<\/span><\/br>\r\n          <span>Submissions:&nbsp;&nbsp;{{folder.submissioncount}}<\/span><\/br>\r\n          <span>Score:&nbsp;{{folder.Score}}&nbsp;/&nbsp;{{folder.Assessment.ScoreDenominator || '-'}}<\/span><\/br>\r\n          <span>Due Date:&nbsp;&nbsp;{{folder.DueDate | date: 'medium'}}<\/span>\r\n        <\/div>\r\n        <div class=\"col-xs-2\" style=\"text-align: center;padding-top:30px;color:#e3e3e3;\">\r\n          <span><i class=\"fa fa-chevron-right fa-2x\"><\/i><\/span>\r\n        <\/div>\r\n      <\/div>\r\n    <\/div>\r\n  <\/div>\r\n  <div class=\"alert alert-danger\" ng-show=\"folders == null  ||  folders.length == 0\">You don't have any Assignments folders for this course.<\/div>\r\n<\/div>"
        },
        {
          "pageid": "DropboxPage2",
          "pageTemplate": "<div><\/div>",
          "endpoint": "",
          "datatemplate": "<style>\r\n    #appContent {\r\n        height: 100%;\r\n        width: 100%;\r\n        background: #fff;\r\n        overflow-x: hidden;\r\n    }\r\n    .main-header {\r\n        font-family: Calibri, Arial;\r\n        font-size: 1.3em;\r\n        font-weight: bold;\r\n    }  \r\n    .group-header {\r\n        font-family: Calibri,Arial;\r\n        font-size: 1.1em;\r\n        font-weight: bold;\r\n    }   \r\n    .mybadge {\r\n        font-weight: bold;\r\n    }\r\n    .\r\n<\/style>\r\n<div style=\"overflow-x:hidden;\">\r\n    <div class=\"list-group-item\" style=\"background: #e3e3e3;\">\r\n        <span class=\"main-header\">Submission History:<\/span>\r\n    <\/div>    \r\n    <div  style=\"margin-top:0px;margin-bottom: 0px;\">\r\n        <div class=\"list-group-item\">\r\n            <span class=\"group-header\">{{folder.Name}}<\/span><\/br>\r\n            <span class=\"group-header\">Submitted files:<\/span>\r\n        <\/div>\r\n        <div ng-repeat=\"sub in folder.submissions[0].Submissions\">\r\n            <div ng-repeat=\"file in sub.Files\">\r\n                <div class=\"list-group-item\">\r\n                     <div class=\"row\">\r\n                        <div class=\"col-xs-1\" style=\"text-align: center;color:#e3e3e3;\">\r\n                            <span ng-hide=\"file.IsRead\" style=\"color:orange;\"><i class=\"fa fa-envelope-o\"><\/i><\/span>\r\n                        <\/div>                     \r\n                        <div class=\"col-xs-11\">\r\n                            <span class=\"group-header\">{{file.FileName}}&nbsp;({{file.Size > 1024 ? roundToTwo((file.Size / 1024))  + \" KB\" : file.Size + \" Bytes\"}})<\/span><\/br>\r\n                            <span>Date Submitted:&nbsp;&nbsp;{{sub.SubmissionDate | date : 'medium'}}<\/span>              \r\n                        <\/div>\r\n                    <\/div>                   \r\n                <\/div>\r\n            <\/div>\r\n        <\/div>\r\n    <\/div>\r\n    <div class=\"alert alert-danger\" ng-show=\"folder == null  ||  folder.submissions == null || folder.submissions[0].Submissions.length == 0\">You don't have any submissions.<\/div>\r\n<\/div>\r\n\r\n",
          "pageprocessor": "function pageprocessorDropboxPage2(pagedef, $scope, $routeParams, $compile, $http, $rootScope, $sce, $window, $location) {\r\n\tvar data1 = $compile($(pagedef.datatemplate))($scope);\r\n\t$(\"#appContent\").append(data1);\r\n\r\n\t$scope.folder = $rootScope.folder;\r\n\r\n\t$scope.roundToTwo = function (num) {    \r\n    \treturn +(Math.round(num + \"e+2\")  + \"e-2\");\r\n\t}\r\n\r\n}"
        }
      ]
    },
    {
      "id": 56593,
      "name": "Events73",
      "displayname": "Events",
      "logo": "CCTC/Events73.png",
      "logourl": "CCTC/Events73.png",
      "description": "Events",
      "appFeatureType": "Desire2Learn",
      "roles": "D2LSTUDENT",
      "showInDock": false,
      "showInHome": false,
      "networkrequired": true,
      "analytics": false,
      "pages": 
      [
        {
          "pageid": "Events73",
          "pageTemplate": "<div><\/div>",
          "endpoint": "/",
          "datatemplate": "<style>\r\n    #appContent {\r\n        height: 100%;\r\n        width: 100%;\r\n        background: #fff;\r\n        overflow-x: hidden;\r\n    }\r\n    .main-header {\r\n        font-family: Calibri, Arial;\r\n        font-size: 1.3em;\r\n        font-weight: bold;\r\n    }  \r\n    .group-header {\r\n        font-family: Calibri,Arial;\r\n        font-size: 1.1em;\r\n        font-weight: bold;\r\n    }   \r\n    .mybadge {\r\n        font-weight: bold;\r\n    }\r\n<\/style>\r\n<div style=\"overflow-x:hidden;\">\r\n    <div class=\"list-group-item\" style=\"padding:15px;\">\r\n        <p style=\"font-family:Tahoma,Calibri,Arial;font-size: 1em;font-style: italic;\">Select a course to view the events.<\/p>\r\n         <select ng-model=\"course\" class=\"form-control\" ng-change=\"courseselect(this.value);\">\r\n            <option value=\"\">-- Select a Course --<\/option>\r\n            <option ng-selected=\"course == course1.OrgUnit.Id\" value=\"{{course1.OrgUnit.Id}}\" ng-repeat=\"course1 in courseslist\">{{course1.OrgUnit.Name}}<\/option>\r\n        <\/select>   \r\n    <\/div>\r\n<!--     <div class=\"list-group-item\" style=\"background: #e3e3e3;\">\r\n        <span class=\"main-header\">Dropbox Folders<\/span>\r\n    <\/div> -->    \r\n    <div ng-repeat=\"event in events\" style=\"margin-top:0px;margin-bottom: 0px;\">\r\n        <div class=\"list-group-item\" style=\"background: #e3e3e3;\">\r\n            <span class=\"main-header\">{{event.eventDate}}<\/span>\r\n        <\/div>     \r\n        <div class=\"list-group-item clearfix\" >\r\n            <div class=\"row\">\r\n                <div class=\"col-xs-12\">\r\n                    <span class=\"group-header\">{{event.Title}}<\/span>\r\n                    <span class=\"pull-right\">{{event.eventTime}}<\/span><\/br>\r\n                    <p ng-show=\"event.Description\">{{event.Description}}<\/p>              \r\n                <\/div>\r\n<!--                 <div class=\"col-xs-2\" style=\"text-align: center;padding-top:30px;color:#e3e3e3;\">\r\n                    <span><i class=\"fa fa-chevron-right fa-2x\"><\/i><\/span>\r\n                <\/div> -->\r\n            <\/div>\r\n        <\/div>\r\n    <\/div>\r\n    <div  class=\"alert alert-danger\" ng-show=\"events == null  ||  events.length == 0\">No Events scheduled.<\/div>\r\n<\/div>",
          "pageprocessor": "function pageprocessorEvents73(pagedef, $scope, $routeParams, $compile, $http, $rootScope, $sce, $window, $location) {\r\n    var data1 = $compile($(pagedef.datatemplate))($scope);\r\n    $(\"#appContent\").append(data1);\r\n  \r\n\r\n    $rootScope.back = function() {\r\n        if ($routeParams.from) {\r\n\r\n            if (device.platform == 'iOS') {\r\n                history.go(-1);\r\n            } else {\r\n                navigator.app.backHistory();\r\n            }\r\n        } else {\r\n            window.location.href = \"index.html#home\";\r\n        }\r\n    }\r\n  \r\n    try {\r\n        if (!$rootScope.valenceToken) {\r\n                if (window.device) {\r\n                    navigator.notification.alert(\"You may not be logged in to D2L or the session may got expired. Please login to D2L again.\", null, \"Profile\", null);\r\n                } else {\r\n                    apprise(\"You may not be logged in to D2L or the session may got expired. Please login to D2L again.\", {\r\n                        'verify': false,\r\n                        'textYes': \"Ok\"\r\n                    }, function (r) {\r\n                        \r\n                    });\r\n                }            \r\n                $location.path(\"/home\");  \r\n                return;     \r\n        }\r\n    } catch (ex) {\r\n            if (window.device) {\r\n                navigator.notification.alert(\"You may not be logged in to D2L or the session may got expired. Please login to D2L again.\", null, \"Profile\", null);\r\n            } else {\r\n                apprise(\"You may not be logged in to D2L or the session may got expired. Please login to D2L again.\", {\r\n                    'verify': false,\r\n                    'textYes': \"Ok\"\r\n                }, function (r) {\r\n                    \r\n                });\r\n            }            \r\n            $location.path(\"/home\"); \r\n            return;\r\n    } \r\n\r\n   $rootScope.ValenceGetAPI(\"/d2l/api/lp/1.0/enrollments/myenrollments/\", function(data) {\r\n            //alert(data);\r\n            var courseslist = [];\r\n            $.each(data.Items, function(i, val) {\r\n                //alert(\"Code : \" + val.OrgUnit.Type.Code);\r\n                if ((val.OrgUnit.Type.Code == \"Course Offering\") && (val.Access.IsActive) && (val.Access.CanAccess) ) {\r\n                    courseslist.push(val);\r\n                }\r\n            });\r\n            $scope.courseslist = courseslist;\r\n            $rootScope.courseslist = courseslist;            \r\n    });      \r\n\r\n\r\n    $scope.courseselect = function() {\r\n        $scope.events = [];\r\n\r\n        $rootScope.ValenceGetAPI(\"/d2l/api/le/1.4/\" + $scope.course + \"/calendar/events/\", function(data) {\r\n            angular.forEach(data,function(value,key) {\r\n            \tvar tdate = new Date(value.StartDateTime);\r\n            \tvalue.eventDate = tdate.toLocaleDateString(\"en-us\",{\r\n    \t\t\t\t\t\t\t\t\t\t\t\t\t\tweekday: \"long\", year: \"numeric\", month: \"short\",\r\n    \t\t\t\t\t\t\t\t\t\t\t\t\t\tday: \"numeric\"\t});\r\n            \tvalue.eventTime = tdate.toLocaleTimeString(\"en-us\",{hour: \"2-digit\", minute: \"2-digit\"});\r\n            });\r\n            $scope.events = data;\r\n        });\r\n    }\r\n\r\n\r\n    $scope.trustHtml = function(data) {\r\n        return $sce.trustAsHtml(data);\r\n    }\r\n\r\n\r\n\r\n\r\n}"
        }
      ]
    },
    {
      "id": 56596,
      "name": "Discussions",
      "displayname": "Discussions",
      "logo": "CCTC/Discussions.png",
      "logourl": "CCTC/Discussions.png",
      "description": "Discussions",
      "appFeatureType": "Desire2Learn",
      "roles": null,
      "showInDock": false,
      "showInHome": false,
      "networkrequired": true,
      "analytics": false,
      "pages": 
      [
        {
          "pageid": "DiscussionsPage3",
          "pageTemplate": "<div><\/div>",
          "endpoint": "",
          "pageprocessor": "function pageprocessorDiscussionsPage3(pagedef, $scope, $routeParams, $compile, $http, $rootScope, $sce, $window, $location) {\r\n    var data1 = $compile($(pagedef.datatemplate))($scope);\r\n    $(\"#appContent\").append(data1);\r\n    $scope.course = $rootScope.course;\r\n    $scope.topic = $rootScope.topic;\r\n    $scope.post = $rootScope.post;\r\n    $scope.classlist = $rootScope.classlist;\r\n    $scope.mainWindow = true;\r\n    $scope.message = \"\";\r\n    $scope.selPost = \"\";\r\n    $scope.selPostIndex = -1;\r\n\r\n\r\n    var mydiv = \"\";\r\n    var myhtml = \"\";\r\n\r\n    $scope.findDisplayName = function(userid) {\r\n        var dispName = \"\";\r\n        angular.forEach($scope.classlist, function(value,key) {\r\n            if (value.Identifier == userid) {\r\n                dispName = value.DisplayName;\r\n                return;\r\n            }\r\n        });\r\n        return dispName;\r\n    } \r\n\r\n    $scope.constructLevels = function(selpost) {\r\n        var j = 0;\r\n        var mydiv = \"\";\r\n        for (j=0; j< selpost.LEVEL; j++) {\r\n            mydiv += '<i class=\"fa fa-stop\" style=\"color:#grey;margin-right:4px;\"><\/i>';\r\n        } \r\n        selpost.levelBlocks = mydiv;      \r\n    }\r\n\r\n    angular.forEach($scope.post.posts, function(value,key) {\r\n        if (!value.DisplayName) {\r\n            value.DisplayName = $scope.findDisplayName(value.PostingUserId);\r\n        }\r\n        value.levelBlocks = \"\";\r\n        $scope.constructLevels(value);\r\n\r\n    });\r\n\r\n    $scope.postReply = function(post,pst,index) {\r\n        $scope.selPost = pst;\r\n        $scope.selPostIndex = index;\r\n        $rootScope.toggle(\"replyThreadModal\");\r\n        //alert(index);\r\n\r\n    }\r\n\r\n    $scope.replyToThread = function() {\r\n        $rootScope.toggle(\"replyThreadModal2\");\r\n    }\r\n\r\n    $scope.saveThreadReply = function() {\r\n        var mesContent = \"\";\r\n\r\n        if ($scope.message) {\r\n            mesContent = $scope.message;\r\n            var postdata = {\r\n                \"ParentPostId\": $scope.post.PostId,\r\n                \"Subject\": $scope.post.Subject,\r\n                \"Message\": {\r\n                            \"Content\": mesContent,\r\n                            \"Type\": \"html\"\r\n                           },\r\n                \"IsAnonymous\": false\r\n            };\r\n\r\n            $rootScope.toggle(\"replyThreadModal2\");\r\n            var url = \"/d2l/api/le/1.4/\" + $scope.course +  \"/discussions/forums/\" + $scope.topic.ForumId +  \"/topics/\" + $scope.topic.TopicId + \"/posts/\";\r\n            $rootScope.ValencePostAPI(url, postdata, function(data) {\r\n                $.unblockUI();\r\n\r\n                //alert(\"API completed\");\r\n                //alert(data.PostId);\r\n                data.DisplayName = $scope.findDisplayName(data.PostingUserId);\r\n                data.LEVEL = 1;\r\n                $scope.post.ReplyPostIds.push(data.PostId);\r\n                data.levelBlocks = \"\";\r\n                $scope.constructLevels(data);                \r\n                //$scope.post.posts.splice($scope.selPostIndex+1,0,data);                                \r\n                $scope.post.posts.push(data);\r\n            });            \r\n        }\r\n    }\r\n\r\n    $scope.replyThread = function() {\r\n        var mesContent = \"\";\r\n        if ($scope.message) {\r\n/*            mesContent = \"<p>\" + $scope.message;\r\n            mesContent += \"<br/> &lt;&lt;&lt; Replied to post below &gt;&gt;&gt;<br/>\";\r\n            mesContent += \"Authored by:&nbsp;\" + $scope.selPost.DisplayName + \"<br/>\";\r\n            mesContent += \"Authored on:&nbsp;\" + $scope.selPost.DatePosted + \"<br/>\";\r\n            mesContent += \"Subject:&nbsp;\" + $scope.selPost.Subject;\r\n            mesContent += \"<\/p>\";\r\n            mesContent += $scope.selPost.Message.Html;*/\r\n            mesContent = $scope.message;\r\n            //alert(mesContent);\r\n            var postdata = {\r\n                \"ParentPostId\": $scope.selPost.PostId,\r\n                \"Subject\": $scope.selPost.Subject,\r\n                \"Message\": {\r\n                            \"Content\": mesContent,\r\n                            \"Type\": \"html\"\r\n                           },\r\n                \"IsAnonymous\": false\r\n            };\r\n\r\n            $rootScope.toggle(\"replyThreadModal\");\r\n            var url = \"/d2l/api/le/1.4/\" + $scope.course +  \"/discussions/forums/\" + $scope.selPost.ForumId +  \"/topics/\" + $scope.selPost.TopicId + \"/posts/\";\r\n            $rootScope.ValencePostAPI(url, postdata, function(data) {\r\n                $.unblockUI();\r\n\r\n                data.DisplayName = $scope.findDisplayName(data.PostingUserId);\r\n                data.LEVEL = parseInt($scope.selPost.LEVEL) + 1;\r\n                $scope.selPost.ReplyPostIds.push(data.PostId);\r\n                data.levelBlocks = \"\";\r\n                $scope.constructLevels(data);                \r\n                $scope.post.posts.splice($scope.selPostIndex+1,0,data);                                \r\n                \r\n            });            \r\n\r\n        }\r\n    }\r\n\r\n/*\r\n    $scope.generateDIVTree = function(posts) {\r\n        angular.forEach(posts, function(value,key) {\r\n            mydiv = mydiv + '<div style=\"\">';\r\n            mydiv = mydiv + '<div class=\"list-group-item\" style=\"padding-left:4px;\">';\r\n            mydiv = mydiv + '<strong>' + value.Subject + '<span class=\"pull-right fa fa-chevron-right\"><\/span><\/strong><\/br>';\r\n            mydiv = mydiv + '<p style=\"border1:1px solid #444;background:#f2f2f2;padding:8px;\">' + value.Message.Html + '<\/p>';\r\n            mydiv = mydiv + '<\/div>'\r\n            if (value.posts) {\r\n                $scope.generateDIVTree(value.posts);\r\n            }\r\n            mydiv = mydiv + '<span>' + value.DatePosted +  '<\/span>';\r\n            mydiv = mydiv + '<\/div>';\r\n        });     \r\n    }\r\n*/\r\n\r\n    $scope.trustHtml = function(data) {\r\n        return $sce.trustAsHtml(data);\r\n    }\r\n\r\n/*\r\n    if ($scope.post.posts) {\r\n        try {\r\n            $scope.generateDIVTree($scope.post.posts);\r\n        }catch (ex) {\r\n            alert(ex);\r\n        }\r\n        \r\n        alert(mydiv);\r\n    }  \r\n    \r\n\r\n\r\n\r\n    $(\"#appContent\").prepend($compile(mydiv)($scope));  \r\n\r\n    */\r\n}",
          "datatemplate": "<style>\r\n    #appContent {\r\n        height: 100%;\r\n        width: 100%;\r\n        background: #fff;\r\n        overflow-x: hidden;\r\n    }\r\n    .main-header {\r\n        font-family: Calibri, Arial;\r\n        font-size: 1.3em;\r\n        font-weight: bold;\r\n    }  \r\n    .group-header {\r\n        font-family: Calibri,Arial;\r\n        font-size: 1.1em;\r\n        font-weight: bold;\r\n    }    \r\n    .overlay-background {\r\n        background:rgba(0,0,30,0.6) !important;\r\n    }  \r\n    .custom-text-area {\r\n        width: 100%;\r\n        height:40%;\r\n        border: 1px solid #01437F;\r\n        -webkit-border-radius: 4px;\r\n        -moz-border-radius:4px;\r\n        border-radius:4px;\r\n    }\r\n<\/style>\r\n<div  style=\"overflow-x:hidden;\">\r\n     <div class=\"list-group-item\" style=\"background: #e3e3e3;\">\r\n        <span class=\"group-header\">{{topic.Name}}<\/span><\/br>        \r\n    <\/div>\r\n    <div class=\"list-group-item\">\r\n        <div class=\"btn btn-primary\" ng-click=\"replyToThread()\">Reply To Thread<\/div>\r\n    <\/div>     \r\n    <div ng-show=\"mainWindow\" class=\"list-group-item\" style=\"padding-left:8px;\" ng-repeat=\"pst in post.posts\">\r\n        <div class=\"post-level\" ng-bind-html=\"trustHtml(pst.levelBlocks);\"><\/div>\r\n        <!-- <span ng-repeat=\"i in [] | range: 3\"><i class=\"fa fa-stop fa-2x\" style=\"color:#grey;\"><\/i>{{pst.LEVEL}}<\/span><\/br> -->\r\n        <span class=\"group-header\">{{pst.DisplayName}}&nbsp;posted&nbsp;{{pst.DatePosted | date: 'medium'}}<\/span><\/br>\r\n        <!-- <strong>{{post.Subject}}<span class=\"pull-right fa fa-chevron-right\"><\/span><\/strong><\/br> -->\r\n        <p style=\"border1:1px solid #444;background:#f2f2f2;padding:8px;\" ng-bind-html=\"trustHtml(pst.Message.Html);\"><\/p>\r\n        <div class=\"btn btn-default btn-sm\" style=\"color:#01437F;\" ng-click=\"postReply(post,pst,$index)\">\r\n            <i class=\"fa fa-reply\"><\/i>&nbsp;&nbsp;\r\n            <span style=\"font-size:1em;\">Reply<\/span>\r\n        <\/div>\r\n    <\/div>\r\n    <div class=\"list-group-item\" ng-show=\"post.posts.length == 0\">\r\n        <span>There are no replies in this thread<\/span>\r\n    <\/div>\r\n<\/div>\r\n<div overlay=\"replyThreadModal\" default=\"active\">\r\n    <div class=\"group-container\">\r\n        <div class=\"h4 group-header\" style=\"color:#fff;\">{{topic.Name}}<\/div>\r\n        <div class=\"list-group\">\r\n            <div class=\"list-group-item\" style=\"background: transparent;\">\r\n                <!-- <label class=\"form-label\">Message<\/label> -->\r\n                <textarea class=\"custom-text-area\" rows=\"10\" cols=\"10\" placeholder=\"Message\" class=\"form-control\" ng-model=\"message\">\r\n                <\/textarea>\r\n            <\/div>\r\n        <\/div>\r\n    <\/div>\r\n    <div class=\"list-group-item\" style=\"background: transparent;\">\r\n        <span class=\"btn btn-default\" style=\"margin-right: 2em;\" toggle=\"off\" bubble target=\"replyThreadModal\">Cancel<\/span>\r\n        <span class=\"btn btn-default\" ng-click=\"replyThread();\">Submit<\/span>\r\n    <\/div>\r\n<\/div>\r\n<div overlay=\"replyThreadModal2\" default=\"active\">\r\n    <div class=\"group-container\">\r\n        <div class=\"h4 group-header\" style=\"color:#fff;\">{{topic.Name}}<\/div>\r\n        <div class=\"list-group\">\r\n            <div class=\"list-group-item\" style=\"background: transparent;\">\r\n                <!-- <label class=\"form-label\">Message<\/label> -->\r\n                <textarea class=\"custom-text-area\" rows=\"10\" cols=\"10\" placeholder=\"Message\" class=\"form-control\" ng-model=\"message\">\r\n                <\/textarea>\r\n            <\/div>\r\n        <\/div>\r\n    <\/div>\r\n    <div class=\"list-group-item\" style=\"background: transparent;\">\r\n        <span class=\"btn btn-default\" style=\"margin-right: 2em;\" toggle=\"off\" bubble target=\"replyThreadModal2\">Cancel<\/span>\r\n        <span class=\"btn btn-default\" ng-click=\"saveThreadReply();\">Submit<\/span>\r\n    <\/div>\r\n<\/div>"
        },
        {
          "pageid": "Discussions",
          "pageTemplate": "<div><\/div>",
          "endpoint": "test",
          "pageprocessor": "function pageprocessorDiscussions(pagedef, $scope, $routeParams, $compile, $http, $rootScope, $sce, $window, $location) {\r\n    var data1 = $compile($(pagedef.datatemplate))($scope);\r\n    $(\"#appContent\").append(data1);\r\n    var parentcount = 0;\r\n    var postcount = 0;\r\n    var parentposts = [];   \r\n    var clevel = 0;\r\n    var mypost = \"\";\r\n\r\n\r\n    $rootScope.back = function()  {\r\n        $rootScope.filterDiscussionItem = \"\";\r\n        $rootScope.course = \"\";\r\n        $rootScope.forums = \"\";\r\n        $rootScope.discussionpage = \"\";\r\n        $rootScope.forum = \"\";\r\n        $rootScope.topic = \"\";\r\n        $rootScope.classlist = \"\";\r\n        if ($routeParams.from) {\r\n            if (device.platform == 'iOS') {\r\n                history.go(-1);\r\n            } else {\r\n                navigator.app.backHistory();\r\n            }\r\n        } else {\r\n            window.location.href = \"index.html#home\";\r\n        }        \r\n\r\n    }\r\n\r\n\r\n    try {\r\n        if (!$rootScope.valenceToken) {\r\n                if (window.device) {\r\n                    navigator.notification.alert(\"You may not be logged in to D2L or the session may got expired. Please login to D2L again.\", null, \"Holds\", null);\r\n                } else {\r\n                    apprise(\"You may not be logged in to D2L or the session may got expired. Please login to D2L again.\", {\r\n                        'verify': false,\r\n                        'textYes': \"Ok\"\r\n                    }, function (r) {\r\n                        \r\n                    });\r\n                }            \r\n                $location.path(\"/home\");  \r\n                return;     \r\n        }\r\n    } catch (ex) {\r\n            if (window.device) {\r\n                navigator.notification.alert(\"You may not be logged in to D2L or the session may got expired. Please login to D2L again.\", null, \"Holds\", null);\r\n            } else {\r\n                apprise(\"You may not be logged in to D2L or the session may got expired. Please login to D2L again.\", {\r\n                    'verify': false,\r\n                    'textYes': \"Ok\"\r\n                }, function (r) {\r\n                    \r\n                });\r\n            }            \r\n            $location.path(\"/home\"); \r\n            return;\r\n    }  \r\n\r\n\r\n\r\n    if ($rootScope.discussionpage == \"page2\") {\r\n        $scope.course = $rootScope.course;\r\n        $scope.forums = $rootScope.forums;\r\n        $scope.classlist = $rootScope.classlist;\r\n        $rootScope.discussionpage = \"\";\r\n    } else {\r\n        $scope.course = \"\";\r\n        $scope.classlist = \"\";\r\n    } \r\n\r\n\r\n\r\n$scope.findDisplayName = function(userid) {\r\n    var dispName = \"\";\r\n    angular.forEach($scope.classlist, function(value,key) {\r\n        if (value.Identifier == userid) {\r\n            dispName = value.DisplayName;\r\n            return;\r\n        }\r\n    });\r\n    return dispName;\r\n}\r\n\r\n\r\n$scope.addPostToParent = function(post) {\r\n    var found = false;\r\n    angular.forEach(parentposts,function(tvalue,tkey) {\r\n        if (tvalue.PostId == post.PostId) {\r\n            found = true;\r\n        }\r\n    });\r\n    if (!found) {\r\n        parentposts.push(post);\r\n    }\r\n}\r\n\r\n$scope.searchParentTopic= function(postid,posts) {\r\n    angular.forEach(posts,function(value2,key2){\r\n        if (value2.PostId == postid) {\r\n            if (value2.ParentPostId) {\r\n                //console.log(\"**parent=\"+value2.ParentPostId);\r\n                $scope.searchParentTopic(value2.ParentPostId,posts);\r\n            } else {\r\n                $scope.addPostToParent(value2);\r\n            }\r\n            return;\r\n        }\r\n    });\r\n}\r\n\r\n$scope.searchChildPosts= function(postid, posts, parentpost) {\r\n    angular.forEach(posts,function(value2,key2) {\r\n        if (value2.ParentPostId == postid) {\r\n            //child found\r\n            if (!parentpost.posts) {\r\n                parentpost.posts = [];\r\n            }\r\n            parentpost.posts.push(value2);\r\n            $scope.searchChildPosts(value2.PostId, posts, parentpost.posts[parentpost.posts.length-1]);\r\n            return;\r\n        }\r\n    });\r\n}\r\n\r\n\r\n    $scope.searchPost = function(topic,postid) {\r\n        //console.log(\"in search\");\r\n        angular.forEach(topic.posts,function(value,key) {\r\n            if (value.PostId == postid) {\r\n                //console.log(\"post found\");\r\n                //console.log(value);\r\n                mypost = value;\r\n                //console.log(mypost);\r\n                return;\r\n            }\r\n        });\r\n    }\r\n\r\n    $scope.addReplies = function(topic,parentpost,currentpost) {\r\n        //console.log(\"in addreplies\");\r\n        //console.log(currentpost);\r\n        //console.log(\"----------------------\");\r\n        clevel+=1;\r\n        var i ;\r\n        //console.log(\"before loop\"); \r\n        //console.log(currentpost.ReplyPostIds.length);\r\n        for (i=0; i < currentpost.ReplyPostIds.length; i++) {\r\n            replyId = currentpost.ReplyPostIds[i];            \r\n            mypost =\"\";\r\n            //console.log(\"before searchpost\");\r\n            //console.log(replyId);\r\n            $scope.searchPost(topic,replyId);\r\n            //console.log(\"mypost\");\r\n            //console.log(mypost);\r\n            if (mypost) {\r\n                mypost.LEVEL = clevel;\r\n                parentpost.posts.push(mypost);\r\n                $scope.addReplies(topic,parentpost,mypost);\r\n            }\r\n        }\r\n        clevel-=1;        \r\n    }\r\n    \r\n    $scope.restructurePosts = function(topic) {\r\n        parentposts = [];\r\n        parentcount = 0;\r\n        postcount = 0;        \r\n        //get the parent structure (with ParentPostId = null)\r\n        angular.forEach(topic.posts,function(value,key) {\r\n            var cdate = new Date(value.DatePosted).toUTCString();\r\n            value.DatePosted = cdate;\r\n            value.posts = [];\r\n            postcount++;\r\n            if (!value.ParentPostId) {\r\n                parentcount++;\r\n                $scope.addPostToParent(value);\r\n            } else {\r\n                var postid = value.ParentPostId;\r\n                //console.log(\"Parentid exist=\"+postid);\r\n                angular.forEach(topic.posts,function(value1,key1) {\r\n                    if (value1.PostId == postid) {\r\n                        //console.log(\"*postid matching\")\r\n                        $scope.searchParentTopic(postid, topic.posts);\r\n                        return;\r\n                    }\r\n                });\r\n            }\r\n        });\r\n\r\n        /*        \r\n        angular.forEach(topic.posts,function(value,key) {\r\n            var cdate = new Date(value.DatePosted).toUTCString();\r\n            value.DatePosted = cdate;\r\n            postcount++;\r\n            if (!value.ParentPostId) {\r\n                parentcount++;\r\n                value.posts = [];\r\n                parentposts.push(value);\r\n            }\r\n        });*/\r\n        //console.log(\"after step1\");\r\n        //console.log(parentposts);\r\n        var replyIds = []; \r\n        var replyId = \"\"; \r\n        angular.forEach(parentposts, function(value,key) {\r\n            replyIds = []; \r\n            replyIds = value.ReplyPostIds; \r\n            //console.log(\"replyids\");\r\n            //console.log(replyIds);\r\n            clevel = 0; \r\n            value.LEVEL = clevel; \r\n            $scope.addReplies(topic,value,value); \r\n        }); \r\n        topic.postcount = postcount;\r\n        topic.threads = parentcount;        \r\n        topic.myposts = parentposts;\r\n    }\r\n\r\n\r\n\r\n/*\r\n\r\n    $scope.searchPost = function(topic,postid,mypost) {\r\n        angular.forEach(topic.posts,function(value,key) {\r\n            if (value.PostId == postid) {\r\n                mypost = value;\r\n                return;\r\n            }\r\n        });\r\n    }\r\n\r\n    $scope.addReplies = function(topic,parentpost,currentpost) {\r\n        clevel++;\r\n        for (i=0; i < currentpost.ReplyPostIds.length; i++) {\r\n            replyId = value.ReplyPostIds[i];            \r\n            mypost =\"\";\r\n            $scope.searchPost(topic,replyId,mypost);\r\n            if (mypost) {\r\n                mypost.LEVEL = clevel;\r\n                parentpost.posts.push(mypost);\r\n                $scope.addReplies(topic,parentpost,mypost);\r\n            }\r\n        }\r\n        clevel--;        \r\n    }\r\n    \r\n    $scope.restructurePosts = function(topic) {\r\n        parentposts = [];\r\n        //get the parent structure (with ParentPostId = null)\r\n        angular.forEach(topic.posts,function(value,key) {\r\n            var cdate = new Date(value.DatePosted).toUTCString();\r\n            value.DatePosted = cdate;\r\n            postcount++;\r\n            if (!value.ParentPostId) {\r\n                parentcount++;\r\n                value.posts = [];\r\n                parentposts.push(value);\r\n            }\r\n        });\r\n        var replyIds = [];\r\n        var replyId = \"\";\r\n        angular.forEach(parentposts, function(value,key) {\r\n            replyIds = [];\r\n            replyIds = value.ReplyPostIds;\r\n            clevel = 0;\r\n            value.LEVEL = clevel;\r\n            $scope.addReplies(topic,value,value);\r\n        });\r\n    }\r\n*/\r\n    $scope.structureTopicPosts = function(topic) {\r\n        parentposts = [];\r\n        parentcount = 0;\r\n        postcount = 0;\r\n        //get the parent structure (with ParentPostId = null)\r\n        angular.forEach(topic.posts,function(value,key) {\r\n            var cdate = new Date(value.DatePosted).toUTCString();\r\n            value.DatePosted = cdate;\r\n            postcount++;\r\n            if (!value.ParentPostId) {\r\n                parentcount++;\r\n                $scope.addPostToParent(value,parentposts);\r\n            } else {\r\n                var postid = value.ParentPostId;\r\n                //console.log(\"Parentid exist=\"+postid);\r\n                angular.forEach(topic.posts,function(value1,key1) {\r\n                    if (value1.PostId == postid) {\r\n                        //console.log(\"*postid matching\")\r\n                        $scope.searchParentTopic(postid, topic.posts, parentposts);\r\n                        return;\r\n                    }\r\n                });\r\n            }\r\n        });\r\n        //console.log(\"Parent structure\");\r\n        //console.log($scope.parenttopics);\r\n        //append children tree to parent\r\n        angular.forEach(parentposts,function(value,key) {\r\n            var postid = value.PostId;\r\n            $scope.searchChildPosts(postid, topic.posts,value);\r\n        });\r\n        console.log(\"after populating child structure\")   ;\r\n        console.log(parentposts);  \r\n        topic.postcount = postcount;\r\n        topic.threads = parentcount;\r\n        //topic.myposts = [];\r\n        topic.myposts = parentposts;\r\n        //alert(\"inside \"+parentposts.length);\r\n    }\r\n\r\n    $scope.courseselect = function() {\r\n        $scope.forums = null;  \r\n        $rootScope.ValenceGetAPI(\"/d2l/api/le/1.0/\" + $scope.course + \"/classlist/\", function(classlist) {\r\n            $scope.classlist = classlist;\r\n            $rootScope.ValenceGetAPI(\"/d2l/api/le/1.3/\" + $scope.course + \"/discussions/forums/\", function(data) {\r\n                $scope.forums = data;\r\n                $.each($scope.forums, function(i, val) {\r\n                    $scope.forums[i].topics = null;\r\n                    $rootScope.ValenceGetAPI(\"/d2l/api/le/1.3/\" + $scope.course + \"/discussions/forums/\" + val.ForumId + \"/topics/\", function(data1) {\r\n                        $scope.forums[i].topics = data1;\r\n                        $.each($scope.forums[i].topics, function(j, topic) {\r\n                            $scope.forums[i].topics[j].posts = null;\r\n                            $rootScope.ValenceGetAPI(\"/d2l/api/le/1.3/\" + $scope.course + \"/discussions/forums/\" + val.ForumId + \"/topics/\" + topic.TopicId + \"/posts/\", function(data2) {\r\n                                $scope.forums[i].topics[j].posts = data2;\r\n                                $scope.forums[i].topics[j].lastPost = \"\";\r\n                                if ($scope.forums[i].topics[j].posts.length > 0) {\r\n                                    $scope.forums[i].topics[j].lastPost = $scope.forums[i].topics[j].posts[0];\r\n                                    $scope.forums[i].topics[j].lastPost.DisplayName = $scope.findDisplayName($scope.forums[i].topics[j].lastPost.PostingUserId);\r\n                                    if (!$scope.forums[i].topics[j].lastPost.DisplayName) {\r\n                                        //get user name from profile\r\n                                        $rootScope.ValenceGetAPI(\"/d2l/api/lp/1.3/profile/user/\" + $scope.forums[i].topics[j].lastPost.PostingUserId, function(userinfo) {\r\n                                            $scope.forums[i].topics[j].lastPost.DisplayName = userinfo.Nickname;  \r\n                                            $scope.restructurePosts($scope.forums[i].topics[j]);\r\n                                        });\r\n                                    } else {\r\n                                        $scope.restructurePosts($scope.forums[i].topics[j]);\r\n                                    }\r\n                                }  else {\r\n                                    $scope.restructurePosts($scope.forums[i].topics[j]);\r\n                                }                           \r\n                                //alert($scope.forums[i].topics[j].Name +\" - \" +  $scope.forums[i].topics[j].posts.length);\r\n                                //$scope.structureTopicPosts($scope.forums[i].topics[j]);\r\n                                //$scope.restructurePosts($scope.forums[i].topics[j]);\r\n                                //alert(j + \" - \"+$scope.forums[i].topics[j].threads +\" - \" + $scope.forums[i].topics[j].posts.length);\r\n                            });\r\n                        });\r\n                    });\r\n                });\r\n                $rootScope.forums = $scope.forums;\r\n                //\r\n            });\r\n        });\r\n\r\n    }\r\n\r\n    $scope.showPosts = function(forum,topic) {       \r\n        //alert(index) ;\r\n            if (topic) {\r\n                $rootScope.course = $scope.course;\r\n                $rootScope.forum = forum;\r\n                $rootScope.topic = topic;\r\n                $rootScope.classlist = $scope.classlist;\r\n                //alert(topic.myposts.length);\r\n                $location.path(\"/app/Discussions/DiscussionsPage2\");                \r\n            }\r\n\r\n\r\n    }\r\n\r\n    $scope.trustHtml = function(data) {\r\n        return $sce.trustAsHtml(data);\r\n    }\r\n\r\n\r\n    /* page start execution code */\r\n    if ($rootScope.courseslist) {\r\n        $scope.courseslist = $rootScope.courseslist;\r\n        // code for filtering posts from course content page\r\n        if ($rootScope.filterDiscussionItem && $rootScope.course) {\r\n            $scope.course = $rootScope.course; \r\n            $(\"#selcourse\").blur();\r\n            $scope.courseselect();               \r\n        }          \r\n    } else {\r\n        $rootScope.ValenceGetAPI(\"/d2l/api/lp/1.0/enrollments/myenrollments/\", function(data) {\r\n            //alert(data);\r\n            var courseslist = [];\r\n            $.each(data.Items, function(i, val) {\r\n                //alert(\"Code : \" + val.OrgUnit.Type.Code);\r\n                if ((val.OrgUnit.Type.Code == \"Course Offering\") && (val.Access.IsActive) && (val.Access.CanAccess) ) {\r\n                    courseslist.push(val);\r\n                }\r\n            });\r\n            $scope.courseslist = courseslist;\r\n            $rootScope.courseslist = courseslist;   \r\n            // code for filtering posts from course content page\r\n            if ($rootScope.filterDiscussionItem && $rootScope.course) {\r\n                $scope.course = $rootScope.course;\r\n                $(\"#selcourse\").blur(); \r\n                $scope.courseselect();               \r\n            }         \r\n        });        \r\n    }\r\n\r\n\r\n}",
          "datatemplate": "<style>\r\n    #appContent {\r\n        height: 100%;\r\n        width: 100%;\r\n        background: #fff;\r\n        overflow-x: hidden;\r\n    }\r\n    .main-header {\r\n        font-family: Calibri, Arial;\r\n        font-size: 1.3em;\r\n        font-weight: bold;\r\n    }  \r\n    .group-header {\r\n        font-family: Calibri,Arial;\r\n        font-size: 1.1em;\r\n        font-weight: bold;\r\n    }      \r\n<\/style>\r\n<div style=\"overflow-x:hidden;\">\r\n    <div class=\"list-group-item\" style=\"padding:15px;\">\r\n        <p style=\"font-family:Tahoma,Calibri,Arial;font-size: 1em;font-style: italic;\">Select a course to view the Forums/Discussions associated with the selected course.<\/p>\r\n         <select ng-model=\"course\" id=\"selcourse\" class=\"form-control\" ng-change=\"courseselect(this.value);\">\r\n            <option value=\"\">-- Select a Course --<\/option>\r\n            <option ng-selected=\"course == course1.OrgUnit.Id\" value=\"{{course1.OrgUnit.Id}}\" ng-repeat=\"course1 in courseslist\">{{course1.OrgUnit.Name}}<\/option>\r\n        <\/select>   \r\n    <\/div>\r\n    <div class=\"list-group-item\">\r\n        <span class=\"main-header\">Discussions List<\/span>\r\n    <\/div>\r\n    <div ng-repeat=\"forum in forums\" style=\"margin-top:0px;margin-bottom: 0px;\" ng-show=\"forums != null  &&  forums.length > 0 \">\r\n        <div class=\"list-group-item\" style=\"background: #e3e3e3;\">\r\n            <span class=\"group-header\">{{forum.Name}}<\/span>\r\n        <\/div>  \r\n        <div ng-repeat=\"topic in forum.topics\" style=\"margin-top:0px;margin-bottom: 0px;\">\r\n            <div class=\"list-group-item clearfix\" ng-click=\"showPosts(forum,topic);\">\r\n                <div class=\"row\">\r\n                    <div class=\"col-xs-12\">\r\n                        <span class=\"group-header\">{{topic.Name}}<span class=\"pull-right fa fa-chevron-right\"><\/span><\/span>\r\n                    <\/div>\r\n                <\/div>\r\n                 <div class=\"row\">\r\n                    <div class=\"col-xs-3\" style=\"text-align: center;\">\r\n                        <span class=\"head-style\" style=\"color:#0DA7B3;\">{{topic.threads}}<\/span><\/br>\r\n                        <span class=\"span-style2\">Threads<\/span>\r\n                    <\/div>\r\n                    <div class=\"col-xs-3\" style=\"text-align: center;\">\r\n                        <span class=\"head-style\" style=\"color:#49CF96;\">{{topic.postcount}}<\/span><\/br>\r\n                        <span class=\"span-style2\">Posts<\/span>\r\n                    <\/div>\r\n                    <div class=\"col-xs-6\" style=\"text-align: center;\">\r\n                         <span class=\"head-style\" style=\"color:#DA7176;\">{{topic.lastPost.DisplayName}}<\/span><\/br>\r\n                        <span class=\"span-style2\">Last Post<\/span> \r\n                    <\/div>        \r\n                 <\/div>                \r\n            <\/div> \r\n            <p style=\"border1:1px solid #444;background:#f2f2f2;padding:8px;\" ng-bind-html=\"trustHtml(topic.Description.Html);\"><\/p>            \r\n        <\/div>\r\n    <\/div>\r\n\r\n    <div style=\"margin:20px;\" class=\"alert alert-danger\" ng-show=\"forums == null  ||  forums.length == 0\">You don't have any discussion topics available to post messages to.<\/div>\r\n\r\n<\/div>"
        },
        {
          "pageid": "DiscussionsPage2",
          "pageTemplate": "<div><\/div>",
          "endpoint": "",
          "datatemplate": "<style>\r\n    #appContent {\r\n        height: 100%;\r\n        width: 100%;\r\n        background: #fff;\r\n        overflow-x: hidden;\r\n    }\r\n    .main-header {\r\n        font-family: Calibri, Arial;\r\n        font-size: 1.3em;\r\n        font-weight: bold;\r\n    }  \r\n    .group-header {\r\n        font-family: Calibri,Arial;\r\n        font-size: 1.1em;\r\n        font-weight: bold;\r\n    }      \r\n    .overlay-background {\r\n        background:rgba(0,0,30,0.6) !important;\r\n    }    \r\n    .custom-text-area {\r\n        width: 100%;\r\n        height:40%;\r\n        border: 1px solid #01437F;\r\n        -webkit-border-radius: 4px;\r\n        -moz-border-radius:4px;\r\n        border-radius:4px;\r\n    }      \r\n<\/style>\r\n<div style=\"overflow-x:hidden;\">\r\n     <div class=\"list-group-item\" style=\"background: #e3e3e3;\">\r\n        <span class=\"group-header\">{{topic.Name}}<\/span><\/br>        \r\n    <\/div> \r\n    <div class=\"list-group-item\">\r\n        <div class=\"btn btn-primary\" ng-click=\"showNewThread()\">Add New Thread<\/div>\r\n    <\/div> \r\n    <div overlay=\"addThreadModal\" default=\"active\">\r\n        <div class=\"group-container\">\r\n            <div class=\"h4 group-header\" style=\"color:#fff;\">{{topic.Name}}<\/div>\r\n            <div class=\"list-group\">\r\n                <div class=\"list-group-item\" style=\"background: transparent;\">\r\n                    <input type=\"text\" ng-model=\"subject\" class=\"form-control\" placeholder=\"Subject\" />\r\n                <\/div>\r\n                <div class=\"list-group-item\" style=\"background: transparent;\">\r\n                    <!-- <label class=\"form-label\">Message<\/label> -->\r\n                    <textarea class=\"custom-text-area\" rows=\"10\" cols=\"10\" placeholder=\"Message\" class=\"form-control\" ng-model=\"message\">\r\n                    <\/textarea>\r\n                <\/div>\r\n            <\/div>\r\n        <\/div>\r\n        <div class=\"list-group-item\" style=\"background: transparent;\">\r\n            <span class=\"btn btn-default\" style=\"margin-right: 2em;\" toggle=\"off\" bubble target=\"addThreadModal\">Cancel<\/span>\r\n            <span class=\"btn btn-default\" ng-click=\"addNewThread();\">Submit<\/span>\r\n        <\/div>\r\n    <\/div>\r\n     <div ng-repeat=\"post in topic.myposts\" style=\"margin-top:0px;margin-bottom: 0px;\">\r\n        <div class=\"list-group-item clearfix\" ng-click=\"showReplies(post)\">\r\n            <strong>{{post.Subject}}<span class=\"pull-right fa fa-chevron-right\"><\/span><\/strong><\/br>\r\n            <span>{{post.DisplayName}}&nbsp;posted&nbsp;{{post.DatePosted | date: 'medium'}}<\/span>\r\n        <\/div> \r\n        <p style=\"border1:1px solid #444;background:#f2f2f2;padding:8px;\" ng-bind-html=\"trustHtml(post.Message.Html);\"><\/p>           \r\n    <\/div> \r\n    <div class=\"list-group-item\" ng-show=\"topic.myposts.length == 0\">\r\n        <span>There are no threads in this topic.<\/span>\r\n    <\/div>             \r\n<\/div>",
          "pageprocessor": "function pageprocessorDiscussionsPage2(pagedef, $scope, $routeParams, $compile, $http, $rootScope, $sce, $window, $location) {\r\n    var data1 = $compile($(pagedef.datatemplate))($scope);\r\n    $(\"#appContent\").append(data1);\r\n    $scope.course = $rootScope.course;    \r\n    $scope.forum = $rootScope.forum;\r\n    $scope.topic = $rootScope.topic;\r\n    $scope.classlist = $rootScope.classlist;\r\n    $scope.message = \"\";\r\n    $scope.subject = \"\";\r\n\r\n    //alert(\"name=\"+$scope.topic.Name);\r\n    $rootScope.discussionpage =\"page2\";\r\n    $scope.findDisplayName = function(userid) {\r\n        var dispName = \"\";\r\n        angular.forEach($scope.classlist, function(value,key) {\r\n            if (value.Identifier == userid) {\r\n                dispName = value.DisplayName;\r\n                return;\r\n            }\r\n        });\r\n        return dispName;\r\n    }\r\n\r\n    angular.forEach($scope.topic.myposts, function(value,key) {\r\n        if (!value.DisplayName) {\r\n            value.DisplayName = $scope.findDisplayName(value.PostingUserId);\r\n        }\r\n    });\r\n\r\n    \r\n    $scope.showReplies = function(post) {\r\n        //generate ui structure\r\n        $rootScope.post = post;\r\n        $location.path(\"/app/Discussions/DiscussionsPage3\"); \r\n\r\n    }\r\n\r\n    \r\n    $scope.trustHtml = function(data) {\r\n        return $sce.trustAsHtml(data);\r\n    }\r\n\r\n    $scope.showNewThread = function() {\r\n        $rootScope.toggle(\"addThreadModal\");\r\n    }\r\n\r\n    $scope.addNewThread = function() {\r\n        if (!$scope.subject) {\r\n            if (window.device) {\r\n                navigator.notification.alert(\"Enter a subject for the new thread.\", null, \"Add New Thread\", null);\r\n            } else {\r\n                apprise(\"Enter a subject for the new thread.\", {\r\n                    'verify': false,\r\n                    'textYes': \"Ok\"\r\n                }, function (r) {\r\n                    \r\n                });\r\n            }  \r\n            return false;            \r\n        }\r\n        if (!$scope.message) {\r\n            if (window.device) {\r\n                navigator.notification.alert(\"Enter content for the new thread.\", null, \"Add New Thread\", null);\r\n            } else {\r\n                apprise(\"Enter content for the new thread.\", {\r\n                    'verify': false,\r\n                    'textYes': \"Ok\"\r\n                }, function (r) {\r\n                    \r\n                });\r\n            }  \r\n            return false;             \r\n        }\r\n\r\n        var postdata = {\r\n            \"ParentPostId\": \"\",\r\n            \"Subject\": $scope.subject,\r\n            \"Message\": {\r\n                        \"Content\": $scope.message,\r\n                        \"Type\": \"html\"\r\n                       },\r\n            \"IsAnonymous\": false\r\n        };\r\n        $rootScope.toggle(\"addThreadModal\");\r\n        //alert($scope.course + \" - \"+ $scope.topic.ForumId + \" - \"+ $scope.topic.TopicId);\r\n        var url = \"/d2l/api/le/1.4/\" + $scope.course +  \"/discussions/forums/\" + $scope.topic.ForumId +  \"/topics/\" + $scope.topic.TopicId + \"/posts/\";\r\n        $rootScope.ValencePostAPI(url, postdata, function(data) {\r\n            $.unblockUI();\r\n            data.replyIds = [];\r\n            var cdate = new Date(data.DatePosted).toUTCString();\r\n            data.DatePosted = cdate;\r\n            data.LEVEL = 0;\r\n            data.posts = [];\r\n            $scope.topic.postcount++;\r\n            $scope.topic.threads++;          \r\n            $scope.topic.myposts.push(data);  \r\n\r\n            $rootScope.topic = $scope.topic;                \r\n        });            \r\n\r\n    }\r\n}"
        }
      ]
    },
    {
      "id": 56599,
      "name": "Announcements2",
      "displayname": "Announcements",
      "logo": "CCTC/Announcements2.png",
      "logourl": "CCTC/Announcements2.png",
      "description": "Announcements",
      "appFeatureType": "Desire2Learn",
      "roles": "D2LSTUDENT",
      "showInDock": false,
      "showInHome": false,
      "networkrequired": true,
      "analytics": false,
      "pages": 
      [
        {
          "pageid": "Announcements2",
          "pageTemplate": "<div><\/div>",
          "datatemplate": "<style>\r\n  #appContent {\r\n    height: 100%;\r\n    width: 100%;\r\n    background: #fff;\r\n  }\r\n  \r\n  .text-3D {\r\n    text-shadow: #333333 2px 2px;\r\n    font-family: Calibri, Arial;\r\n    font-size: 1.3em;\r\n  }\r\n<\/style>\r\n<div style=\"background:#213445;height:110px;width:100%;padding:1em;color:#fff;\">\r\n  <div style=\"position:absolute;opacity:0.4;\">\r\n    <i class=\"fa fa-file-text-o fa-4x\"><\/i>\r\n  <\/div>\r\n  <div style=\"margin-left:4.5em;color:#fff !important;\">\r\n    <h3 class=\"text-3D\"><b>Course List<\/b><\/h3>\r\n    <p style=\"color:#ffffff !important\">Select a course to see its course announcements.<\/p>\r\n  <\/div>\r\n<\/div>\r\n<div class=\"list-group\">\r\n  <a class=\"list-group-item\" ng-repeat=\"course in courseslist\" style=\"min-height:4em;\" href=\"#app/Announcements2/Announcements2Page2?index={{$index}}\">\r\n    <div class=\"row clearfix\">\r\n      <div class=\"col-xs-10\">\r\n        <span class=\"\">\r\n\t\t\t\t\t{{course.OrgUnit.Name}}\r\n\t\t\t\t<\/span>\r\n      <\/div>\r\n      <div class=\"col-xs-2\">\r\n        <i class=\"fa fa-chevron-right\" />\r\n      <\/div>\r\n    <\/div>\r\n  <\/a>\r\n<\/div>\r\n<div class=\"well hide\" style=\"background:transparent;border:none;\">\r\n  <div class=\"list-group\">\r\n    <div class=\"list-group-item\" ng-repeat=\"course in courseslist\" style=\"margin-bottom:10px;box-shadow:0 0 5px #000;\">\r\n      <a class=\"list-group-item active\" href=\"#app/Announcements2/Announcements2Page2?index={{$index}}\">\r\n        <h4>{{course.OrgUnit.Name}}<span class=\"pull-right fa fa-chevron-right\"><\/span><\/h4>\r\n      <\/a>\r\n      <p>Code: {{course.OrgUnit.Code}}\r\n        <br/>Start Dt: {{course.Access.StartDate}}\r\n        <br/>End Dt: {{course.Access.StartDate}}\r\n        <br/>Active : {{course.Access.IsActive}}\r\n      <\/p>\r\n    <\/div>\r\n  <\/div>\r\n<\/div>",
          "pageprocessor": "function pageprocessorAnnouncements2(pagedef, $scope, $routeParams, $compile, $http, $rootScope, $sce, $window, $location) {\r\n    var data1 = $compile($(pagedef.datatemplate))($scope);\r\n    $(\"#appContent\").append(data1);\r\n\r\n    $rootScope.back = function() {\r\n        if ($routeParams.from) {\r\n\r\n            if (device.platform == 'iOS') {\r\n                history.go(-1);\r\n            } else {\r\n                navigator.app.backHistory();\r\n            }\r\n        } else {\r\n            window.location.href = \"index.html#home\";\r\n        }\r\n    }\r\n    \r\n    try {\r\n    if (!$rootScope.valenceToken) {\r\n            if (window.device) {\r\n                navigator.notification.alert(\"You may not be logged in to D2L or the session may got expired. Please login to D2L again.\", null, \"Holds\", null);\r\n            } else {\r\n                apprise(\"You may not be logged in to D2L or the session may got expired. Please login to D2L again.\", {\r\n                    'verify': false,\r\n                    'textYes': \"Ok\"\r\n                }, function (r) {\r\n                    \r\n                });\r\n            }            \r\n            $location.path(\"/home\");  \r\n            return;     \r\n    }\r\n    } catch (ex) {\r\n            if (window.device) {\r\n                navigator.notification.alert(\"You may not be logged in to D2L or the session may got expired. Please login to D2L again.\", null, \"Holds\", null);\r\n            } else {\r\n                apprise(\"You may not be logged in to D2L or the session may got expired. Please login to D2L again.\", {\r\n                    'verify': false,\r\n                    'textYes': \"Ok\"\r\n                }, function (r) {\r\n                    \r\n                });\r\n            }            \r\n            $location.path(\"/home\"); \r\n            return;\r\n    }\r\n\r\n\r\n\r\n    if ($rootScope.courseslist && $rootScope.courseslist.length > 0) {\r\n        //\r\n    } else {\r\n        $scope.courseslist = [];\r\n        $rootScope.courseslist = []; \r\n        $rootScope.ValenceGetAPI(pagedef.endpoint, function(data) {\r\n\r\n\r\n            var courseslist = [];\r\n            $.each(data.Items, function(i, val) {\r\n                //alert(\"Code : \" + val.OrgUnit.Type.Code);\r\n                if ((val.OrgUnit.Type.Code == \"Course Offering\") && (val.Access.IsActive) && (val.Access.CanAccess)  ) {\r\n                    courseslist.push(val);\r\n                }\r\n            });\r\n            $scope.courseslist = courseslist;\r\n            $rootScope.courseslist = courseslist;\r\n        });\r\n    }           \r\n    }\r\n",
          "endpoint": "/"
        },
        {
          "pageid": "Announcements2Page2",
          "pageTemplate": "<div><\/div>",
          "datatemplate": "<style>\r\n  #appContent {\r\n    height: 100%;\r\n    width: 100%;\r\n    background: #fff;\r\n  }\r\n  \r\n  .main-header {\r\n    font-family: Calibri, Arial;\r\n    font-size: 1.3em;\r\n    font-weight: bold;\r\n  }\r\n  \r\n  .group-header {\r\n    font-family: Calibri, Arial;\r\n    font-size: 1.1em;\r\n    font-weight: bold;\r\n  }\r\n  \r\n  .list-group-item-header {\r\n    background: #e3e3e3;\r\n    line-height: 1.5em;\r\n  }\r\n  \r\n  .text-3D {\r\n    text-shadow: #333333 2px 2px;\r\n    font-family: Calibri, Arial;\r\n    font-size: 1.3em;\r\n    color:#fff;\r\n  }\r\n<\/style>\r\n<div style=\"margin-top:-9px;\">\r\n  <div style=\"background:#213445;height:110px;width:100%;padding:1em;color:#fff;border-bottom:1px solid #015F90;\">\r\n    <div style=\"position:absolute;opacity:0.4;\">\r\n      <i class=\"fa fa-file-text-o fa-5x\"><\/i>\r\n    <\/div>\r\n    <div style=\"margin-left:4.5em;margin-top:1em;\">\r\n      <h3 class=\"text-3D\"><b>{{course.OrgUnit.Name}}<\/b><\/h3>\r\n    <\/div>\r\n  <\/div>\r\n  <div class=\"list-group-item\">\r\n    <span class=\"group-header\">Course Announcements:<\/span>\r\n  <\/div>\r\n  <div class=\"list-group\">\r\n    <div class=\"list-group-item\" ng-repeat=\"cn in coursenews\">\r\n      <h4 style=\"color:#000;\">{{cn.Title}}<\/h4>\r\n      <p>Posted&nbsp;{{cn.StartDate | date : 'medium'}}<\/p>\r\n      <p ng-bind-html=\"trusthtml(cn.Body.Html)\">\r\n\r\n      <\/p>\r\n    <\/div>\r\n  <\/div>\r\n<\/div>",
          "endpoint": "",
          "pageprocessor": "function pageprocessorAnnouncements2Page2(pagedef, $scope, $routeParams, $compile, $http, $rootScope, $sce, $window, $location) {\r\n    var data1 = $compile($(pagedef.datatemplate))($scope);\r\n    $(\"#appContent\").append(data1);\r\n    var course = $rootScope.courseslist[$routeParams.index];\r\n    $scope.course = course;\r\n    $scope.trusthtml = function (data) {\r\n        return $sce.trustAsHtml(data);\r\n    }    \r\n\r\n    $rootScope.ValenceGetAPI(\"/d2l/api/le/1.0/\" + $scope.course.OrgUnit.Id + \"/news/\", function(data) {\r\n        $scope.coursenews = data;\r\n        \r\n    });\r\n\r\n      \r\n}"
        }
      ]
    },
    {
      "id": 45810,
      "name": "LookupClasses",
      "displayname": "Lookup Classes",
      "logo": "CCTC/LookupClasses.png",
      "logourl": "CCTC/LookupClasses.png",
      "description": "Lookup Classes",
      "appFeatureType": "Banner",
      "roles": "STUDENT,FACULTY",
      "showInDock": false,
      "showInHome": true,
      "networkrequired": true,
      "analytics": true,
      "pages": 
      [
        {
          "pageid": "LookupClassesDetails",
          "pageTemplate": "<div><\/div>",
          "endpoint": null,
          "pageprocessor": "function pageprocessorLookupClassesDetails(pagedef, $scope, $routeParams, $compile, $http, $rootScope, $sce, $window, $location) {\r\n  var data1 = $compile($(pagedef.datatemplate))($scope);\r\n  $(\"#appContent\").append(data1);\r\n\r\n  $scope.classforregister = $rootScope.classlookup;\r\n  angular.forEach($scope.classforregister, function(value, key) {\r\n    if (value[0].TIME.length > 8) {\r\n      value[0].TIME_DISPLAY = value[0].TIME.split(\" \")[1];\r\n    } else {\r\n      value[0].TIME_DISPLAY = \"To Be Announced\";\r\n    }\r\n    var days = value[0].TIME.indexOf(\" \") != -1 ? value[0].TIME.split(\" \")[0] : \"\";\r\n    value[0].WEEK_DATA = [{\r\n      \"LABEL\": \"Mon\",\r\n      \"AVAIL\": days.indexOf(\"M\") != -1,\r\n      \"DISP_CLASS\": days.indexOf(\"M\") != -1 ? \"btn-success\" : \"btn-primary\"\r\n    }, {\r\n      \"LABEL\": \"Tue\",\r\n      \"AVAIL\": days.indexOf(\"T\") != -1,\r\n      \"DISP_CLASS\": days.indexOf(\"T\") != -1 ? \"btn-success\" : \"btn-primary\"\r\n    }, {\r\n      \"LABEL\": \"Wed\",\r\n      \"AVAIL\": days.indexOf(\"W\") != -1,\r\n      \"DISP_CLASS\": days.indexOf(\"W\") != -1 ? \"btn-success\" : \"btn-primary\"\r\n    }, {\r\n      \"LABEL\": \"Thu\",\r\n      \"AVAIL\": days.indexOf(\"R\") != -1,\r\n      \"DISP_CLASS\": days.indexOf(\"R\") != -1 ? \"btn-success\" : \"btn-primary\"\r\n    }, {\r\n      \"LABEL\": \"Fri\",\r\n      \"AVAIL\": days.indexOf(\"F\") != -1,\r\n      \"DISP_CLASS\": days.indexOf(\"F\") != -1 ? \"btn-success\" : \"btn-primary\"\r\n    }, {\r\n      \"LABEL\": \"Sat\",\r\n      \"AVAIL\": days.indexOf(\"S\") != -1,\r\n      \"DISP_CLASS\": days.indexOf(\"S\") != -1 ? \"btn-success\" : \"btn-primary\"\r\n    }, {\r\n      \"LABEL\": \"Sun\",\r\n      \"AVAIL\": days.indexOf(\"U\") != -1,\r\n      \"DISP_CLASS\": days.indexOf(\"U\") != -1 ? \"btn-success\" : \"btn-primary\"\r\n    }];\r\n  });\r\n\r\n  $scope.formatTime = function(fullhr) {\r\n    var hours = fullhr.substring(0, 2);\r\n    var minutes = fullhr.substring(2, 4);\r\n    suffix = (parseInt(hours) >= 12) ? 'PM' : 'AM';\r\n    hours = (parseInt(hours) > 12) ? hours - 12 : hours;\r\n    hours = (parseInt(hours) == '00') ? 12 : hours;\r\n    return (hours + \":\" + minutes + \" \" + suffix);\r\n  }\r\n\r\n}",
          "datatemplate": "<style>\r\n  .legend-sm {\r\n    width: 15px;\r\n    height: 15px;\r\n  }\r\n<\/style>\r\n<div class=\"page-container\">\r\n  <div class=\"list-group-item main-heading\">Class Search Results:<\/div>\r\n  <div ng-repeat=\"course in classforregister\">\r\n    <div class=\"list-group-item group-heading\">\r\n      <strong>{{course[0].TITLE}}<\/strong>\r\n      <br/>\r\n      <span>{{course[0].COURSE_ID}}<\/span>\r\n      <span class=\"pull-right\">CRN:&nbsp;{{course[0].CRN}}<\/span>\r\n    <\/div>\r\n    <div class=\"list-group-item key\">Instructor:<span class=\"pull-right val\">{{course[0].INSTRUCTOR}}<\/span><\/div>\r\n    <li class=\"list-group-item clearfix\">\r\n      <div class=\"row\">\r\n        <div class=\"col-xs-8 key\">\r\n          Credits :\r\n          <span class=\"pull-right val\">{{course[0].CREDIT_HOURS}}<\/span>\r\n          <br/>Duration :\r\n          <span class=\"pull-right val\">{{course[0].DURATION}}<\/span>\r\n          <br/>Time :\r\n          <span class=\"pull-right val\" ng-show=\"course[0].SSRMEET_BEGIN_TIME=='' || course[0].SSRMEET_BEGIN_TIME==''\">{{course[0].TIME_DISPLAY}}<\/span>\r\n          <span class=\"pull-right val\" ng-show=\"course[0].SSRMEET_BEGIN_TIME.length>1\"><span ng-bind=\"formatTime(course[0].SSRMEET_BEGIN_TIME)\"><\/span> - <span ng-bind=\"formatTime(course[0].SSRMEET_END_TIME)\"><\/span><\/span>\r\n          <br/>Location :\r\n          <span class=\"pull-right val\">{{course[0].LOCATION}}<\/span>\r\n        <\/div>\r\n        <div class=\"col-xs-4 text-center\">\r\n          <span class=\"key\">Available<\/span>\r\n          <span class=\"text-center badge badge-info circle\">{{course[0].REMAINING}}<\/span>\r\n        <\/div>\r\n      <\/div>\r\n    <\/li>\r\n    <li class=\"list-group-item clearfix\">\r\n      <div class=\"btn-group btn-group-xs pull-left\">\r\n        <button type=\"button\" ng-class=\"day.DISP_CLASS\" class=\"btn\" ng-repeat=\"day in course[0].WEEK_DATA \">{{day.LABEL}}<\/button>\r\n      <\/div>\r\n      <span class=\"pull-right\">&nbsp;&nbsp;Meets On <\/span>&nbsp;&nbsp;\r\n      <div class=\"pull-right btn-success legend-sm\"><\/div>\r\n    <\/li>\r\n  <\/div>\r\n<\/div>"
        },
        {
          "pageid": "LookupClasses",
          "pageTemplate": "<div><\/div>",
          "datatemplate": "<div class=\"page-container\">\r\n    <div class=\"list-group-item key-block\">\r\n        <span class=\"pull-left\">\r\n            <i class=\"fa fa-info-circle fa-2x\"><\/i>\r\n        <\/span>\r\n        <div>Select a term from the below term dropdown and choose the other search parameters from the below section. You must select either a subject or an instructor at the minimum for searching.<\/div><br/>\r\n        <select id=\"termselect\" ng-model=\"selectedvalue\" class=\"form-control\" ng-change=\"dropdownselect(this.value);\">\r\n            <option value=\"\">-- Select Term --<\/option>\r\n            <option value=\"{{term.TERM_CODE}}\" ng-repeat=\"term in termdropdown\">{{term.TERM_DESC}}<\/option>\r\n        <\/select>       \r\n    <\/div>\r\n    <div class=\"list-group-item main-heading\">Select other class search parameters: <\/div>\r\n    <div class=\"list-group-item transparent\"><\/div>\r\n    <div class=\"list-group-item\" >\r\n            <div class=\"row\">\r\n                <div class=\"col-xs-12 col-md-12 form-horizontal ng-valid\">\r\n                        <div class=\"form-group\">\r\n                            <div class=\"col-xs-12 col-md-12 text-center\">\r\n                                <select ng-model=\"selectedSubject\" class=\"form-control\">\r\n                                    <option value=\"\">-- Search Subject --<\/option>\r\n                                    <option value=\"{{subj.SUBJECT_CODE}}\" ng-repeat=\"subj in listdata.subjectDropDown\">{{subj.SUBJECT_DESC}}<\/option>\r\n                                <\/select>\r\n                            <\/div>\r\n                        <\/div>\r\n                        <div class=\"form-group\">\r\n                            <div class=\"col-xs-12 col-md-12 text-center\">\r\n                                <input type=\"text\" class=\"form-control text-center\" placeholder=\"Course Number\" name=\"courseNumber\" id=\"courseNumber\" ng-model=\"courseNumber\">\r\n                            <\/div>\r\n                        <\/div>\r\n                        <div class=\"form-group\">\r\n                            <div class=\"col-xs-12 col-md-12 text-center\">\r\n                                <input type=\"text\" class=\"form-control\" placeholder=\"Title\" name=\"courseTitle\" id=\"courseTitle\" ng-model=\"courseTitle\">\r\n                            <\/div>\r\n                        <\/div>\r\n\r\n                        <div class=\"form-group\">\r\n                            <div class=\"col-xs-6 col-md-6 text-center\">\r\n                                <input type=\"text\" class=\"form-control text-center\" placeholder=\"Credit Range From\" name=\"creditFrom\" id=\"creditFrom\" ng-model=\"creditFrom\">\r\n                            <\/div>\r\n                            <div class=\"col-xs-6 col-md-6\">\r\n                                <input type=\"text\" class=\"form-control text-center\" placeholder=\"Credit Range To\" name=\"creditTo\" id=\"creditTo\" ng-model=\"creditTo\">\r\n                            <\/div>\r\n\r\n                        <\/div>\r\n                        <div class=\"form-group\">\r\n                            <div class=\"col-md-12 col-xs-12 text-center\">\r\n                                <select ng-model=\"selectedInstructor\" class=\"form-control\">\r\n                                    <option value=\"\">-- Search Instructor --<\/option>\r\n                                    <option value=\"{{inst.SPRIDEN_PIDM}}\" ng-repeat=\"inst in listdata.instructorDropDown\">{{inst.SPRIDEN_FIRST_NAME}} {{inst.SPRIDEN_LAST_NAME}} <\/option>\r\n                                <\/select>\r\n                            <\/div>\r\n                        <\/div>\r\n\r\n                        <!-- Form actions -->\r\n                        <div class=\"form-group\">\r\n                            <div class=\"list-group-item transparent text-center\" >\r\n                                <div ng-click=\"search();\" class=\"btn btn-primary btn-oval\" >\r\n                                    <i class=\"fa fa-search\" ><\/i> Search Classes<\/div>\r\n                            <\/div>\r\n                        <\/div>\r\n                <\/div>\r\n            <\/div>\r\n    <\/div>\r\n<\/div>",
          "endpoint": null,
          "pageprocessor": "function pageprocessorLookupClasses(pagedef, $scope, $routeParams, $compile, $http, $rootScope, $sce, $window, $location) {\r\n  var data1 = $compile($(pagedef.datatemplate))($scope);\r\n  $(\"#appContent\").append(data1);\r\n  $scope.selectedSubject = \"\";\r\n  $scope.courseNumber = \"\";\r\n  $scope.partTermCode = \"\";\r\n  $scope.selectedInstructor = \"\";\r\n  $scope.courseTitle = \"\";\r\n  $scope.creditFrom = \"\";\r\n  $scope.creditTo = \"\";\r\n  $scope.selectedvalue = \"\";\r\n\r\n  var termdropdownURL = \"/bannertermsForClassLookup\";\r\n\r\n  $rootScope.getAPI( termdropdownURL, function(data) {\r\n    $scope.termdropdown = data.termdropdown;\r\n  });\r\n\r\n  $scope.dropdownselect = function(selectedvalue) {\r\n    $('#termselect').blur();\r\n    var otherSearchParamsURL = \"/bannergetOtherClassSearchParams/termCode=\";\r\n\r\n    $rootScope.getAPI( otherSearchParamsURL + $scope.selectedvalue, function(data) {\r\n      $scope.listdata = data;\r\n    });\r\n  }\r\n\r\n  $scope.search = function() {\r\n    if ($scope.selectedvalue == \"\") {\r\n      if (window.device) {\r\n        navigator.notification.alert(\"Please select term code.\", null, \"Look Up Classes\", null);\r\n      } else {\r\n        apprise(\"Please select term code\", {\r\n          'verify': false,\r\n          'textYes': \"Ok\"\r\n        }, function(r) {\r\n\r\n        });\r\n      }\r\n      return;\r\n    }\r\n    if ($scope.selectedSubject == \"\" && $scope.selectedInstructor == \"\") {\r\n      if (window.device) {\r\n        navigator.notification.alert(\"Please select Subject or Instructor.\", null, \"Look Up Classes\", null);\r\n      } else {\r\n        apprise(\"Please select Subject or Instructor.\", {\r\n          'verify': false,\r\n          'textYes': \"Ok\"\r\n        }, function(r) {\r\n\r\n        });\r\n      }\r\n      return;\r\n    }\r\n    var searchURL = \"/bannerclasslookup/termCode=\" + $scope.selectedvalue +\r\n      \"&subjectCode=\" + $scope.selectedSubject +\r\n      \"&courseNumber=\" + $scope.courseNumber +\r\n      \"&partTermCode=\" + $scope.partTermCode +\r\n      \"&facultyPidm=\" + $scope.selectedInstructor +\r\n      \"&courseTitle=\" + $scope.courseTitle +\r\n      \"&creditFrom=\" + $scope.creditFrom +\r\n      \"&creditTo=\" + $scope.creditTo;\r\n\r\n    $rootScope.getAPI( searchURL, function(data) {\r\n      if (data.CLASSLOOKUP.length == 0) {\r\n        if (window.device) {\r\n          navigator.notification.alert(\"No record found.\", null, \"Look Up Classes\", null);\r\n        } else {\r\n          apprise(\"No record found.\", {\r\n            'verify': false,\r\n            'textYes': \"Ok\"\r\n          }, function(r) {\r\n\r\n          });\r\n        }\r\n      } else {\r\n        $rootScope.classlookup = data.CLASSLOOKUP;\r\n        $location.path(\"/app/LookupClasses/LookupClassesDetails\");\r\n      }\r\n    });\r\n  }\r\n}"
        }
      ]
    },
    {
      "id": 45816,
      "name": "RegistrationCart",
      "displayname": "Add/Drop Classes",
      "logo": "CCTC/RegistrationCart.png",
      "logourl": "CCTC/RegistrationCart.png",
      "description": "RegistrationCart",
      "appFeatureType": "Banner",
      "roles": "STUDENT",
      "showInDock": false,
      "showInHome": true,
      "networkrequired": true,
      "analytics": true,
      "pages": 
      [
        {
          "pageid": "RegistrationCart",
          "pageTemplate": "<div><\/div>",
          "pageprocessor": "function pageprocessorRegistrationCart(pagedef, $scope, $routeParams, $compile, $http, $rootScope, $sce, $window, $location) {\r\n  var data1 = $compile($(pagedef.datatemplate))($scope);\r\n  $(\"#appContent\").append(data1);\r\n  $scope.openWeb = function() {\r\n    window.open(\"http://www.cctech.edu/registration-agreement/#ra1\", '_blank', 'location=no');\r\n  }\r\n\r\n  $scope.openAddDrop = function() {\r\n      $location.path(\"/app/RegistrationCart/RegistrationCartPage2\");\r\n    }\r\n    /*$rootScope.back = function() {\r\n\r\n    var onConfirm = function(buttonIndex) {\r\n      if (buttonIndex == 1) {\r\n        window.location.href = \"index.html#home\";\r\n        \r\n}\r\n};\r\nif ($scope.cart.length > 0) {\r\n  if (window.device) {\r\n    navigator.notification.confirm(\r\n      'This will clear the cart. Continue ?', // message\r\n      onConfirm, // callback to invoke with index of button pressed\r\n      'Add/Drop Classes', // title\r\n      ['Yes', 'No'] // buttonLabels\r\n    );\r\n  } else {\r\n    apprise(\"This will clear the cart. Continue ?\", {\r\n      'verify': true,\r\n      'textYes': \"Yes\",\r\n      'textNo': \"No\"\r\n    }, function(r) {\r\n      if (r) {\r\n        window.location.href = \"index.html#home\";\r\n      }\r\n    });\r\n  }\r\n} else {\r\n  window.location.href = \"index.html#home\";\r\n}\r\n\r\n\r\n}\r\n\r\nvar data1 = $compile($(pagedef.datatemplate))($scope);\r\n$(\"#appContent\").append(data1);\r\n\r\n$scope.tempvar = false;\r\n$scope.termdropdown = \"\";\r\n$scope.selectedvalue = \"\";\r\n$scope.inSearchWindow = true;\r\n$scope.altpin = \"\";\r\n$scope.showaltpin = false;\r\n$scope.servererror = false;\r\n$scope.showmessage = false;\r\n$scope.showmessage2 = false;\r\n$scope.currentSchedule = \"\";\r\n$scope.scheduleSummary = \"\";\r\n$scope.scheduleActions = \"\";\r\n$scope.classes = [];\r\nvar prevValue = [];\r\nvar monthName = [\"JAN\", \"FEB\", \"MAR\", \"APR\", \"MAY\", \"JUN\", \"JUL\", \"AUG\", \"SEP\", \"OCT\", \"NOV\", \"DEC\"];\r\n//Cart variables\r\n$scope.cart = [];\r\n$scope.weekdata = [{\r\n  style: \"\",\r\n  label: \"M\",\r\n  selected: \"\"\r\n}, {\r\n  style: \"\",\r\n  label: \"T\",\r\n  selected: \"\"\r\n}, {\r\n  style: \"\",\r\n  label: \"W\",\r\n  selected: \"\"\r\n}, {\r\n  style: \"\",\r\n  label: \"T\",\r\n  selected: \"\"\r\n}, {\r\n  style: \"\",\r\n  label: \"F\",\r\n  selected: \"\"\r\n}, {\r\n  style: \"\",\r\n  label: \"S\",\r\n  selected: \"\"\r\n}, {\r\n  style: \"\",\r\n  label: \"S\",\r\n  selected: \"\"\r\n}];\r\n\r\n$scope.displayMessage = function(message) {\r\n  if (window.device) {\r\n    navigator.notification.alert(message, null, \"Add/Drop Classes\", null);\r\n  } else {\r\n    apprise(message, {\r\n      'verify': false,\r\n      'textYes': \"Ok\"\r\n    }, function(r) {\r\n\r\n    });\r\n  }\r\n}\r\n\r\n$scope.clearCart = function() {\r\n  $scope.classes = [];\r\n  $scope.cart = [];\r\n  $scope.altpin = \"\";\r\n  $scope.showaltpin = false;\r\n  $scope.servererror = false;\r\n  $scope.selectedSubject = \"\";\r\n  $scope.courseNumber = \"\";\r\n  $scope.courseTitle = \"\";\r\n  $scope.partTermCode = \"\";\r\n  $scope.creditFrom = \"\";\r\n  $scope.creditTo = \"\";\r\n  $scope.selectedInstructor = \"\";\r\n  $scope.selectedCampus = \"\";\r\n  $scope.weekdata = [{\r\n    style: \"\",\r\n    label: \"M\",\r\n    selected: \"\"\r\n  }, {\r\n    style: \"\",\r\n    label: \"T\",\r\n    selected: \"\"\r\n  }, {\r\n    style: \"\",\r\n    label: \"W\",\r\n    selected: \"\"\r\n  }, {\r\n    style: \"\",\r\n    label: \"T\",\r\n    selected: \"\"\r\n  }, {\r\n    style: \"\",\r\n    label: \"F\",\r\n    selected: \"\"\r\n  }, {\r\n    style: \"\",\r\n    label: \"S\",\r\n    selected: \"\"\r\n  }, {\r\n    style: \"\",\r\n    label: \"S\",\r\n    selected: \"\"\r\n  }];\r\n}\r\n\r\n$scope.clearSearch = function() {\r\n  $scope.courseNumber = \"\";\r\n  $scope.courseTitle = \"\";\r\n  $scope.partTermCode = \"\";\r\n  $scope.creditFrom = \"\";\r\n  $scope.creditTo = \"\";\r\n  $scope.selectedInstructor = \"\";\r\n  $scope.selectedCampus = \"\";\r\n  $scope.weekdata = [{\r\n    style: \"\",\r\n    label: \"M\",\r\n    selected: \"\"\r\n  }, {\r\n    style: \"\",\r\n    label: \"T\",\r\n    selected: \"\"\r\n  }, {\r\n    style: \"\",\r\n    label: \"W\",\r\n    selected: \"\"\r\n  }, {\r\n    style: \"\",\r\n    label: \"T\",\r\n    selected: \"\"\r\n  }, {\r\n    style: \"\",\r\n    label: \"F\",\r\n    selected: \"\"\r\n  }, {\r\n    style: \"\",\r\n    label: \"S\",\r\n    selected: \"\"\r\n  }, {\r\n    style: \"\",\r\n    label: \"S\",\r\n    selected: \"\"\r\n  }];\r\n}\r\n\r\nvar termdropdownURL = \"/bannertermsForRegCart\";\r\n$rootScope.getAPI(termdropdownURL, function(data) {\r\n  $scope.termdropdown = data.termdropdown;\r\n  $scope.clearCart();\r\n  if (angular.isArray($scope.termdropdown) && $scope.termdropdown.length > 0) {\r\n    $scope.selectedvalue = $scope.termdropdown[0].TERM_CODE;\r\n    $scope.dropdownselect($scope.selectedvalue);\r\n  }\r\n});\r\n\r\n$scope.getTermDescription = function(tcode) {\r\n  var tdesc = \"\";\r\n  angular.forEach($scope.termdropdown, function(value, key) {\r\n    if (value.TERM_CODE == tcode) {\r\n      tdesc = value.TERM_DESC;\r\n      return;\r\n    }\r\n  });\r\n  return tdesc;\r\n}\r\n\r\n$scope.selectDay = function(day) {\r\n  if ($scope.weekdata[day].style == \"btn-selected\") {\r\n    $scope.weekdata[day].style = \"\";\r\n    $scope.weekdata[day].selected = \"\";\r\n  } else {\r\n    $scope.weekdata[day].style = \"btn-selected\";\r\n    $scope.weekdata[day].selected = \"Y\";\r\n  }\r\n}\r\n\r\n$scope.refreshCurrentSchedule = function() {\r\n  $scope.currentSchedule = \"\";\r\n  $scope.scheduleSummary = \"\";\r\n  //$scope.scheduleActions = \"\";  \r\n  $scope.showmessage2 = false;\r\n  var currUrl = \"/bannerregistrationcartcurrentschedule/termCode=\" + $scope.selectedvalue;\r\n  $rootScope.getAPI(currUrl, function(schdata) {\r\n    console.log(schdata);\r\n    var sumresult = \"\";\r\n    var scheduleresult = \"\";\r\n    if (window.device) {\r\n      sumresult = JSON.parse(schdata.p_summary_out[0].summary);\r\n      scheduleresult = JSON.parse(schdata.p_schedule_out[0].currentschedule);\r\n      schdata.p_schedule_out[0].currentschedule = scheduleresult;\r\n    } else {\r\n      sumresult = JSON.parse(schdata.p_summary_out[0].summary);\r\n      scheduleresult = JSON.parse(JSON.stringify(schdata.p_schedule_out[0].currentschedule));\r\n      schdata.p_schedule_out[0].currentschedule = scheduleresult;\r\n    }\r\n\r\n    $scope.currentSchedule = schdata.currentschedule;\r\n    $scope.scheduleSummary = sumresult;\r\n\r\n    //$scope.scheduleActions = schdata.p_schedule_out[0].currentschedule;\r\n    angular.forEach($scope.currentSchedule, function(value, key) {\r\n      value.action = \"\";\r\n      //console.log(\"value=\"+value.SFTREGS_CRN);\r\n      angular.forEach(schdata.p_schedule_out[0].currentschedule[0].schedule, function(valschedule, keyschedule) {\r\n        if (valschedule.CRN == value.SFTREGS_CRN) {\r\n          value.scheduleActions = valschedule.ACTIONS;\r\n          //console.log(\"Actions=\"+value.scheduleActions.length);\r\n        }\r\n      });\r\n    });\r\n    if ($scope.tempvar) {\r\n      $.blockUI({\r\n        message: '<div class=\"loader\" style=\"margin: 2px; vertical-align: middle; display: inline-block\"><\/div>'\r\n      });\r\n    }\r\n  });\r\n\r\n}\r\n\r\n$scope.fetchAdditionalServices = function() {\r\n  $scope.tempvar = true;\r\n  var url = \"/bannergetRegCartOtherLOV/termCode=\" + $scope.selectedvalue;\r\n  $rootScope.getAPI(url, function(data) {\r\n    $scope.listdata = data;\r\n    $scope.tempvar = true;\r\n    //$scope.scheduleActions = \"\"; \r\n    //$scope.refreshCurrentSchedule();   \r\n    $scope.tempvar = false;\r\n  });\r\n  $scope.currentSchedule = \"\";\r\n  $scope.scheduleSummary = \"\";\r\n  $scope.refreshCurrentSchedule();\r\n}\r\n\r\n$scope.altPinProcess = function() {\r\n  if (!$scope.altpin) {\r\n    //\r\n  }\r\n  if (/^[0-9]*$/.test($scope.altpin) == false) {\r\n    if (window.device) {\r\n      navigator.notification.alert(\"Only numeric values are allowed as PIN !\", null, \"Add/Drop Classes\", null);\r\n    } else {\r\n      apprise(\"Only numeric values are allowed as PIN !\", {\r\n        'verify': false,\r\n        'textYes': \"Ok\"\r\n      }, function(r) {\r\n\r\n      });\r\n    }\r\n    return;\r\n  }\r\n  var pinUrl = \"/bannervalidateAddlPin\";\r\n  var postdata = \"termCode=\" + $scope.selectedvalue + \"&pin=\" + $scope.altpin;\r\n  $rootScope.postAPI(pinUrl, postdata, function(data) {\r\n    if (data.validateAddlPin.length >= 1) {\r\n      if (data.validateAddlPin[0].SUCCESS == \"true\") {\r\n        $scope.showaltpin = false;\r\n        $scope.fetchAdditionalServices();\r\n      } else {\r\n        $scope.displayMessage(\"The Pin you have entered is invalid. Please enter a valid Pin.\");\r\n      }\r\n    } else {\r\n      $scope.displayMessage(\"The Pin you have entered is invalid. Please enter a valid Pin.\");\r\n    }\r\n  });\r\n}\r\n\r\n$scope.getAltPinRequired = function() {\r\n  angular.forEach($scope.termdropdown, function(value, key) {\r\n    if (value.TERM_CODE == $scope.selectedvalue) {\r\n      return value.ALTPIN;\r\n    }\r\n  });\r\n  return 'N';\r\n}\r\n\r\n\r\n$scope.dropdownselect = function(termcode) {\r\n  //cart will be cleared. Confirmation should be asked to user. \r\n  $scope.listdata = [];\r\n  $scope.lovData = [];\r\n  $scope.open = false;\r\n  $scope.tempvar = false;\r\n  $scope.clearCart();\r\n  $scope.showmessage2 = false;\r\n  if (!$scope.selectedvalue) {\r\n    return;\r\n  }\r\n  //check for AltPIN\r\n  var altpinrequired = $scope.getAltPinRequired();\r\n  $scope.servererror = false;\r\n\r\n  if (altpinrequired == 'Y') {\r\n    // Ask for student pin and validate\r\n    $scope.showaltpin = true;\r\n  } else {\r\n    $scope.showaltpin = false;\r\n    $scope.fetchAdditionalServices();\r\n  }\r\n  \r\n\r\n}\r\n\r\n$scope.advancedClick = function() {\r\n  if (!$scope.open && !$scope.selectedvalue) {\r\n    if (window.device) {\r\n      navigator.notification.alert(\"Please select a term first !\", null, \"Add/Drop Classes\", null);\r\n    } else {\r\n      apprise(\"Please select a term first !\", {\r\n        'verify': false,\r\n        'textYes': \"Ok\"\r\n      }, function(r) {\r\n\r\n      });\r\n    }\r\n    return;\r\n  }\r\n  if (!$scope.open) {\r\n    $scope.lovData = [];\r\n    var lovUrl = \"/bannergetRegCartAdditionalLOV/termCode=\" + $scope.selectedvalue;\r\n    $rootScope.getAPI(lovUrl, function(lovdata) {\r\n      $scope.lovData = lovdata;\r\n    });\r\n  }\r\n  $scope.open = !$scope.open;\r\n\r\n}\r\n\r\n$scope.cancelAltPin = function() {\r\n  $scope.selectedvalue = \"\";\r\n  $scope.dropdownselect($scope.selectedvalue);\r\n}\r\n\r\n$scope.resetSearch = function() {\r\n  $scope.inSearchWindow = !$scope.inSearchWindow;\r\n  $scope.clearSearch();\r\n  $scope.showmessage = false;\r\n}\r\n\r\n$scope.addToCart = function(crn) {\r\n  angular.forEach($scope.classes, function(value, key) {\r\n    if (value.CRN == crn) {\r\n      if (value.OLR_COURSE == 'Y') {\r\n        if (!value.START_DATE && !value.END_DATE) {\r\n          if (window.device) {\r\n            navigator.notification.alert(\"Start Date or End Date should be mentioned for OLR courses.\", null, \"Add/Drop Classes\", null);\r\n          } else {\r\n            apprise(\"Start Date or End Date should be mentioned for OLR courses.\", {\r\n              'verify': false,\r\n              'textYes': \"Ok\"\r\n            }, function(r) {\r\n\r\n            });\r\n          }\r\n          return;\r\n        }\r\n        if (value.START_DATE && value.END_DATE) {\r\n          if (window.device) {\r\n            navigator.notification.alert(\"Only one of start or end dates may be entered.\", null, \"Add/Drop Classes\", null);\r\n          } else {\r\n            apprise(\"Only one of start or end dates may be entered.\", {\r\n              'verify': false,\r\n              'textYes': \"Ok\"\r\n            }, function(r) {\r\n\r\n            });\r\n          }\r\n          return;\r\n        }\r\n        var cStartDate, cEndDate;\r\n        if (value.START_DATE) {\r\n          var dStartDate = new Date(value.START_DATE);\r\n          cStartDate = dStartDate.getDate() + \"-\" + monthName[dStartDate.getMonth()] + \"-\" + dStartDate.getFullYear();\r\n        }\r\n        if (value.END_DATE) {\r\n          var dEndDate = new Date(value.END_DATE);\r\n          cEndDate = dEndDate.getDate() + \"-\" + monthName[dEndDate.getMonth()] + \"-\" + dEndDate.getFullYear();\r\n        }\r\n      }\r\n\r\n      value.addedToCart = true;\r\n      value.formatClass = \"in-cart-course\";\r\n      $scope.cart.push(value);\r\n      console.log($scope.cart);\r\n      return;\r\n    }\r\n  });\r\n\r\n}\r\n\r\n$scope.removeFromCart = function(crn) {\r\n  for (var i = 0; i <= $scope.cart.length - 1; i++) {\r\n    if ($scope.cart[i].CRN === crn) {\r\n      $scope.cart.splice(i, 1);\r\n    }\r\n  }\r\n  angular.forEach($scope.classes, function(value, key) {\r\n    if (value.CRN == crn) {\r\n      value.addedToCart = false;\r\n      value.formatClass = \"\";\r\n      console.log($scope.cart);\r\n    }\r\n  });\r\n  console.log($scope.cart);\r\n}\r\n\r\n$scope.submitCart = function() {\r\n  if ($scope.cart.length == 0) {\r\n    if (window.device) {\r\n      navigator.notification.alert(\"No classes added to cart.\", null, \"Add/Drop Classes\", null);\r\n    } else {\r\n      apprise(\"No classes added to cart.\", {\r\n        'verify': false,\r\n        'textYes': \"Ok\"\r\n      }, function(r) {\r\n\r\n      });\r\n    }\r\n    return;\r\n  }\r\n  //build param map for registration service\r\n  var endpoint = \"/banneraddDropClasses\";\r\n  var postdata = \"\";\r\n  var termCode = \"\";\r\n  var crns = \"\";\r\n  var regCodes = \"\";\r\n  var action = \"A\";\r\n  var startDates = \"\";\r\n  var endDates = \"\";\r\n  var firstTime = true;\r\n  $scope.regResults = \"\";\r\n\r\n  angular.forEach($scope.cart, function(value, key) {\r\n    termCode = $scope.selectedvalue;\r\n    if (!firstTime) {\r\n      crns = crns + \",\";\r\n      regCodes = regCodes + \",\";\r\n      startDates = startDates + \",\";\r\n      endDates = endDates + \",\";\r\n    }\r\n    crns = crns + value.CRN;\r\n    regCodes = regCodes + \"RW\";\r\n    if (value.START_DATE) {\r\n      var dStartDate = new Date(value.START_DATE);\r\n      cStartDate = (dStartDate.getDate() + 1) + \"-\" + monthName[dStartDate.getMonth()] + \"-\" + dStartDate.getFullYear();\r\n      startDates = startDates + cStartDate;\r\n    }\r\n    if (value.END_DATE) {\r\n      var dEndDate = new Date(value.END_DATE);\r\n      cEndDate = (dEndDate.getDate() + 1) + \"-\" + monthName[dEndDate.getMonth()] + \"-\" + dEndDate.getFullYear();\r\n      endDates = endDates + cEndDate;\r\n    }\r\n    firstTime = false;\r\n  });\r\n  postdata = \"termCode=\" + termCode + \"&crns=\" + crns + \"&regCodes=\" + regCodes + \"&action=\" + action + \"&startDates=\" + startDates + \"&endDates=\" + endDates;\r\n\r\n  $rootScope.postAPI(endpoint, postdata, function(data) {\r\n\r\n    if (window.device) {\r\n      var dres = JSON.parse(data.p_out[0].summary);\r\n      data.p_out[0].summary = dres;\r\n    }\r\n    $scope.regResults = data.p_out[0];\r\n    if ($scope.regResults.summary && $scope.regResults.summary.results) {\r\n      angular.forEach($scope.regResults.summary.results, function(value, key) {\r\n        if (value.status == 'S') {\r\n          value.CSS_CLASS = \"alert-success\";\r\n        } else if (value.status == 'E') {\r\n          value.CSS_CLASS = \"alert-danger\";\r\n        } else {\r\n          value.CSS_CLASS = \"alert-warning\";\r\n        }\r\n      });\r\n    }\r\n    $scope.showmessage = true;\r\n    $scope.clearCart();\r\n    $scope.refreshCurrentSchedule();\r\n  });\r\n\r\n}\r\n\r\n$scope.showResults = function() {\r\n  if ($scope.selectedvalue == \"\") {\r\n    if (window.device) {\r\n      navigator.notification.alert(\"Please select term code.\", null, \"Add/Drop Classes\", null);\r\n    } else {\r\n      apprise(\"Please select term code\", {\r\n        'verify': false,\r\n        'textYes': \"Ok\"\r\n      }, function(r) {\r\n\r\n      });\r\n    }\r\n    return;\r\n  }\r\n  if ($scope.selectedSubject == \"\" && $scope.selectedInstructor == \"\") {\r\n    if (window.device) {\r\n      navigator.notification.alert(\"Please select Subject or Instructor.\", null, \"Add/Drop Classes\", null);\r\n    } else {\r\n      apprise(\"Please select Subject or Instructor.\", {\r\n        'verify': false,\r\n        'textYes': \"Ok\"\r\n      }, function(r) {\r\n\r\n      });\r\n    }\r\n    return;\r\n  }\r\n\r\n  $scope.showmessage = false;\r\n  var mon, tue, wed, thu, fri, sat, sunday;\r\n  mon = ($scope.weekdata[0].selected == 'Y') ? 'M' : '';\r\n  tue = ($scope.weekdata[1].selected == 'Y') ? 'T' : '';\r\n  wed = ($scope.weekdata[2].selected == 'Y') ? 'W' : '';\r\n  thu = ($scope.weekdata[3].selected == 'Y') ? 'R' : '';\r\n  fri = ($scope.weekdata[4].selected == 'Y') ? 'F' : '';\r\n  sat = ($scope.weekdata[5].selected == 'Y') ? 'S' : '';\r\n  sunday = ($scope.weekdata[6].selected == 'Y') ? 'U' : '';\r\n\r\n  var searchURL = \"/bannerregCartclasslookup/termCode=\" + $scope.selectedvalue +\r\n    \"&subjectCode=\" + $scope.selectedSubject +\r\n    \"&courseNumber=\" + $scope.courseNumber +\r\n    \"&partTermCode=\" + $scope.partTermCode +\r\n    \"&facultyPidm=\" + $scope.selectedInstructor +\r\n    \"&courseTitle=\" + $scope.courseTitle +\r\n    \"&creditFrom=\" + $scope.creditFrom +\r\n    \"&creditTo=\" + $scope.creditTo +\r\n    \"&campCode=\" + $scope.selectedCampus +\r\n    \"&mon=\" + mon +\r\n    \"&tue=\" + tue +\r\n    \"&wed=\" + wed +\r\n    \"&thu=\" + thu +\r\n    \"&fri=\" + fri +\r\n    \"&sat=\" + sat +\r\n    \"&sun=\" + sunday;\r\n  $rootScope.getAPI(searchURL, function(data) {\r\n    if (data.CLASSLOOKUP.length == 0) {\r\n      if (window.device) {\r\n        navigator.notification.alert(\"No classes found.\", null, \"Add/Drop Classes\", null);\r\n      } else {\r\n        apprise(\"No classes found.\", {\r\n          'verify': false,\r\n          'textYes': \"Ok\"\r\n        }, function(r) {\r\n\r\n        });\r\n      }\r\n    } else {\r\n      console.log(data.CLASSLOOKUP);\r\n      $scope.classes = [];\r\n      $scope.inSearchWindow = false;\r\n      var prevValue = \"\";\r\n      var vindex = 0;\r\n      angular.forEach(data.CLASSLOOKUP, function(value, key) {\r\n        if (value[0].TIME && value[0].TIME.length > 8) {\r\n          value[0].TIME_DISPLAY = value[0].SSRMEET_START_TIME + \" - \" + value[0].SSRMEET_END_TIME;\r\n        } else {\r\n          value[0].TIME_DISPLAY = \"TBA\";\r\n        }\r\n\r\n        value[0].START_DATE = \"\";\r\n        value[0].END_DATE = \"\";\r\n        value[0].ONLINE_COURSE = false;\r\n        if ((value[0].SSRMEET_START_TIME == '' || value[0].SSRMEET_START_TIME == null) &&\r\n          (value[0].SSRMEET_END_TIME == '' || value[0].SSRMEET_END_TIME == null) &&\r\n          (value[0].TIME == \"TBA\")) {\r\n          value[0].ONLINE_COURSE = true;\r\n        }\r\n\r\n        var days = value[0].TIME.indexOf(\" \") != -1 ? value[0].TIME.split(\" \")[0] : \"\";\r\n        value[0].WEEK_DATA = [{\r\n          \"LABEL\": \"Mon\",\r\n          \"AVAIL\": days.indexOf(\"M\") != -1,\r\n          \"DISP_CLASS\": days.indexOf(\"M\") != -1 ? \"btn-success\" : \"btn-primary\"\r\n        }, {\r\n          \"LABEL\": \"Tue\",\r\n          \"AVAIL\": days.indexOf(\"T\") != -1,\r\n          \"DISP_CLASS\": days.indexOf(\"T\") != -1 ? \"btn-success\" : \"btn-primary\"\r\n        }, {\r\n          \"LABEL\": \"Wed\",\r\n          \"AVAIL\": days.indexOf(\"W\") != -1,\r\n          \"DISP_CLASS\": days.indexOf(\"W\") != -1 ? \"btn-success\" : \"btn-primary\"\r\n        }, {\r\n          \"LABEL\": \"Thu\",\r\n          \"AVAIL\": days.indexOf(\"R\") != -1,\r\n          \"DISP_CLASS\": days.indexOf(\"R\") != -1 ? \"btn-success\" : \"btn-primary\"\r\n        }, {\r\n          \"LABEL\": \"Fri\",\r\n          \"AVAIL\": days.indexOf(\"F\") != -1,\r\n          \"DISP_CLASS\": days.indexOf(\"F\") != -1 ? \"btn-success\" : \"btn-primary\"\r\n        }, {\r\n          \"LABEL\": \"Sat\",\r\n          \"AVAIL\": days.indexOf(\"S\") != -1,\r\n          \"DISP_CLASS\": days.indexOf(\"S\") != -1 ? \"btn-success\" : \"btn-primary\"\r\n        }, {\r\n          \"LABEL\": \"Sun\",\r\n          \"AVAIL\": days.indexOf(\"U\") != -1,\r\n          \"DISP_CLASS\": days.indexOf(\"U\") != -1 ? \"btn-success\" : \"btn-primary\"\r\n        }];\r\n        if (!value[0].schedule) {\r\n          value[0].schedule = [];\r\n        }\r\n        value[0].schedule.push({\r\n          \"DURATION\": value[0].DURATION,\r\n          \"INSTRUCTOR\": value[0].INSTRUCTOR,\r\n          \"TIME_DISPLAY\": value[0].TIME_DISPLAY,\r\n          \"TIME\": value[0].TIME,\r\n          \"LOCATION\": value[0].LOCATION,\r\n          \"WEEK_DATA\": value[0].WEEK_DATA\r\n        });\r\n        value[0].addedToCart = false;\r\n        value[0].formatClass = \"\";\r\n        value[0].REGISTERED = false;\r\n        angular.forEach($scope.currentSchedule, function(schvalue, schkey) {\r\n          if (schvalue.SFTREGS_CRN == value[0].CRN) {\r\n            value[0].REGISTERED = true;\r\n            //return;\r\n          }\r\n        });\r\n        //\r\n        if (prevValue == \"\") {\r\n          $scope.classes.push(value[0]);\r\n          prevValue = value[0];\r\n        } else if (prevValue.CRN == value[0].CRN &&\r\n          //prevValue.TERM_CODE == value[0].TERM_CODE &&\r\n          //prevValue.SUBJECT_CODE == value[0].SUBJECT_CODE &&\r\n          prevValue.CREDIT_HOURS == value[0].CREDIT_HOURS &&\r\n          prevValue.COURSE_ID == value[0].COURSE_ID) {\r\n          $scope.classes[vindex].schedule.push(value[0].schedule[0]);\r\n        } else {\r\n          vindex++;\r\n          $scope.classes.push(value[0]);\r\n          prevValue = value[0];\r\n        }\r\n\r\n      });\r\n    }\r\n  });\r\n\r\n}\r\n\r\n$scope.submitDrops = function() {\r\n  if ($scope.currentSchedule.length == 0) {\r\n    if (window.device) {\r\n      navigator.notification.alert(\"No class registrations found !\", null, \"Add/Drop Classes\", null);\r\n    } else {\r\n      apprise(\"No class registrations found !\", {\r\n        'verify': false,\r\n        'textYes': \"Ok\"\r\n      }, function(r) {\r\n\r\n      });\r\n    }\r\n    return;\r\n  }\r\n  //build param map for registration service\r\n  var endpoint = \"/banneraddDropClasses\";\r\n  var postdata = \"\";\r\n  var termCode = \"\";\r\n  var crns = \"\";\r\n  var regCodes = \"\";\r\n  var action = \"D\";\r\n  var startDates = \"\";\r\n  var endDates = \"\";\r\n  var firstTime = true;\r\n  $scope.regResults = \"\";\r\n\r\n  angular.forEach($scope.currentSchedule, function(value, key) {\r\n    termCode = $scope.selectedvalue;\r\n    if (value.action) {\r\n      if (!firstTime) {\r\n        crns = crns + \",\";\r\n        regCodes = regCodes + \",\";\r\n        startDates = startDates + \",\";\r\n        endDates = endDates + \",\";\r\n      }\r\n      crns = crns + value.SFTREGS_CRN;\r\n      regCodes = regCodes + value.action;\r\n      if (value.SFTREGS_START_DATE) {\r\n        startDates = startDates + value.SFTREGS_START_DATE;\r\n      }\r\n      if (value.SFTREGS_COMPLETION_DATE) {\r\n        endDates = endDates + value.SFTREGS_COMPLETION_DATE;\r\n      }\r\n      firstTime = false;\r\n    }\r\n\r\n  });\r\n  if (firstTime) {\r\n    if (window.device) {\r\n      navigator.notification.alert(\"Please select an action for atleast one class !\", null, \"Add/Drop Classes\", null);\r\n    } else {\r\n      apprise(\"Please select an action for atleast one class !\", {\r\n        'verify': false,\r\n        'textYes': \"Ok\"\r\n      }, function(r) {\r\n\r\n      });\r\n    }\r\n    return;\r\n  }\r\n  postdata = \"termCode=\" + termCode + \"&crns=\" + crns + \"&regCodes=\" + regCodes + \"&action=\" + action + \"&startDates=\" + startDates + \"&endDates=\" + endDates;\r\n  $rootScope.postAPI(endpoint, postdata, function(data) {\r\n    console.log(data);\r\n    if (window.device) {\r\n      var dres = JSON.parse(data.p_out[0].summary);\r\n      data.p_out[0].summary = dres;\r\n    }\r\n    $scope.regResults2 = data.p_out[0];\r\n    if ($scope.regResults2.summary && $scope.regResults2.summary.results) {\r\n      angular.forEach($scope.regResults2.summary.results, function(value, key) {\r\n        if (value.status == 'S') {\r\n          value.CSS_CLASS = \"alert-success\";\r\n        } else if (value.status == 'E') {\r\n          value.CSS_CLASS = \"alert-danger\";\r\n        } else {\r\n          value.CSS_CLASS = \"alert-warning\";\r\n        }\r\n      });\r\n    }\r\n    $scope.showmessage2 = true;\r\n    $scope.inSearchWindow = true;\r\n    //$scope.refreshCurrentSchedule(); \r\n    //$scope.clearCart();\r\n  });\r\n}\r\n\r\nvar spinnerDiv = '<div id=\"cssload-loader\"><div class=\"cssload-dot\"><\/div><div class=\"cssload-dot\"><\/div><div class=\"cssload-dot\"><\/div><div class=\"cssload-dot\">' +\r\n  '<\/div><div class=\"cssload-dot\"><\/div><div class=\"cssload-dot\"><\/div><div class=\"cssload-dot\"><\/div><div class=\"cssload-dot\"><\/div><\/div>';*/\r\n\r\n\r\n}",
          "endpoint": "/",
          "datatemplate": "<div class=\"container\" style=\"margin:15px 10px\">\r\n  <h4 style=\"font-weight:bold\">Registration Agreement<h4>\r\n\r\n<p>By registering for classes at Central Carolina Technical College, I agree to pay all assessed tuition and fees as a result of this registration, unless I cancel by the end of the drop/add period. If I do not cancel my classes by the end of the drop/add period and am not purged from classes, I will be responsible for paying all tuition and fees on my account.<\/p>\r\n\r\n<p>I understand the College is providing value to me in the form of education services and that my right to register is expressly conditioned upon my agreement to pay the costs of tuition and fees and any additional cost when those charges become due. I am personally responsible for the full amount assessed to me as a result of my registration.<\/p>\r\n\r\n<p ng-click=\"openWeb()\">I have read, understand and accept Central Carolina Technical College policies regarding <span style=\"color:#002446;\">application of financial aid to prior year charges, application of financial aid to non-institutional charges, application of financial aid to books/supplies at the College bookstore, third party provider, assessment of late payment charges, placement of financial holds, collection activity and collection activity involving cell phone numbers and email addresses on past due balances.<\/span><\/p>\r\n\r\n<button class=\"btn btn-primary\" ng-click=\"openAddDrop()\">Agree<\/button>\r\n<\/div>\r\n<!--<style>\r\n  .col-width {\r\n    width: 14%;\r\n  }\r\n  \r\n  .set-btn-size {\r\n    width: 100%;\r\n  }\r\n  \r\n  .legend-sm {\r\n    width: 15px;\r\n    height: 15px;\r\n  }\r\n  \r\n<\/style>\r\n<div class=\"page-container\">\r\n  <div class=\"list-group-item key-block\">\r\n    <span class=\"pull-left\">\r\n            <i class=\"fa fa-info-circle fa-2x\"><\/i>\r\n        <\/span>\r\n    <div>You can search for classes and add required classes to the cart for registering for those classes. Also, go to the 'Current Schedule' tab to view your current registrations and go for any class drops or withdrawals.<\/div>\r\n    <br/>\r\n    <div class=\"btn-group justified nav-tabs\">\r\n      <a class=\"btn btn-default\" href=\"#Tab1\" toggle=\"on\" active-class=\"active\">\r\n                    Search<\/a>\r\n      <a class=\"btn btn-default\" href=\"#Tab2\" toggle=\"on\" active-class=\"active\">\r\n                    Cart<span class=\"badge-top\">{{cart.length}}<\/span><\/a>\r\n      <a class=\"btn btn-default\" href=\"#Tab3\" toggle=\"on\" active-class=\"active\">\r\n                    Current Schedule<\/a>\r\n    <\/div>\r\n  <\/div>\r\n  <div class=\"tab-content\">\r\n    <div class=\"tab-pane\" toggleable active-class=\"active\" default=\"active\" id=\"Tab1\" exclusion-group=\"myTabs\">\r\n      <div id=\"search-pane\" ng-show=\"inSearchWindow\">\r\n        <div class=\"list-group-item main-heading\">Search Classes:<\/div>\r\n        <div class=\"list-group-item\">Select term and subject from the drop down and press search. Use advanced search if you want to narrow down your search.<\/div>\r\n        <div class=\"list-group-item text-center\">\r\n          <select id=\"termselect\" ng-model=\"selectedvalue\" class=\"form-control\" ng-change=\"dropdownselect(this.value);\">\r\n            <option value=\"\">-- Select Term --<\/option>\r\n            <option ng-selected=\"selectedvalue == term.TERM_CODE\" value=\"{{term.TERM_CODE}}\" ng-repeat=\"term in termdropdown\">{{term.TERM_DESC}}<\/option>\r\n          <\/select>\r\n        <\/div>\r\n        <div class=\"list-group-item text-center\">\r\n          <select ng-model=\"selectedSubject\" class=\"form-control\">\r\n            <option value=\"\">-- Search Subject --<\/option>\r\n            <option value=\"{{subj.SUBJECT_CODE}}\" ng-repeat=\"subj in listdata.subjectDropDown\">{{subj.SUBJECT_DESC}}<\/option>\r\n          <\/select>\r\n        <\/div>\r\n\r\n        <div class=\"\">\r\n          <div class=\"list-group-item group-heading\" ng-init=\"open = false;\" ng-click=\"advancedClick()\">Advanced Search\r\n            <i ng-class=\"open == true ? 'fa-chevron-circle-right' : 'fa-chevron-circle-down'\" class=\"fa pull-right\"> <\/i>\r\n          <\/div>\r\n          <div ng-show=\"open == true\">\r\n            <div class=\"list-group-item text-center clearfix\">\r\n              <div class=\"form-group \">\r\n                <div class=\"col-xs-12 col-md-12 \">\r\n                  <input type=\"text\" class=\"form-control\" placeholder=\"Course Number\" name=\"courseNumber\" id=\"courseNumber\" ng-model=\"courseNumber\">\r\n                <\/div>\r\n              <\/div>\r\n            <\/div>\r\n            <div class=\"list-group-item clearfix\">\r\n              <div class=\"form-group \">\r\n                <div class=\"col-xs-12 col-md-12\">\r\n                  <input type=\"text\" class=\"form-control\" placeholder=\"Title\" name=\"courseTitle\" id=\"courseTitle\" ng-model=\"courseTitle\">\r\n                <\/div>\r\n              <\/div>\r\n            <\/div>\r\n            <div class=\"list-group-item text-center clearfix\">\r\n              <div class=\"form-group \">\r\n                <div class=\"col-xs-6 col-md-6 \">\r\n                  <input type=\"text\" class=\"form-control\" placeholder=\"Credit Range From\" name=\"creditFrom\" id=\"creditFrom\" ng-model=\"creditFrom\">\r\n                <\/div>\r\n                <div class=\"col-xs-6 col-md-6 \">\r\n                  <input type=\"text\" class=\"form-control\" placeholder=\"Credit Range To\" name=\"creditTo\" id=\"creditTo\" ng-model=\"creditTo\">\r\n                <\/div>\r\n              <\/div>\r\n            <\/div>\r\n            <div class=\"list-group-item text-center clearfix\">\r\n              <div class=\"form-group \">\r\n                <div class=\"col-md-12 col-xs-12\">\r\n                  <select ng-model=\"selectedInstructor\" class=\"form-control \">\r\n                    <option value=\"\">-- Search Instructor --<\/option>\r\n                    <option value=\"{{inst.SPRIDEN_PIDM}} \" ng-repeat=\"inst in lovData.instructorDropDown\">{{inst.SPRIDEN_LAST_NAME}} <\/option>\r\n                  <\/select>\r\n                <\/div>\r\n              <\/div>\r\n            <\/div>\r\n            <div class=\"list-group-item text-center clearfix\">\r\n              <div class=\"form-group \">\r\n                <div class=\"col-md-12 col-xs-12\">\r\n                  <select ng-model=\"selectedCampus\" class=\"form-control \">\r\n                    <option value=\"\">-- Search Campus --<\/option>\r\n                    <option value=\"{{camp.CAMP_CODE}} \" ng-repeat=\"camp in lovData.campDropDown\">{{camp.CAMP_DESC}} <\/option>\r\n                  <\/select>\r\n                <\/div>\r\n              <\/div>\r\n            <\/div>\r\n            <div class=\"list-group-item group-heading clearfix\">Days:<\/div>\r\n            <div class=\"btn-group set-btn-size\">\r\n              <div class=\"col-xs-12 col-md-12\">\r\n                <div class=\"list-group-item transparent clearfix\">\r\n                  <div class=\"pull-left col-width\" ng-repeat=\"week in weekdata\">\r\n                    <div class=\"btn-mini btn-default circle text-center\" ng-class=\"week.style\" ng-click=\"selectDay($index)\">{{week.label}}<\/div>\r\n                  <\/div>\r\n                <\/div>\r\n\r\n              <\/div>\r\n            <\/div>\r\n          <\/div>\r\n        <\/div>\r\n        <div class=\"form-group\">\r\n          <div class=\"list-group-item transparent text-center\">\r\n            <div id=\"classSearchBtn\" ng-click=\"showResults()\" class=\"btn btn-primary btn-oval\">\r\n              <i class=\"fa fa-search\"><\/i>&nbsp;&nbsp;&nbsp; Search Classes<\/div>\r\n          <\/div>\r\n        <\/div>\r\n\r\n      <\/div>\r\n      <div id=\"altpin-window\" ng-show=\"!inSearchWindow && showaltpin\">\r\n        <div class=\"list-group-item group-heading clearfix\">Alternate PIN:<\/div>\r\n        <div class=\"list-group-item\">You need to enter the alternate PIN provided to you in the below box for adding/dropping classes for this term. If you have any questions, please contact the registration department.<\/div>\r\n        <div class=\"list-group-item clearfix\">\r\n          <div class=\"form-group \">\r\n            <div class=\"col-xs-12 col-md-12 \">\r\n              <input type=\"text\" class=\"form-control\" name=\"altpin\" id=\"altpin\" pattern=\"[0-9]*\" required=\"required\" placeholder='PIN' ng-model=\"altpin\">\r\n            <\/div>\r\n          <\/div>\r\n        <\/div>\r\n        <div class=\"list-group-item clearfix\">\r\n          <div class=\"form-group \">\r\n            <div class=\"col-xs-12 col-md-12\">\r\n              <div class=\"btn btn-info\" ng-click=\"altPinProcess()\">SUBMIT<\/div>\r\n              <div class=\"btn btn-info\" ng-click=\"cancelAltPin()\">Cancel<\/div>\r\n            <\/div>\r\n          <\/div>\r\n        <\/div>\r\n      <\/div>\r\n      <div id=\"results-pane\" ng-hide=\"inSearchWindow || showaltpin\">\r\n        <div class=\"list-group-item main-heading\">Search Results:<\/div>\r\n        <div class=\"list-group-item clearfix\">\r\n          <span>Select the cart icon right to a class to add that class to the cart. To go back to the search window, select the \"New Search\" button below. <\/span>\r\n          <span class=\"pull-right\">\r\n                        <div class=\"btn btn-primary btn-oval\" ng-click=\"resetSearch()\">New Search<\/div>\r\n                    <\/span>\r\n        <\/div>\r\n        <div ng-repeat=\"course in classes\">\r\n          <div class=\"list-group-item group-heading ribbon-parent clearfix\" ng-class=\"{'in-cart-course' : course.addedToCart}\">\r\n            <div class=\"col-xs-9\">\r\n              <span>{{course.TITLE}}<\/span>\r\n              <br/>\r\n              <span>{{course.COURSE_ID}}<\/span>\r\n            <\/div>\r\n            <div class=\"col-xs-3\">\r\n              <div class=\"corner-ribbon cart\" ng-show=\"course.addedToCart\"><span>&nbsp;&nbsp;Cart<\/span><\/div>\r\n              <div class=\"corner-ribbon registered\" ng-show=\"course.REGISTERED\"><span>&nbsp;&nbsp;Reg.<\/span><\/div>\r\n              <div class=\"pull-right\" ng-hide=\"course.addedToCart || course.REGISTERED\" ng-click=\"addToCart(course.CRN)\">\r\n                <i class=\"fa fa-shopping-cart fa-2x\"><\/i>\r\n              <\/div>\r\n            <\/div>\r\n          <\/div>\r\n          <li class=\"list-group-item key\">\r\n            <strong>CRN :<\/strong><span class=\"pull-right val\">{{course.CRN}}<\/span>\r\n            <br/>Credits :\r\n            <span class=\"pull-right val\">{{course.CREDIT_HOURS}}<\/span>\r\n          <\/li>\r\n          <li class=\"list-group-item key\">\r\n            <div class=\"row\">\r\n              <div class=\"col-xs-4 col-md-4 text-center\">\r\n                Capacity\r\n                <br/><span class=\"text-center badge badge-info circle\">{{course.CAPACITY}}<\/span>\r\n              <\/div>\r\n              <div class=\"col-xs-4 col-md-4 text-center\">\r\n                Remaining\r\n                <br/><span class=\"text-center badge badge-info circle\">{{course.REMAINING}}<\/span>\r\n              <\/div>\r\n              <div class=\"col-xs-4 col-md-4 text-center\">\r\n                Occupied\r\n                <br/><span class=\"text-center badge badge-info circle\">{{course.ACTUAL}}<\/span>\r\n              <\/div>\r\n            <\/div>\r\n          <\/li>\r\n          <li class=\"list-group-item\">\r\n            <strong>Meeting Information:<\/strong>\r\n          <\/li>\r\n          <div ng-repeat=\"sch in course.schedule\">\r\n            <li class=\"list-group-item key\">\r\n              Duration: <span class=\"pull-right val\">{{sch.DURATION}}<\/span>\r\n              <br/> Time: <span class=\"pull-right val\">{{sch.TIME_DISPLAY}}<\/span>\r\n              <br/>\r\n              <span>Instructor: <span class=\"pull-right val\">{{sch.INSTRUCTOR}}<\/span><\/span>\r\n              <br/>\r\n              <span>Location: <span class=\"pull-right val\">{{sch.LOCATION}}<\/span><\/span>\r\n            <\/li>\r\n            <li class=\"list-group-item clearfix\">\r\n              <div class=\"btn-group btn-group-xs pull-left\">\r\n                <button type=\"button\" ng-class=\"day.DISP_CLASS\" class=\"btn\" ng-repeat=\"day in sch.WEEK_DATA\">{{day.LABEL}}<\/button>\r\n              <\/div>\r\n              <span class=\"pull-right\">&nbsp;&nbsp;Available <\/span>&nbsp;&nbsp;\r\n              <div class=\"pull-right btn-success legend-sm\"><\/div>\r\n            <\/li>\r\n          <\/div>\r\n          <ul class=\"list-group\" ng-show=\"course.OLR_COURSE == 'Y'\">\r\n            <li class=\"list-group-item\">\r\n              <div class=\"row\">\r\n                <div class=\"col-xs-4 no-padding\">\r\n                  Start Date:\r\n                <\/div>\r\n                <div class=\"col-xs-8\">\r\n                  <input type=\"date\" placeholder=\"Start Date\" ng-model=\"course.START_DATE\" />\r\n                <\/div>\r\n              <\/div>\r\n              <div class=\"row\">\r\n                <div class=\"col-xs-4 no-padding\">\r\n                  End Date:\r\n                <\/div>\r\n                <div class=\"col-xs-8\">\r\n                  <input type=\"date\" placeholder=\"End Date\" ng-model=\"course.END_DATE\" />\r\n                <\/div>\r\n              <\/div>\r\n            <\/li>\r\n          <\/ul>\r\n        <\/div>\r\n        <div class=\"list-group-item transparent\">\r\n          <br/>\r\n        <\/div>\r\n      <\/div>\r\n    <\/div>\r\n    <div class=\"tab-pane \" toggleable active-class=\"active \" id=\"Tab2 \" exclusion-group=\"myTabs\">\r\n      <div id=\"cart-pane\" ng-hide=\"showmessage\">\r\n        <div class=\"list-group-item main-heading\">My Cart &nbsp;&nbsp;({{cart.length}})<\/div>\r\n        <div class=\"list-group-item clearfix\">\r\n          <span>Select the trash icon right to a class to remove that class from the cart. Verify your classes and select REGISTER CLASSES button to submit the cart for registration. <\/span>\r\n        <\/div>\r\n        <div ng-repeat=\"course in cart\">\r\n          <div class=\"list-group-item group-heading clearfix\">\r\n            <div class=\"col-xs-9\">\r\n              <span>{{course.TITLE}}<\/span>\r\n              <br/>\r\n              <span>{{course.COURSE_ID}}<\/span>\r\n            <\/div>\r\n            <div class=\"col-xs-3\">\r\n              <div class=\"pull-right\" ng-click=\"removeFromCart(course.CRN)\">\r\n                <i class=\"fa fa-trash-o fa-2x\"><\/i>\r\n              <\/div>\r\n            <\/div>\r\n          <\/div>\r\n          <li class=\"list-group-item key\">\r\n            <strong>CRN :<\/strong><span class=\"pull-right val\">{{course.CRN}}<\/span>\r\n            <br/>Credits :\r\n            <span class=\"pull-right val\">{{course.CREDIT_HOURS}}<\/span>\r\n          <\/li>\r\n          <li class=\"list-group-item key\">\r\n            <div class=\"row\">\r\n              <div class=\"col-xs-4 col-md-4 text-center\">\r\n                Capacity\r\n                <br/><span class=\"text-center badge badge-info circle\">{{course.CAPACITY}}<\/span>\r\n              <\/div>\r\n              <div class=\"col-xs-4 col-md-4 text-center\">\r\n                Remaining\r\n                <br/><span class=\"text-center badge badge-info circle\">{{course.REMAINING}}<\/span>\r\n              <\/div>\r\n              <div class=\"col-xs-4 col-md-4 text-center\">\r\n                Occupied\r\n                <br/><span class=\"text-center badge badge-info circle\">{{course.ACTUAL}}<\/span>\r\n              <\/div>\r\n            <\/div>\r\n          <\/li>\r\n          <li class=\"list-group-item\">\r\n            <strong>Meeting Information:<\/strong>\r\n          <\/li>\r\n          <div ng-repeat=\"sch in course.schedule\">\r\n            <li class=\"list-group-item key\">\r\n              Duration: <span class=\"pull-right val\">{{sch.DURATION}}<\/span>\r\n              <br/> Time: <span class=\"pull-right val\">{{sch.TIME_DISPLAY}}<\/span>\r\n              <br/>\r\n              <span>Instructor: <span class=\"pull-right val\">{{sch.INSTRUCTOR}}<\/span><\/span>\r\n              <br/>\r\n              <span>Location: <span class=\"pull-right val\">{{sch.LOCATION}}<\/span><\/span>\r\n            <\/li>\r\n            <li class=\"list-group-item clearfix\">\r\n              <div class=\"btn-group btn-group-xs pull-left\">\r\n                <button type=\"button\" ng-class=\"day.DISP_CLASS\" class=\"btn\" ng-repeat=\"day in sch.WEEK_DATA\">{{day.LABEL}}<\/button>\r\n              <\/div>\r\n              <span class=\"pull-right\">&nbsp;&nbsp;Available <\/span>&nbsp;&nbsp;\r\n              <div class=\"pull-right btn-success legend-sm\"><\/div>\r\n            <\/li>\r\n          <\/div>\r\n          <ul class=\"list-group\" ng-show=\"course.OLR_COURSE == 'Y'\">\r\n            <li class=\"list-group-item\">\r\n              <div class=\"row\">\r\n                <div class=\"col-xs-4 no-padding\">\r\n                  Start Date:\r\n                <\/div>\r\n                <div class=\"col-xs-8\">\r\n                  <input type=\"date\" placeholder=\"Start Date\" ng-model=\"course.START_DATE\" />\r\n                <\/div>\r\n              <\/div>\r\n              <div class=\"row\">\r\n                <div class=\"col-xs-4 no-padding\">\r\n                  End Date:\r\n                <\/div>\r\n                <div class=\"col-xs-8\">\r\n                  <input type=\"date\" placeholder=\"End Date\" ng-model=\"course.END_DATE\" />\r\n                <\/div>\r\n              <\/div>\r\n            <\/li>\r\n          <\/ul>\r\n        <\/div>\r\n        <div class=\"list-group-item transparent\">\r\n          <br/>\r\n        <\/div>\r\n        <div class=\"form-group\">\r\n          <div class=\"list-group-item transparent text-center\">\r\n            <div id=\"submitCartBtn\" ng-click=\"submitCart()\" class=\"btn btn-primary btn-oval\">\r\n              <i class=\"fa fa-floppy-o\"><\/i>&nbsp;&nbsp;&nbsp; Register Classes<\/div>\r\n          <\/div>\r\n        <\/div>\r\n        <div class=\"list-group-item transparent\">\r\n          <\/br>\r\n        <\/div>\r\n      <\/div>\r\n      <div id=\"messages\" ng-show=\"showmessage\">\r\n        <div class=\"alert alert-warning\" ng-show=\"regResults.summary && regResults.summary.error\">{{regResults.summary && regResults.summary.error}}<\/div>\r\n        <div class=\"alert\" ng-class=\"{'alert-success': result.status == 'S', 'alert-danger' : result.status == 'E' }\" ng-show=\"regResults.summary\" ng-repeat=\"result in regResults.summary.results\">\r\n          CRN&nbsp;{{result.crn}}&nbsp;:&nbsp;{{result.comments}}\r\n        <\/div>\r\n      <\/div>\r\n    <\/div>\r\n    <div class=\"tab-pane \" toggleable active-class=\"active \" id=\"Tab3\" exclusion-group=\"myTabs\">\r\n      <div class=\"list-group-item main-heading\">Current Schedule:<\/div>\r\n      <div id=\"schedule-pane\" ng-hide=\"showmessage2\">\r\n        <li class=\"list-group-item\">\r\n          <strong>Term:&nbsp;&nbsp;<\/strong><span class=\"\">{{getTermDescription(selectedvalue)}}<\/span>\r\n        <\/li>\r\n        <div ng-repeat=\"schedule in currentSchedule\">\r\n          <div class=\"list-group-item group-heading\">{{schedule.TITLE}}<\/div>\r\n          <li class=\"list-group-item key\">CRN :\r\n            <span class=\"pull-right val\">{{schedule.SFTREGS_CRN}}<\/span>\r\n          <\/li>\r\n          <li class=\"list-group-item val\">\r\n            {{schedule.STVRSTS_DESC}} on {{schedule.SFTREGS_RSTS_DATE}}\r\n          <\/li>\r\n          <li class=\"list-group-item key\">\r\n            Course:<span class=\"pull-right val\">{{schedule.SSBSECT_SUBJ_CODE}}-{{schedule.SSBSECT_CRSE_NUMB}}-{{schedule.SSBSECT_SEQ_NUMB}}<\/span>\r\n          <\/li>\r\n          <li class=\"list-group-item key\">\r\n            Credits: <span class=\"pull-right val\">{{schedule.SFTREGS_CREDIT_HR}}<\/span>\r\n          <\/li>\r\n          <li class=\"list-group-item text-center clearfix\">\r\n            <select ng-model=\"schedule.action\" class=\"form-control\">\r\n              <option value=\"\">-- Select Action --<\/option>\r\n              <option value=\"{{act.RSTS_CODE}}\" ng-repeat=\"act in schedule.scheduleActions\">{{act.RSTS_DESC}} <\/option>\r\n            <\/select>\r\n          <\/li>\r\n        <\/div>\r\n        <div class=\"list-group-item group-heading\">Summary:<\/div>\r\n        <li class=\"list-group-item key\">\r\n          Total Credit Hours: <span class=\"pull-right val\">{{scheduleSummary.TOTAL_CREDIT_HOURS | number : 3}} <\/span>\r\n        <\/li>\r\n        <li class=\"list-group-item key\">\r\n          Billing Hours: <span class=\"pull-right val\">{{scheduleSummary.BILLING_HOURS | number: 3}} <\/span>\r\n        <\/li>\r\n        <li class=\"list-group-item key\">\r\n          Minimum Hours: <span class=\"pull-right val\">{{scheduleSummary.MIN_HOURS | number: 3}} <\/span>\r\n        <\/li>\r\n        <li class=\"list-group-item key\">\r\n          Maximum Hours: <span class=\"pull-right val\">{{scheduleSummary.MAX_HOURS | number: 3}} <\/span>\r\n        <\/li>\r\n        <div class=\"list-group-item transparent\">\r\n          <br/>\r\n        <\/div>\r\n        <div class=\"form-group\">\r\n          <div class=\"list-group-item transparent text-center\">\r\n            <div id=\"submitDrop\" ng-click=\"submitDrops()\" class=\"btn btn-primary btn-oval\">\r\n              <i class=\"fa fa-trash-o\"><\/i>&nbsp;&nbsp;&nbsp; SUBMIT<\/div>\r\n          <\/div>\r\n        <\/div>\r\n        <div class=\"list-group-item transparent\">\r\n          <br/>\r\n        <\/div>\r\n      <\/div>\r\n      <div id=\"messages2\" ng-show=\"showmessage2\">\r\n        <div class=\"alert alert-warning\" ng-show=\"regResults2.error\">{{regResults2.summary && regResults2.summary.error}}<\/div>\r\n        <div class=\"alert\" ng-class=\"{'alert-success': result.status == 'S', 'alert-warning' : result.status == 'E' }\" ng-show=\"regResults2.summary\" ng-repeat=\"result in regResults2.summary.results\">\r\n          CRN&nbsp;{{result.crn}}&nbsp;:&nbsp;{{result.comments}}\r\n        <\/div>\r\n        <div class=\"list-group-item transparent\">\r\n          <div class=\"btn btn-info btn-oval\" ng-click=\"refreshCurrentSchedule()\">OK <\/div>\r\n        <\/div>\r\n      <\/div>\r\n    <\/div>\r\n\r\n  <\/div>\r\n<\/div>-->"
        },
        {
          "pageid": "RegistrationCartPage2",
          "pageTemplate": "<div><\/div>",
          "datatemplate": "<style>\r\n  .col-width {\r\n    width: 14%;\r\n  }\r\n  \r\n  .set-btn-size {\r\n    width: 100%;\r\n  }\r\n  \r\n  .legend-sm {\r\n    width: 15px;\r\n    height: 15px;\r\n  }\r\n  /*    .in-cart-course {\r\n        box-shadow: 0 0 10px black;\r\n        -webkit-transition: box-shadow linear 0.5s;\r\n        transition: box-shadow linear 0.5s;\r\n    }\r\n    \r\n    .ribbon-parent {\r\n        position: relative;\r\n        overflow: hidden;\r\n    }\r\n    \r\n    .corner-ribbon {\r\n        width: 120px;\r\n        line-height: 18px;\r\n        top: 5px;\r\n        right: -20px;\r\n        position: absolute !important;\r\n        text-align: center;\r\n        letter-spacing: 1px;\r\n        color: #f0f0f0;\r\n        transform: rotate(40deg);\r\n        -webkit-transform: rotate(40deg);\r\n    }\r\n    \r\n    .corner-ribbon.shadow {\r\n        box-shadow: 0 0 3px rgba(0, 0, 0, .3);\r\n    }\r\n    \r\n    .corner-ribbon.cart {\r\n        background: #39d;\r\n        -moz-box-shadow: 0 0 0 4px #39d, 2px 1px 4px 4px rgba(10, 10, 0, .5);\r\n        -webkit-box-shadow: 0 0 0 4px #39d, 2px 1px 4px 4px rgba(10, 10, 0, .5);\r\n        box-shadow: 0 0 0 4px #39d, 2px 1px 6px 4px rgba(10, 10, 0, .5);\r\n        border-top: 1px dashed #fff;\r\n        border-bottom: 1px dashed #fff;\r\n    }\r\n    \r\n    .corner-ribbon.registered {\r\n        background: #FF7C00;\r\n        -moz-box-shadow: 0 0 0 4px #FF7C00, 2px 1px 4px 4px rgba(10, 10, 0, .5);\r\n        -webkit-box-shadow: 0 0 0 4px #FF7C00, 2px 1px 4px 4px rgba(10, 10, 0, .5);\r\n        box-shadow: 0 0 0 4px #FF7C00, 2px 1px 6px 4px rgba(10, 10, 0, .5);\r\n        border-top: 1px dashed #fff;\r\n        border-bottom: 1px dashed #fff;\r\n    }*/\r\n<\/style>\r\n<div class=\"page-container\">\r\n  <div class=\"list-group-item key-block\">\r\n    <span class=\"pull-left\">\r\n            <i class=\"fa fa-info-circle fa-2x\"><\/i>\r\n        <\/span>\r\n    <div>You can search for classes and add required classes to the cart for registering for those classes. Also, go to the 'Current Schedule' tab to view your current registrations and go for any class drops or withdrawals.<\/div>\r\n    <br/>\r\n    <div class=\"btn-group justified nav-tabs\">\r\n      <a class=\"btn btn-default\" href=\"#Tab1\" toggle=\"on\" active-class=\"active\">\r\n                    Search<\/a>\r\n      <a class=\"btn btn-default\" href=\"#Tab2\" toggle=\"on\" active-class=\"active\">\r\n                    Cart<span class=\"badge-top\">({{cart.length}})<\/span><\/a>\r\n      <a class=\"btn btn-default\" href=\"#Tab3\" toggle=\"on\" active-class=\"active\">\r\n                    Current Schedule<\/a>\r\n    <\/div>\r\n  <\/div>\r\n  <div class=\"tab-content\">\r\n    <div class=\"tab-pane\" toggleable active-class=\"active\" default=\"active\" id=\"Tab1\" exclusion-group=\"myTabs\">\r\n      <div id=\"search-pane\" ng-show=\"inSearchWindow\">\r\n        <div class=\"list-group-item main-heading\">Search Classes:<\/div>\r\n        <div class=\"list-group-item\">Select term and subject from the drop down and press search. Use advanced search if you want to narrow down your search.<\/div>\r\n        <div class=\"list-group-item text-center\">\r\n          <select id=\"termselect\" ng-model=\"selectedvalue\" class=\"form-control\" ng-change=\"dropdownselect(this.value);\">\r\n            <option value=\"\">-- Select Term --<\/option>\r\n            <option ng-selected=\"selectedvalue == term.TERM_CODE\" value=\"{{term.TERM_CODE}}\" ng-repeat=\"term in termdropdown\">{{term.TERM_DESC}}<\/option>\r\n          <\/select>\r\n        <\/div>\r\n        <div class=\"list-group-item text-center\">\r\n          <select ng-model=\"selectedSubject\" class=\"form-control\">\r\n            <option value=\"\">-- Search Subject --<\/option>\r\n            <option value=\"{{subj.SUBJECT_CODE}}\" ng-repeat=\"subj in listdata.subjectDropDown\">{{subj.SUBJECT_DESC}}<\/option>\r\n          <\/select>\r\n        <\/div>\r\n\r\n        <div class=\"\">\r\n          <div class=\"list-group-item group-heading\" ng-init=\"open = false;\" ng-click=\"advancedClick()\">Advanced Search\r\n            <i ng-class=\"open == true ? 'fa-chevron-circle-right' : 'fa-chevron-circle-down'\" class=\"fa pull-right\"> <\/i>\r\n          <\/div>\r\n          <div ng-show=\"open == true\">\r\n            <div class=\"list-group-item text-center clearfix\">\r\n              <div class=\"form-group \">\r\n                <div class=\"col-xs-12 col-md-12 \">\r\n                  <input type=\"text\" class=\"form-control\" placeholder=\"Course Number\" name=\"courseNumber\" id=\"courseNumber\" ng-model=\"courseNumber\">\r\n                <\/div>\r\n              <\/div>\r\n            <\/div>\r\n            <div class=\"list-group-item clearfix\">\r\n              <div class=\"form-group \">\r\n                <div class=\"col-xs-12 col-md-12\">\r\n                  <input type=\"text\" class=\"form-control\" placeholder=\"Title\" name=\"courseTitle\" id=\"courseTitle\" ng-model=\"courseTitle\">\r\n                <\/div>\r\n              <\/div>\r\n            <\/div>\r\n            <div class=\"list-group-item text-center clearfix\">\r\n              <div class=\"form-group \">\r\n                <div class=\"col-xs-6 col-md-6 \">\r\n                  <input type=\"text\" class=\"form-control\" placeholder=\"Credit Range From\" name=\"creditFrom\" id=\"creditFrom\" ng-model=\"creditFrom\">\r\n                <\/div>\r\n                <div class=\"col-xs-6 col-md-6 \">\r\n                  <input type=\"text\" class=\"form-control\" placeholder=\"Credit Range To\" name=\"creditTo\" id=\"creditTo\" ng-model=\"creditTo\">\r\n                <\/div>\r\n              <\/div>\r\n            <\/div>\r\n            <div class=\"list-group-item text-center clearfix\">\r\n              <div class=\"form-group \">\r\n                <div class=\"col-md-12 col-xs-12\">\r\n                  <select ng-model=\"selectedInstructor\" class=\"form-control \">\r\n                    <option value=\"\">-- Search Instructor --<\/option>\r\n                    <option value=\"{{inst.SPRIDEN_PIDM}} \" ng-repeat=\"inst in lovData.instructorDropDown\">{{inst.SPRIDEN_LAST_NAME}} <\/option>\r\n                  <\/select>\r\n                <\/div>\r\n              <\/div>\r\n            <\/div>\r\n            <div class=\"list-group-item text-center clearfix\">\r\n              <div class=\"form-group \">\r\n                <div class=\"col-md-12 col-xs-12\">\r\n                  <select ng-model=\"selectedCampus\" class=\"form-control \">\r\n                    <option value=\"\">-- Search Campus --<\/option>\r\n                    <option value=\"{{camp.CAMP_CODE}} \" ng-repeat=\"camp in lovData.campDropDown\">{{camp.CAMP_DESC}} <\/option>\r\n                  <\/select>\r\n                <\/div>\r\n              <\/div>\r\n            <\/div>\r\n            <div class=\"list-group-item group-heading clearfix\">Days:<\/div>\r\n            <div class=\"btn-group set-btn-size\">\r\n              <div class=\"col-xs-12 col-md-12\">\r\n                <div class=\"list-group-item transparent clearfix\">\r\n                  <div class=\"pull-left col-width\" ng-repeat=\"week in weekdata\">\r\n                    <div class=\"btn-mini btn-default circle text-center\" ng-class=\"week.style\" ng-click=\"selectDay($index)\">{{week.label}}<\/div>\r\n                  <\/div>\r\n                <\/div>\r\n\r\n              <\/div>\r\n            <\/div>\r\n          <\/div>\r\n        <\/div>\r\n        <div class=\"form-group\">\r\n          <div class=\"list-group-item transparent text-center\">\r\n            <div id=\"classSearchBtn\" ng-click=\"showResults()\" class=\"btn btn-primary btn-oval\">\r\n              <i class=\"fa fa-search\"><\/i>&nbsp;&nbsp;&nbsp; Search Classes<\/div>\r\n          <\/div>\r\n        <\/div>\r\n        <!-- <div class=\"btn btn-block btn-warning \" ng-click=\"showResults()\" id=\"classSearchBtn\"> <i class=\"fa fa-search\" ><\/i>SEARCH<\/div> -->\r\n      <\/div>\r\n      <div id=\"altpin-window\" ng-show=\"!inSearchWindow && showaltpin\">\r\n        <div class=\"list-group-item group-heading clearfix\">Alternate PIN:<\/div>\r\n        <div class=\"list-group-item\">You need to enter the alternate PIN provided to you in the below box for adding/dropping classes for this term. If you have any questions, please contact the registration department.<\/div>\r\n        <div class=\"list-group-item clearfix\">\r\n          <div class=\"form-group \">\r\n            <div class=\"col-xs-12 col-md-12 \">\r\n              <input type=\"text\" class=\"form-control\" name=\"altpin\" id=\"altpin\" pattern=\"[0-9]*\" required=\"required\" placeholder='PIN' ng-model=\"altpin\">\r\n            <\/div>\r\n          <\/div>\r\n        <\/div>\r\n        <div class=\"list-group-item clearfix\">\r\n          <div class=\"form-group \">\r\n            <div class=\"col-xs-12 col-md-12\">\r\n              <div class=\"btn btn-info\" ng-click=\"altPinProcess()\">SUBMIT<\/div>\r\n              <div class=\"btn btn-info\" ng-click=\"cancelAltPin()\">Cancel<\/div>\r\n            <\/div>\r\n          <\/div>\r\n        <\/div>\r\n      <\/div>\r\n      <div id=\"results-pane\" ng-hide=\"inSearchWindow || showaltpin\">\r\n        <div class=\"list-group-item main-heading\">Search Results:<\/div>\r\n        <div class=\"list-group-item clearfix\">\r\n          <span>Select the cart icon right to a class to add that class to the cart. To go back to the search window, select the \"New Search\" button below. <\/span>\r\n          <span class=\"pull-right\">\r\n                        <div class=\"btn btn-primary btn-oval\" ng-click=\"resetSearch()\">New Search<\/div>\r\n                    <\/span>\r\n        <\/div>\r\n        <div ng-repeat=\"course in classes\" style=\"border-bottom:2px solid;\">\r\n          <div class=\"list-group-item group-heading ribbon-parent clearfix\" ng-class=\"{'in-cart-course' : course.addedToCart}\">\r\n            <div class=\"col-xs-9\" style=\"font-weight:bold;\">\r\n              <span>{{course.TITLE}}<\/span>\r\n              <br/>\r\n              <span>{{course.COURSE_ID}}<\/span>\r\n            <\/div>\r\n            <div class=\"col-xs-3\">\r\n              <div class=\"corner-ribbon cart\" ng-show=\"course.addedToCart\"><span>&nbsp;&nbsp;Cart<\/span><\/div>\r\n              <div class=\"corner-ribbon registered\" ng-show=\"course.REGISTERED\"><span>&nbsp;&nbsp;Reg.<\/span><\/div>\r\n              <div class=\"pull-right\" ng-hide=\"course.addedToCart || course.REGISTERED\" ng-click=\"addToCart(course.CRN)\">\r\n                <i class=\"fa fa-shopping-cart fa-2x\"><\/i>\r\n              <\/div>\r\n            <\/div>\r\n          <\/div>\r\n          <li class=\"list-group-item key\">\r\n            <strong>CRN :<\/strong><span class=\"pull-right val\">{{course.CRN}}<\/span>\r\n            <br/>Credits :\r\n            <span class=\"pull-right val\">{{course.CREDIT_HOURS}}<\/span>\r\n          <\/li>\r\n          <li class=\"list-group-item key\">\r\n            <div class=\"row\">\r\n              <div class=\"col-xs-4 col-md-4 text-center\">\r\n                Capacity\r\n                <br/><span class=\"text-center badge badge-info circle\">{{course.CAPACITY}}<\/span>\r\n              <\/div>\r\n              <div class=\"col-xs-4 col-md-4 text-center\">\r\n                Remaining\r\n                <br/><span class=\"text-center badge badge-info circle\">{{course.REMAINING}}<\/span>\r\n              <\/div>\r\n              <div class=\"col-xs-4 col-md-4 text-center\">\r\n                Occupied\r\n                <br/><span class=\"text-center badge badge-info circle\">{{course.ACTUAL}}<\/span>\r\n              <\/div>\r\n            <\/div>\r\n          <\/li>\r\n          <li class=\"list-group-item\">\r\n            <strong>Meeting Information:<\/strong>\r\n          <\/li>\r\n          <div ng-repeat=\"sch in course.schedule\">\r\n            <li class=\"list-group-item key\">\r\n              Duration: <span class=\"pull-right val\">{{sch.DURATION}}<\/span>\r\n              <br/> Time: <span class=\"pull-right val\">{{sch.TIME_DISPLAY}}<\/span>\r\n              <br/>\r\n              <span>Instructor: <span class=\"pull-right val\">{{sch.INSTRUCTOR}}<\/span><\/span>\r\n              <br/>\r\n              <span>Location: <span class=\"pull-right val\">{{sch.LOCATION}}<\/span><\/span>\r\n            <\/li>\r\n            <li class=\"list-group-item clearfix\">\r\n              <div class=\"btn-group btn-group-xs pull-left\">\r\n                <button type=\"button\" ng-class=\"day.DISP_CLASS\" class=\"btn\" ng-repeat=\"day in sch.WEEK_DATA\">{{day.LABEL}}<\/button>\r\n              <\/div>\r\n              <span class=\"pull-right\">&nbsp;&nbsp;Meets On <\/span>&nbsp;&nbsp;\r\n              <div class=\"pull-right btn-success legend-sm\"><\/div>\r\n            <\/li>\r\n          <\/div>\r\n          <ul class=\"list-group\" ng-show=\"course.OLR_COURSE == 'Y'\">\r\n            <li class=\"list-group-item\">\r\n              <div class=\"row\">\r\n                <div class=\"col-xs-4 no-padding\">\r\n                  Start Date:\r\n                <\/div>\r\n                <div class=\"col-xs-8\">\r\n                  <input type=\"date\" placeholder=\"Start Date\" ng-model=\"course.START_DATE\" />\r\n                <\/div>\r\n              <\/div>\r\n              <div class=\"row\">\r\n                <div class=\"col-xs-4 no-padding\">\r\n                  End Date:\r\n                <\/div>\r\n                <div class=\"col-xs-8\">\r\n                  <input type=\"date\" placeholder=\"End Date\" ng-model=\"course.END_DATE\" />\r\n                <\/div>\r\n              <\/div>\r\n            <\/li>\r\n          <\/ul>\r\n        <\/div>\r\n        <div class=\"list-group-item transparent\">\r\n          <br/>\r\n        <\/div>\r\n      <\/div>\r\n    <\/div>\r\n    <div class=\"tab-pane \" toggleable active-class=\"active \" id=\"Tab2 \" exclusion-group=\"myTabs\">\r\n      <div id=\"cart-pane\" ng-hide=\"showmessage\">\r\n        <div class=\"list-group-item main-heading\">My Cart &nbsp;&nbsp;({{cart.length}})<\/div>\r\n        <div class=\"list-group-item clearfix\">\r\n          <span>Select the trash icon right to a class to remove that class from the cart. Verify your classes and select REGISTER CLASSES button to submit the cart for registration. <\/span>\r\n        <\/div>\r\n        <div ng-repeat=\"course in cart\">\r\n          <div class=\"list-group-item group-heading clearfix\">\r\n            <div class=\"col-xs-9\">\r\n              <span>{{course.TITLE}}<\/span>\r\n              <br/>\r\n              <span>{{course.COURSE_ID}}<\/span>\r\n            <\/div>\r\n            <div class=\"col-xs-3\">\r\n              <div class=\"pull-right\" ng-click=\"removeFromCart(course.CRN)\">\r\n                <i class=\"fa fa-trash-o fa-2x\"><\/i>\r\n              <\/div>\r\n            <\/div>\r\n          <\/div>\r\n          <li class=\"list-group-item key\">\r\n            <strong>CRN :<\/strong><span class=\"pull-right val\">{{course.CRN}}<\/span>\r\n            <br/>Credits :\r\n            <span class=\"pull-right val\">{{course.CREDIT_HOURS}}<\/span>\r\n          <\/li>\r\n          <li class=\"list-group-item key\">\r\n            <div class=\"row\">\r\n              <div class=\"col-xs-4 col-md-4 text-center\">\r\n                Capacity\r\n                <br/><span class=\"text-center badge badge-info circle\">{{course.CAPACITY}}<\/span>\r\n              <\/div>\r\n              <div class=\"col-xs-4 col-md-4 text-center\">\r\n                Remaining\r\n                <br/><span class=\"text-center badge badge-info circle\">{{course.REMAINING}}<\/span>\r\n              <\/div>\r\n              <div class=\"col-xs-4 col-md-4 text-center\">\r\n                Occupied\r\n                <br/><span class=\"text-center badge badge-info circle\">{{course.ACTUAL}}<\/span>\r\n              <\/div>\r\n            <\/div>\r\n          <\/li>\r\n          <li class=\"list-group-item\">\r\n            <strong>Meeting Information:<\/strong>\r\n          <\/li>\r\n          <div ng-repeat=\"sch in course.schedule\">\r\n            <li class=\"list-group-item key\">\r\n              Duration: <span class=\"pull-right val\">{{sch.DURATION}}<\/span>\r\n              <br/> Time: <span class=\"pull-right val\">{{sch.TIME_DISPLAY}}<\/span>\r\n              <br/>\r\n              <span>Instructor: <span class=\"pull-right val\">{{sch.INSTRUCTOR}}<\/span><\/span>\r\n              <br/>\r\n              <span>Location: <span class=\"pull-right val\">{{sch.LOCATION}}<\/span><\/span>\r\n            <\/li>\r\n            <li class=\"list-group-item clearfix\">\r\n              <div class=\"btn-group btn-group-xs pull-left\">\r\n                <button type=\"button\" ng-class=\"day.DISP_CLASS\" class=\"btn\" ng-repeat=\"day in sch.WEEK_DATA\">{{day.LABEL}}<\/button>\r\n              <\/div>\r\n              <span class=\"pull-right\">&nbsp;&nbsp;Meets On <\/span>&nbsp;&nbsp;\r\n              <div class=\"pull-right btn-success legend-sm\"><\/div>\r\n            <\/li>\r\n          <\/div>\r\n          <ul class=\"list-group\" ng-show=\"course.OLR_COURSE == 'Y'\">\r\n            <li class=\"list-group-item\">\r\n              <div class=\"row\">\r\n                <div class=\"col-xs-4 no-padding\">\r\n                  Start Date:\r\n                <\/div>\r\n                <div class=\"col-xs-8\">\r\n                  <input type=\"date\" placeholder=\"Start Date\" ng-model=\"course.START_DATE\" />\r\n                <\/div>\r\n              <\/div>\r\n              <div class=\"row\">\r\n                <div class=\"col-xs-4 no-padding\">\r\n                  End Date:\r\n                <\/div>\r\n                <div class=\"col-xs-8\">\r\n                  <input type=\"date\" placeholder=\"End Date\" ng-model=\"course.END_DATE\" />\r\n                <\/div>\r\n              <\/div>\r\n            <\/li>\r\n          <\/ul>\r\n        <\/div>\r\n        <div class=\"list-group-item transparent\">\r\n          <br/>\r\n        <\/div>\r\n        <div class=\"form-group\">\r\n          <div class=\"list-group-item transparent text-center\">\r\n            <div id=\"submitCartBtn\" ng-click=\"submitCart()\" class=\"btn btn-primary btn-oval\">\r\n              <i class=\"fa fa-floppy-o\"><\/i>&nbsp;&nbsp;&nbsp; Register Classes<\/div>\r\n          <\/div>\r\n        <\/div>\r\n        <div class=\"list-group-item transparent\">\r\n          <\/br>\r\n        <\/div>\r\n      <\/div>\r\n      <div id=\"messages\" ng-show=\"showmessage\">\r\n        <div class=\"alert alert-warning\" ng-show=\"regResults.summary && regResults.summary.error\">{{regResults.summary && regResults.summary.error}}<\/div>\r\n        <div class=\"alert\" ng-class=\"{'alert-success': result.status == 'S', 'alert-danger' : result.status == 'E' }\" ng-show=\"regResults.summary\" ng-repeat=\"result in regResults.summary.results\">\r\n          CRN&nbsp;{{result.crn}}&nbsp;:&nbsp;{{result.comments}}\r\n        <\/div>\r\n      <\/div>\r\n    <\/div>\r\n    <div class=\"tab-pane \" toggleable active-class=\"active \" id=\"Tab3\" exclusion-group=\"myTabs\">\r\n      <div class=\"list-group-item main-heading\">Current Schedule:<\/div>\r\n      <div id=\"schedule-pane\" ng-hide=\"showmessage2\">\r\n        <li class=\"list-group-item\">\r\n          <strong>Term:&nbsp;&nbsp;<\/strong><span class=\"\">{{getTermDescription(selectedvalue)}}<\/span>\r\n        <\/li>\r\n        <div ng-repeat=\"schedule in currentSchedule\">\r\n          <div class=\"list-group-item group-heading\">{{schedule.TITLE}}<\/div>\r\n          <li class=\"list-group-item key\">CRN :\r\n            <span class=\"pull-right val\">{{schedule.SFTREGS_CRN}}<\/span>\r\n          <\/li>\r\n          <li class=\"list-group-item val\">\r\n            {{schedule.STVRSTS_DESC}} on {{schedule.SFTREGS_RSTS_DATE}}\r\n          <\/li>\r\n          <li class=\"list-group-item key\">\r\n            Course:<span class=\"pull-right val\">{{schedule.SSBSECT_SUBJ_CODE}}-{{schedule.SSBSECT_CRSE_NUMB}}-{{schedule.SSBSECT_SEQ_NUMB}}<\/span>\r\n          <\/li>\r\n          <li class=\"list-group-item key\">\r\n            Credits: <span class=\"pull-right val\">{{schedule.SFTREGS_CREDIT_HR}}<\/span>\r\n          <\/li>\r\n          <li class=\"list-group-item text-center clearfix\">\r\n            <select ng-model=\"schedule.action\" class=\"form-control\">\r\n              <option value=\"\">-- Select Action --<\/option>\r\n              <option value=\"{{act.RSTS_CODE}}\" ng-repeat=\"act in schedule.scheduleActions\">{{act.RSTS_DESC}} <\/option>\r\n            <\/select>\r\n          <\/li>\r\n        <\/div>\r\n        <div class=\"list-group-item group-heading\">Summary:<\/div>\r\n        <li class=\"list-group-item key\">\r\n          Total Credit Hours: <span class=\"pull-right val\">{{scheduleSummary.TOTAL_CREDIT_HOURS | number : 3}} <\/span>\r\n        <\/li>\r\n        <li class=\"list-group-item key\">\r\n          Billing Hours: <span class=\"pull-right val\">{{scheduleSummary.BILLING_HOURS | number: 3}} <\/span>\r\n        <\/li>\r\n        <li class=\"list-group-item key\">\r\n          Minimum Hours: <span class=\"pull-right val\">{{scheduleSummary.MIN_HOURS | number: 3}} <\/span>\r\n        <\/li>\r\n        <li class=\"list-group-item key\">\r\n          Maximum Hours: <span class=\"pull-right val\">{{scheduleSummary.MAX_HOURS | number: 3}} <\/span>\r\n        <\/li>\r\n        <div class=\"list-group-item transparent\">\r\n          <br/>\r\n        <\/div>\r\n        <div class=\"form-group\">\r\n          <div class=\"list-group-item transparent text-center\">\r\n            <div id=\"submitDrop\" ng-click=\"submitDrops()\" class=\"btn btn-primary btn-oval\">\r\n              <i class=\"fa fa-trash-o\"><\/i>&nbsp;&nbsp;&nbsp; SUBMIT<\/div>\r\n          <\/div>\r\n        <\/div>\r\n        <div class=\"list-group-item transparent\">\r\n          <br/>\r\n        <\/div>\r\n      <\/div>\r\n      <div id=\"messages2\" ng-show=\"showmessage2\">\r\n        <div class=\"alert alert-warning\" ng-show=\"regResults2.error\">{{regResults2.summary && regResults2.summary.error}}<\/div>\r\n        <div class=\"alert\" ng-class=\"{'alert-success': result.status == 'S', 'alert-warning' : result.status == 'E' }\" ng-show=\"regResults2.summary\" ng-repeat=\"result in regResults2.summary.results\">\r\n          CRN&nbsp;{{result.crn}}&nbsp;:&nbsp;{{result.comments}}\r\n        <\/div>\r\n        <div class=\"list-group-item transparent\">\r\n          <div class=\"btn btn-info btn-oval\" ng-click=\"refreshCurrentSchedule()\">OK <\/div>\r\n        <\/div>\r\n      <\/div>\r\n    <\/div>\r\n\r\n  <\/div>\r\n<\/div>",
          "endpoint": "",
          "pageprocessor": "function pageprocessorRegistrationCartPage2(pagedef, $scope, $routeParams, $compile, $http, $rootScope, $sce, $window, $location) {\r\n\r\n$rootScope.back = function() {\r\n\r\n    var onConfirm = function(buttonIndex) {\r\n      if (buttonIndex == 1) {\r\n        window.location.href = \"index.html#home\";\r\n        /*\r\n                 if (window.device) {\r\n                    if (device.platform == 'iOS') {\r\n                        history.go(-1);\r\n                    } else {\r\n                        navigator.app.backHistory();\r\n                    }\r\n                } else {\r\n                    history.go(-1);\r\n                }  */\r\n      }\r\n    };\r\n    if ($scope.cart.length > 0) {\r\n      if (window.device) {\r\n        navigator.notification.confirm(\r\n          'This will clear the cart. Continue ?', // message\r\n          onConfirm, // callback to invoke with index of button pressed\r\n          'Add/Drop Classes', // title\r\n          ['Yes', 'No'] // buttonLabels\r\n        );\r\n      } else {\r\n        apprise(\"This will clear the cart. Continue ?\", {\r\n          'verify': true,\r\n          'textYes': \"Yes\",\r\n          'textNo': \"No\"\r\n        }, function(r) {\r\n          if (r) {\r\n            window.location.href = \"index.html#home\";\r\n          }\r\n        });\r\n      }\r\n    } else {\r\n      window.location.href = \"index.html#home\";\r\n    }\r\n\r\n\r\n  }\r\n\r\n  var data1 = $compile($(pagedef.datatemplate))($scope);\r\n  $(\"#appContent\").append(data1);\r\n\r\n  $scope.tempvar = false;\r\n  $scope.termdropdown = \"\";\r\n  $scope.selectedvalue = \"\";\r\n  $scope.inSearchWindow = true;\r\n  $scope.altpin = \"\";\r\n  $scope.showaltpin = false;\r\n  $scope.servererror = false;\r\n  $scope.showmessage = false;\r\n  $scope.showmessage2 = false;\r\n  $scope.currentSchedule = \"\";\r\n  $scope.scheduleSummary = \"\";\r\n  $scope.scheduleActions = \"\";\r\n  $scope.classes = [];\r\n  var prevValue = [];\r\n  var monthName = [\"JAN\", \"FEB\", \"MAR\", \"APR\", \"MAY\", \"JUN\", \"JUL\", \"AUG\", \"SEP\", \"OCT\", \"NOV\", \"DEC\"];\r\n  //Cart variables\r\n  $scope.cart = [];\r\n  $scope.weekdata = [{\r\n    style: \"\",\r\n    label: \"M\",\r\n    selected: \"\"\r\n  }, {\r\n    style: \"\",\r\n    label: \"T\",\r\n    selected: \"\"\r\n  }, {\r\n    style: \"\",\r\n    label: \"W\",\r\n    selected: \"\"\r\n  }, {\r\n    style: \"\",\r\n    label: \"T\",\r\n    selected: \"\"\r\n  }, {\r\n    style: \"\",\r\n    label: \"F\",\r\n    selected: \"\"\r\n  }, {\r\n    style: \"\",\r\n    label: \"S\",\r\n    selected: \"\"\r\n  }, {\r\n    style: \"\",\r\n    label: \"S\",\r\n    selected: \"\"\r\n  }];\r\n\r\n  $scope.displayMessage = function(message) {\r\n    if (window.device) {\r\n      navigator.notification.alert(message, null, \"Add/Drop Classes\", null);\r\n    } else {\r\n      apprise(message, {\r\n        'verify': false,\r\n        'textYes': \"Ok\"\r\n      }, function(r) {\r\n\r\n      });\r\n    }\r\n  }\r\n\r\n  $scope.clearCart = function() {\r\n    $scope.classes = [];\r\n    $scope.cart = [];\r\n    $scope.altpin = \"\";\r\n    $scope.showaltpin = false;\r\n    $scope.servererror = false;\r\n    $scope.selectedSubject = \"\";\r\n    $scope.courseNumber = \"\";\r\n    $scope.courseTitle = \"\";\r\n    $scope.partTermCode = \"\";\r\n    $scope.creditFrom = \"\";\r\n    $scope.creditTo = \"\";\r\n    $scope.selectedInstructor = \"\";\r\n    $scope.selectedCampus = \"\";\r\n    $scope.weekdata = [{\r\n      style: \"\",\r\n      label: \"M\",\r\n      selected: \"\"\r\n    }, {\r\n      style: \"\",\r\n      label: \"T\",\r\n      selected: \"\"\r\n    }, {\r\n      style: \"\",\r\n      label: \"W\",\r\n      selected: \"\"\r\n    }, {\r\n      style: \"\",\r\n      label: \"T\",\r\n      selected: \"\"\r\n    }, {\r\n      style: \"\",\r\n      label: \"F\",\r\n      selected: \"\"\r\n    }, {\r\n      style: \"\",\r\n      label: \"S\",\r\n      selected: \"\"\r\n    }, {\r\n      style: \"\",\r\n      label: \"S\",\r\n      selected: \"\"\r\n    }];\r\n  }\r\n\r\n  $scope.clearSearch = function() {\r\n    $scope.courseNumber = \"\";\r\n    $scope.courseTitle = \"\";\r\n    $scope.partTermCode = \"\";\r\n    $scope.creditFrom = \"\";\r\n    $scope.creditTo = \"\";\r\n    $scope.selectedInstructor = \"\";\r\n    $scope.selectedCampus = \"\";\r\n    $scope.weekdata = [{\r\n      style: \"\",\r\n      label: \"M\",\r\n      selected: \"\"\r\n    }, {\r\n      style: \"\",\r\n      label: \"T\",\r\n      selected: \"\"\r\n    }, {\r\n      style: \"\",\r\n      label: \"W\",\r\n      selected: \"\"\r\n    }, {\r\n      style: \"\",\r\n      label: \"T\",\r\n      selected: \"\"\r\n    }, {\r\n      style: \"\",\r\n      label: \"F\",\r\n      selected: \"\"\r\n    }, {\r\n      style: \"\",\r\n      label: \"S\",\r\n      selected: \"\"\r\n    }, {\r\n      style: \"\",\r\n      label: \"S\",\r\n      selected: \"\"\r\n    }];\r\n  }\r\n\r\n  var termdropdownURL = \"/bannertermsForRegCart\";\r\n  $rootScope.getAPI(termdropdownURL, function(data) {\r\n    $scope.termdropdown = data.termdropdown;\r\n    $scope.clearCart();\r\n    if (angular.isArray($scope.termdropdown) && $scope.termdropdown.length > 0) {\r\n      $scope.selectedvalue = $scope.termdropdown[0].TERM_CODE;\r\n      $scope.dropdownselect($scope.selectedvalue);\r\n    }\r\n  });\r\n\r\n  $scope.getTermDescription = function(tcode) {\r\n    var tdesc = \"\";\r\n    angular.forEach($scope.termdropdown, function(value, key) {\r\n      if (value.TERM_CODE == tcode) {\r\n        tdesc = value.TERM_DESC;\r\n        return;\r\n      }\r\n    });\r\n    return tdesc;\r\n  }\r\n\r\n  $scope.selectDay = function(day) {\r\n    if ($scope.weekdata[day].style == \"btn-selected\") {\r\n      $scope.weekdata[day].style = \"\";\r\n      $scope.weekdata[day].selected = \"\";\r\n    } else {\r\n      $scope.weekdata[day].style = \"btn-selected\";\r\n      $scope.weekdata[day].selected = \"Y\";\r\n    }\r\n  }\r\n\r\n  $scope.refreshCurrentSchedule = function() {\r\n    $scope.currentSchedule = \"\";\r\n    $scope.scheduleSummary = \"\";\r\n    //$scope.scheduleActions = \"\";  \r\n    $scope.showmessage2 = false;\r\n    var currUrl = \"/bannerregistrationcartcurrentschedule/termCode=\" + $scope.selectedvalue;\r\n    $rootScope.getAPI(currUrl, function(schdata) {\r\n      console.log(schdata);\r\n      var sumresult = \"\";\r\n      var scheduleresult = \"\";\r\n      if (window.device) {\r\n        sumresult = JSON.parse(schdata.p_summary_out[0].summary);\r\n        scheduleresult = JSON.parse(schdata.p_schedule_out[0].currentschedule);\r\n        schdata.p_schedule_out[0].currentschedule = scheduleresult;\r\n      } else {\r\n        sumresult = JSON.parse(schdata.p_summary_out[0].summary);\r\n        scheduleresult = JSON.parse(JSON.stringify(schdata.p_schedule_out[0].currentschedule));\r\n        schdata.p_schedule_out[0].currentschedule = scheduleresult;\r\n      }\r\n\r\n      $scope.currentSchedule = schdata.currentschedule;\r\n      $scope.scheduleSummary = sumresult;\r\n\r\n      //$scope.scheduleActions = schdata.p_schedule_out[0].currentschedule;\r\n      angular.forEach($scope.currentSchedule, function(value, key) {\r\n        value.action = \"\";\r\n        //console.log(\"value=\"+value.SFTREGS_CRN);\r\n        angular.forEach(schdata.p_schedule_out[0].currentschedule[0].schedule, function(valschedule, keyschedule) {\r\n          if (valschedule.CRN == value.SFTREGS_CRN) {\r\n            value.scheduleActions = valschedule.ACTIONS;\r\n            //console.log(\"Actions=\"+value.scheduleActions.length);\r\n          }\r\n        });\r\n      });\r\n      if ($scope.tempvar) {\r\n        $.blockUI({\r\n          message: '<div class=\"loader\" style=\"margin: 2px; vertical-align: middle; display: inline-block\"><\/div>'\r\n        });\r\n      }\r\n    });\r\n\r\n  }\r\n\r\n  $scope.fetchAdditionalServices = function() {\r\n    $scope.tempvar = true;\r\n    var url = \"/bannergetRegCartOtherLOV/termCode=\" + $scope.selectedvalue;\r\n    $rootScope.getAPI(url, function(data) {\r\n      $scope.listdata = data;\r\n      $scope.tempvar = true;\r\n      //$scope.scheduleActions = \"\"; \r\n      //$scope.refreshCurrentSchedule();   \r\n      $scope.tempvar = false;\r\n    });\r\n    $scope.currentSchedule = \"\";\r\n    $scope.scheduleSummary = \"\";\r\n    $scope.refreshCurrentSchedule();\r\n  }\r\n\r\n  $scope.altPinProcess = function() {\r\n    if (!$scope.altpin) {\r\n      //\r\n    }\r\n    if (/^[0-9]*$/.test($scope.altpin) == false) {\r\n      if (window.device) {\r\n        navigator.notification.alert(\"Only numeric values are allowed as PIN !\", null, \"Add/Drop Classes\", null);\r\n      } else {\r\n        apprise(\"Only numeric values are allowed as PIN !\", {\r\n          'verify': false,\r\n          'textYes': \"Ok\"\r\n        }, function(r) {\r\n\r\n        });\r\n      }\r\n      return;\r\n    }\r\n    var pinUrl = \"/bannervalidateAddlPin\";\r\n    var postdata = \"termCode=\" + $scope.selectedvalue + \"&pin=\" + $scope.altpin;\r\n    $rootScope.postAPI(pinUrl, postdata, function(data) {\r\n      if (data.validateAddlPin.length >= 1) {\r\n        if (data.validateAddlPin[0].SUCCESS == \"true\") {\r\n          $scope.showaltpin = false;\r\n          $scope.fetchAdditionalServices();\r\n        } else {\r\n          $scope.displayMessage(\"The Pin you have entered is invalid. Please enter a valid Pin.\");\r\n        }\r\n      } else {\r\n        $scope.displayMessage(\"The Pin you have entered is invalid. Please enter a valid Pin.\");\r\n      }\r\n    });\r\n  }\r\n\r\n  $scope.getAltPinRequired = function() {\r\n    angular.forEach($scope.termdropdown, function(value, key) {\r\n      if (value.TERM_CODE == $scope.selectedvalue) {\r\n        return value.ALTPIN;\r\n      }\r\n    });\r\n    return 'N';\r\n  }\r\n\r\n\r\n  $scope.dropdownselect = function(termcode) {\r\n    //cart will be cleared. Confirmation should be asked to user. \r\n    $scope.listdata = [];\r\n    $scope.lovData = [];\r\n    $scope.open = false;\r\n    $scope.tempvar = false;\r\n    $scope.clearCart();\r\n    $scope.showmessage2 = false;\r\n    if (!$scope.selectedvalue) {\r\n      return;\r\n    }\r\n    //check for AltPIN\r\n    var altpinrequired = $scope.getAltPinRequired();\r\n    $scope.servererror = false;\r\n\r\n    if (altpinrequired == 'Y') {\r\n      // Ask for student pin and validate\r\n      $scope.showaltpin = true;\r\n    } else {\r\n      $scope.showaltpin = false;\r\n      $scope.fetchAdditionalServices();\r\n    }\r\n    /*\r\n    var pinUrl = \"/banneraddlPinReqd/termCode=\" + $scope.selectedvalue;\r\n    $rootScope.getAPI($rootScope.middlewareServerUrl + pinUrl, function(data) {\r\n        if (data.error) {\r\n            //some issue with service.\r\n            $scope.servererror = true;\r\n            if (window.device) {\r\n                navigator.notification.alert(\"Internal server issue. Please contact administrator.\", null, \"Add/Drop Classes\", null);\r\n            } else {\r\n                apprise(\"Internal server issue. Please contact administrator.\", {\r\n                    'verify': false,\r\n                    'textYes': \"Ok\"\r\n                }, function(r) {\r\n\r\n                });\r\n            }                 \r\n        } else if (data.addlPinReqd && data.addlPinReqd.length >= 1) {\r\n            $scope.servererror = false;\r\n            if ( data.addlPinReqd[0].REQUIRED == \"true\") {\r\n                $scope.showaltpin = true;\r\n            } else {\r\n                $scope.showaltpin = false;\r\n                $scope.fetchAdditionalServices();\r\n            }\r\n        } else {\r\n            $scope.servererror = false;\r\n            $scope.showaltpin = false;\r\n            $scope.fetchAdditionalServices();\r\n        }\r\n\r\n    });    \r\n    */\r\n\r\n  }\r\n\r\n  $scope.advancedClick = function() {\r\n    if (!$scope.open && !$scope.selectedvalue) {\r\n      if (window.device) {\r\n        navigator.notification.alert(\"Please select a term first !\", null, \"Add/Drop Classes\", null);\r\n      } else {\r\n        apprise(\"Please select a term first !\", {\r\n          'verify': false,\r\n          'textYes': \"Ok\"\r\n        }, function(r) {\r\n\r\n        });\r\n      }\r\n      return;\r\n    }\r\n    if (!$scope.open) {\r\n      $scope.lovData = [];\r\n      var lovUrl = \"/bannergetRegCartAdditionalLOV/termCode=\" + $scope.selectedvalue;\r\n      $rootScope.getAPI(lovUrl, function(lovdata) {\r\n        $scope.lovData = lovdata;\r\n      });\r\n    }\r\n    $scope.open = !$scope.open;\r\n\r\n  }\r\n\r\n  $scope.cancelAltPin = function() {\r\n    $scope.selectedvalue = \"\";\r\n    $scope.dropdownselect($scope.selectedvalue);\r\n  }\r\n\r\n  $scope.resetSearch = function() {\r\n    $scope.inSearchWindow = !$scope.inSearchWindow;\r\n    $scope.clearSearch();\r\n    $scope.showmessage = false;\r\n  }\r\n\r\n  $scope.addToCart = function(crn) {\r\n    angular.forEach($scope.classes, function(value, key) {\r\n      if (value.CRN == crn) {\r\n        if (value.OLR_COURSE == 'Y') {\r\n          if (!value.START_DATE && !value.END_DATE) {\r\n            if (window.device) {\r\n              navigator.notification.alert(\"Start Date or End Date should be mentioned for OLR courses.\", null, \"Add/Drop Classes\", null);\r\n            } else {\r\n              apprise(\"Start Date or End Date should be mentioned for OLR courses.\", {\r\n                'verify': false,\r\n                'textYes': \"Ok\"\r\n              }, function(r) {\r\n\r\n              });\r\n            }\r\n            return;\r\n          }\r\n          if (value.START_DATE && value.END_DATE) {\r\n            if (window.device) {\r\n              navigator.notification.alert(\"Only one of start or end dates may be entered.\", null, \"Add/Drop Classes\", null);\r\n            } else {\r\n              apprise(\"Only one of start or end dates may be entered.\", {\r\n                'verify': false,\r\n                'textYes': \"Ok\"\r\n              }, function(r) {\r\n\r\n              });\r\n            }\r\n            return;\r\n          }\r\n          var cStartDate, cEndDate;\r\n          if (value.START_DATE) {\r\n            var dStartDate = new Date(value.START_DATE);\r\n            cStartDate = dStartDate.getDate() + \"-\" + monthName[dStartDate.getMonth()] + \"-\" + dStartDate.getFullYear();\r\n          }\r\n          if (value.END_DATE) {\r\n            var dEndDate = new Date(value.END_DATE);\r\n            cEndDate = dEndDate.getDate() + \"-\" + monthName[dEndDate.getMonth()] + \"-\" + dEndDate.getFullYear();\r\n          }\r\n        }\r\n\r\n        value.addedToCart = true;\r\n        value.formatClass = \"in-cart-course\";\r\n        $scope.cart.push(value);\r\n        console.log($scope.cart);\r\n        return;\r\n      }\r\n    });\r\n\r\n  }\r\n\r\n  $scope.removeFromCart = function(crn) {\r\n    for (var i = 0; i <= $scope.cart.length - 1; i++) {\r\n      if ($scope.cart[i].CRN === crn) {\r\n        $scope.cart.splice(i, 1);\r\n      }\r\n    }\r\n    angular.forEach($scope.classes, function(value, key) {\r\n      if (value.CRN == crn) {\r\n        value.addedToCart = false;\r\n        value.formatClass = \"\";\r\n        console.log($scope.cart);\r\n      }\r\n    });\r\n    console.log($scope.cart);\r\n  }\r\n\r\n  $scope.submitCart = function() {\r\n    if ($scope.cart.length == 0) {\r\n      if (window.device) {\r\n        navigator.notification.alert(\"No classes added to cart.\", null, \"Add/Drop Classes\", null);\r\n      } else {\r\n        apprise(\"No classes added to cart.\", {\r\n          'verify': false,\r\n          'textYes': \"Ok\"\r\n        }, function(r) {\r\n\r\n        });\r\n      }\r\n      return;\r\n    }\r\n    //build param map for registration service\r\n    var endpoint = \"/banneraddDropClasses\";\r\n    var postdata = \"\";\r\n    var termCode = \"\";\r\n    var crns = \"\";\r\n    var regCodes = \"\";\r\n    var action = \"A\";\r\n    var startDates = \"\";\r\n    var endDates = \"\";\r\n    var firstTime = true;\r\n    $scope.regResults = \"\";\r\n\r\n    angular.forEach($scope.cart, function(value, key) {\r\n      termCode = $scope.selectedvalue;\r\n      if (!firstTime) {\r\n        crns = crns + \",\";\r\n        regCodes = regCodes + \",\";\r\n        startDates = startDates + \",\";\r\n        endDates = endDates + \",\";\r\n      }\r\n      crns = crns + value.CRN;\r\n      regCodes = regCodes + \"RW\";\r\n      if (value.START_DATE) {\r\n        var dStartDate = new Date(value.START_DATE);\r\n        cStartDate = (dStartDate.getDate() + 1) + \"-\" + monthName[dStartDate.getMonth()] + \"-\" + dStartDate.getFullYear();\r\n        startDates = startDates + cStartDate;\r\n      }\r\n      if (value.END_DATE) {\r\n        var dEndDate = new Date(value.END_DATE);\r\n        cEndDate = (dEndDate.getDate() + 1) + \"-\" + monthName[dEndDate.getMonth()] + \"-\" + dEndDate.getFullYear();\r\n        endDates = endDates + cEndDate;\r\n      }\r\n      firstTime = false;\r\n    });\r\n    postdata = \"termCode=\" + termCode + \"&crns=\" + crns + \"&regCodes=\" + regCodes + \"&action=\" + action + \"&startDates=\" + startDates + \"&endDates=\" + endDates;\r\n\r\n    $rootScope.postAPI(endpoint, postdata, function(data) {\r\n\r\n      if (window.device) {\r\n        var dres = JSON.parse(data.p_out[0].summary);\r\n        data.p_out[0].summary = dres;\r\n      }\r\n      $scope.regResults = data.p_out[0];\r\n      if ($scope.regResults.summary && $scope.regResults.summary.results) {\r\n        angular.forEach($scope.regResults.summary.results, function(value, key) {\r\n          if (value.status == 'S') {\r\n            value.CSS_CLASS = \"alert-success\";\r\n          } else if (value.status == 'E') {\r\n            value.CSS_CLASS = \"alert-danger\";\r\n          } else {\r\n            value.CSS_CLASS = \"alert-warning\";\r\n          }\r\n        });\r\n      }\r\n      $scope.showmessage = true;\r\n      $scope.clearCart();\r\n      $scope.refreshCurrentSchedule();\r\n    });\r\n\r\n  }\r\n\r\n  $scope.showResults = function() {\r\n    if ($scope.selectedvalue == \"\") {\r\n      if (window.device) {\r\n        navigator.notification.alert(\"Please select term code.\", null, \"Add/Drop Classes\", null);\r\n      } else {\r\n        apprise(\"Please select term code\", {\r\n          'verify': false,\r\n          'textYes': \"Ok\"\r\n        }, function(r) {\r\n\r\n        });\r\n      }\r\n      return;\r\n    }\r\n    if ($scope.selectedSubject == \"\" && $scope.selectedInstructor == \"\") {\r\n      if (window.device) {\r\n        navigator.notification.alert(\"Please select Subject or Instructor.\", null, \"Add/Drop Classes\", null);\r\n      } else {\r\n        apprise(\"Please select Subject or Instructor.\", {\r\n          'verify': false,\r\n          'textYes': \"Ok\"\r\n        }, function(r) {\r\n\r\n        });\r\n      }\r\n      return;\r\n    }\r\n\r\n    $scope.showmessage = false;\r\n    var mon, tue, wed, thu, fri, sat, sunday;\r\n    mon = ($scope.weekdata[0].selected == 'Y') ? 'M' : '';\r\n    tue = ($scope.weekdata[1].selected == 'Y') ? 'T' : '';\r\n    wed = ($scope.weekdata[2].selected == 'Y') ? 'W' : '';\r\n    thu = ($scope.weekdata[3].selected == 'Y') ? 'R' : '';\r\n    fri = ($scope.weekdata[4].selected == 'Y') ? 'F' : '';\r\n    sat = ($scope.weekdata[5].selected == 'Y') ? 'S' : '';\r\n    sunday = ($scope.weekdata[6].selected == 'Y') ? 'U' : '';\r\n\r\n    var searchURL = \"/bannerregCartclasslookup/termCode=\" + $scope.selectedvalue +\r\n      \"&subjectCode=\" + $scope.selectedSubject +\r\n      \"&courseNumber=\" + $scope.courseNumber +\r\n      \"&partTermCode=\" + $scope.partTermCode +\r\n      \"&facultyPidm=\" + $scope.selectedInstructor +\r\n      \"&courseTitle=\" + $scope.courseTitle +\r\n      \"&creditFrom=\" + $scope.creditFrom +\r\n      \"&creditTo=\" + $scope.creditTo +\r\n      \"&campCode=\" + $scope.selectedCampus +\r\n      \"&mon=\" + mon +\r\n      \"&tue=\" + tue +\r\n      \"&wed=\" + wed +\r\n      \"&thu=\" + thu +\r\n      \"&fri=\" + fri +\r\n      \"&sat=\" + sat +\r\n      \"&sun=\" + sunday;\r\n    $rootScope.getAPI(searchURL, function(data) {\r\n      if (data.CLASSLOOKUP.length == 0) {\r\n        if (window.device) {\r\n          navigator.notification.alert(\"No classes found.\", null, \"Add/Drop Classes\", null);\r\n        } else {\r\n          apprise(\"No classes found.\", {\r\n            'verify': false,\r\n            'textYes': \"Ok\"\r\n          }, function(r) {\r\n\r\n          });\r\n        }\r\n      } else {\r\n        console.log(data.CLASSLOOKUP);\r\n        $scope.classes = [];\r\n        $scope.inSearchWindow = false;\r\n        var prevValue = \"\";\r\n        var vindex = 0;\r\n        angular.forEach(data.CLASSLOOKUP, function(value, key) {\r\n          if (value[0].TIME && value[0].TIME.length > 8) {\r\n            value[0].TIME_DISPLAY = value[0].SSRMEET_START_TIME + \" - \" + value[0].SSRMEET_END_TIME;\r\n          } else {\r\n            value[0].TIME_DISPLAY = \"TBA\";\r\n          }\r\n\r\n          value[0].START_DATE = \"\";\r\n          value[0].END_DATE = \"\";\r\n          value[0].ONLINE_COURSE = false;\r\n          if ((value[0].SSRMEET_START_TIME == '' || value[0].SSRMEET_START_TIME == null) &&\r\n            (value[0].SSRMEET_END_TIME == '' || value[0].SSRMEET_END_TIME == null) &&\r\n            (value[0].TIME == \"TBA\")) {\r\n            value[0].ONLINE_COURSE = true;\r\n          }\r\n\r\n          var days = value[0].TIME.indexOf(\" \") != -1 ? value[0].TIME.split(\" \")[0] : \"\";\r\n          value[0].WEEK_DATA = [{\r\n            \"LABEL\": \"Mon\",\r\n            \"AVAIL\": days.indexOf(\"M\") != -1,\r\n            \"DISP_CLASS\": days.indexOf(\"M\") != -1 ? \"btn-success\" : \"btn-primary\"\r\n          }, {\r\n            \"LABEL\": \"Tue\",\r\n            \"AVAIL\": days.indexOf(\"T\") != -1,\r\n            \"DISP_CLASS\": days.indexOf(\"T\") != -1 ? \"btn-success\" : \"btn-primary\"\r\n          }, {\r\n            \"LABEL\": \"Wed\",\r\n            \"AVAIL\": days.indexOf(\"W\") != -1,\r\n            \"DISP_CLASS\": days.indexOf(\"W\") != -1 ? \"btn-success\" : \"btn-primary\"\r\n          }, {\r\n            \"LABEL\": \"Thu\",\r\n            \"AVAIL\": days.indexOf(\"R\") != -1,\r\n            \"DISP_CLASS\": days.indexOf(\"R\") != -1 ? \"btn-success\" : \"btn-primary\"\r\n          }, {\r\n            \"LABEL\": \"Fri\",\r\n            \"AVAIL\": days.indexOf(\"F\") != -1,\r\n            \"DISP_CLASS\": days.indexOf(\"F\") != -1 ? \"btn-success\" : \"btn-primary\"\r\n          }, {\r\n            \"LABEL\": \"Sat\",\r\n            \"AVAIL\": days.indexOf(\"S\") != -1,\r\n            \"DISP_CLASS\": days.indexOf(\"S\") != -1 ? \"btn-success\" : \"btn-primary\"\r\n          }, {\r\n            \"LABEL\": \"Sun\",\r\n            \"AVAIL\": days.indexOf(\"U\") != -1,\r\n            \"DISP_CLASS\": days.indexOf(\"U\") != -1 ? \"btn-success\" : \"btn-primary\"\r\n          }];\r\n          if (!value[0].schedule) {\r\n            value[0].schedule = [];\r\n          }\r\n          value[0].schedule.push({\r\n            \"DURATION\": value[0].DURATION,\r\n            \"INSTRUCTOR\": value[0].INSTRUCTOR,\r\n            \"TIME_DISPLAY\": value[0].TIME_DISPLAY,\r\n            \"TIME\": value[0].TIME,\r\n            \"LOCATION\": value[0].LOCATION,\r\n            \"WEEK_DATA\": value[0].WEEK_DATA\r\n          });\r\n          value[0].addedToCart = false;\r\n          value[0].formatClass = \"\";\r\n          value[0].REGISTERED = false;\r\n          angular.forEach($scope.currentSchedule, function(schvalue, schkey) {\r\n            if (schvalue.SFTREGS_CRN == value[0].CRN) {\r\n              value[0].REGISTERED = true;\r\n              //return;\r\n            }\r\n          });\r\n          //\r\n          if (prevValue == \"\") {\r\n            $scope.classes.push(value[0]);\r\n            prevValue = value[0];\r\n          } else if (prevValue.CRN == value[0].CRN &&\r\n            //prevValue.TERM_CODE == value[0].TERM_CODE &&\r\n            //prevValue.SUBJECT_CODE == value[0].SUBJECT_CODE &&\r\n            prevValue.CREDIT_HOURS == value[0].CREDIT_HOURS &&\r\n            prevValue.COURSE_ID == value[0].COURSE_ID) {\r\n            $scope.classes[vindex].schedule.push(value[0].schedule[0]);\r\n          } else {\r\n            vindex++;\r\n            $scope.classes.push(value[0]);\r\n            prevValue = value[0];\r\n          }\r\n\r\n        });\r\n      }\r\n    });\r\n\r\n  }\r\n\r\n  $scope.submitDrops = function() {\r\n    if ($scope.currentSchedule.length == 0) {\r\n      if (window.device) {\r\n        navigator.notification.alert(\"No class registrations found !\", null, \"Add/Drop Classes\", null);\r\n      } else {\r\n        apprise(\"No class registrations found !\", {\r\n          'verify': false,\r\n          'textYes': \"Ok\"\r\n        }, function(r) {\r\n\r\n        });\r\n      }\r\n      return;\r\n    }\r\n    //build param map for registration service\r\n    var endpoint = \"/banneraddDropClasses\";\r\n    var postdata = \"\";\r\n    var termCode = \"\";\r\n    var crns = \"\";\r\n    var regCodes = \"\";\r\n    var action = \"D\";\r\n    var startDates = \"\";\r\n    var endDates = \"\";\r\n    var firstTime = true;\r\n    $scope.regResults = \"\";\r\n\r\n    angular.forEach($scope.currentSchedule, function(value, key) {\r\n      termCode = $scope.selectedvalue;\r\n      if (value.action) {\r\n        if (!firstTime) {\r\n          crns = crns + \",\";\r\n          regCodes = regCodes + \",\";\r\n          startDates = startDates + \",\";\r\n          endDates = endDates + \",\";\r\n        }\r\n        crns = crns + value.SFTREGS_CRN;\r\n        regCodes = regCodes + value.action;\r\n        if (value.SFTREGS_START_DATE) {\r\n          startDates = startDates + value.SFTREGS_START_DATE;\r\n        }\r\n        if (value.SFTREGS_COMPLETION_DATE) {\r\n          endDates = endDates + value.SFTREGS_COMPLETION_DATE;\r\n        }\r\n        firstTime = false;\r\n      }\r\n\r\n    });\r\n    if (firstTime) {\r\n      if (window.device) {\r\n        navigator.notification.alert(\"Please select an action for atleast one class !\", null, \"Add/Drop Classes\", null);\r\n      } else {\r\n        apprise(\"Please select an action for atleast one class !\", {\r\n          'verify': false,\r\n          'textYes': \"Ok\"\r\n        }, function(r) {\r\n\r\n        });\r\n      }\r\n      return;\r\n    }\r\n    postdata = \"termCode=\" + termCode + \"&crns=\" + crns + \"&regCodes=\" + regCodes + \"&action=\" + action + \"&startDates=\" + startDates + \"&endDates=\" + endDates;\r\n    $rootScope.postAPI(endpoint, postdata, function(data) {\r\n      console.log(data);\r\n      if (window.device) {\r\n        var dres = JSON.parse(data.p_out[0].summary);\r\n        data.p_out[0].summary = dres;\r\n      }\r\n      $scope.regResults2 = data.p_out[0];\r\n      if ($scope.regResults2.summary && $scope.regResults2.summary.results) {\r\n        angular.forEach($scope.regResults2.summary.results, function(value, key) {\r\n          if (value.status == 'S') {\r\n            value.CSS_CLASS = \"alert-success\";\r\n          } else if (value.status == 'E') {\r\n            value.CSS_CLASS = \"alert-danger\";\r\n          } else {\r\n            value.CSS_CLASS = \"alert-warning\";\r\n          }\r\n        });\r\n      }\r\n      $scope.showmessage2 = true;\r\n      $scope.inSearchWindow = true;\r\n      //$scope.refreshCurrentSchedule(); \r\n      //$scope.clearCart();\r\n    });\r\n  }\r\n\r\n\r\n\r\n  /*    var dv = '<div style=\"padding:0px;border-radius:0px;\"><div class=\"toolbar-top\"><div class=\"btn-group justified nav-tabs my-nav-tabs\">' +\r\n          '<a class=\"btn btn-default btn-top\" href=\"#Tab1\" toggle=\"on\" active-class=\"active\" active><i class=\"fa fa-search fa-2x\"><\/i><br/>Search<\/a>' +\r\n          '<a class=\"btn btn-default btn-top\" href=\"#Tab2\" toggle=\"on\" active-class=\"active\"><i class=\"fa fa-shopping-cart fa-2x\"><\/i><br/>Cart<span class=\"badge-top\">{{cart.length}}<\/span><\/a>' +\r\n          '<a class=\"btn btn-default btn-top\" href=\"#Tab3\" toggle=\"on\" active-class=\"active\"><i class=\"fa fa-calendar fa-2x\"><\/i><br/>Current Schedule<\/a>' +\r\n          '<\/div> <\/div><\/div>';\r\n      $(\".app-content\").prepend($compile(dv)($scope));*/\r\n  var spinnerDiv = '<div id=\"cssload-loader\"><div class=\"cssload-dot\"><\/div><div class=\"cssload-dot\"><\/div><div class=\"cssload-dot\"><\/div><div class=\"cssload-dot\">' +\r\n    '<\/div><div class=\"cssload-dot\"><\/div><div class=\"cssload-dot\"><\/div><div class=\"cssload-dot\"><\/div><div class=\"cssload-dot\"><\/div><\/div>';\r\n}"
        }
      ]
    },
    {
      "id": 45795,
      "name": "WAG",
      "displayname": "Student Schedule",
      "logo": "CCTC/WAG.png",
      "logourl": "CCTC/WAG.png",
      "description": "Week at Glance",
      "appFeatureType": "Banner",
      "roles": "STUDENT",
      "showInDock": false,
      "showInHome": true,
      "networkrequired": true,
      "analytics": true,
      "pages": 
      [
        {
          "pageid": "WAG",
          "pageTemplate": "<div><\/div>",
          "datatemplate": "<style>\r\n  .col-width {\r\n    width: 14%;\r\n  }\r\n  \r\n  .set-btn-size {\r\n    width: 100%;\r\n  }\r\n<\/style>\r\n<div class=\"page-container\">\r\n  <div class=\"list-group-item key-block\">\r\n    <span class=\"pull-left\">\r\n            <i class=\"fa fa-info-circle fa-2x\"><\/i>\r\n        <\/span>\r\n    <div>Select a term from the below term dropdown to view your schedule.<\/div>\r\n    <br/>\r\n    <select id=\"termsel\" ng-model=\"selterm\" class=\"form-control\" ng-change=\"dropdownselect(this.value);\">\r\n      <option value=\"\">-- Select a Term --<\/option>\r\n      <option ng-selected=\"selterm == term.TERM_CODE\" value=\"{{term.TERM_CODE}}\" ng-repeat=\"term in dropdown.termsStudentHasClasses\">{{term.TERM_DESC}}<\/option>\r\n    <\/select>\r\n    <br/>\r\n    <div class=\"btn-group justified nav-tabs\">\r\n      <a class=\"btn btn-default\" href=\"#Tab1\" toggle=\"on\" active-class=\"active\">\r\n                Weekly Schedule<\/a>\r\n      <a class=\"btn btn-default\" href=\"#Tab2\" toggle=\"on\" active-class=\"active\">\r\n                Full Schedule<\/a>\r\n    <\/div>\r\n  <\/div>\r\n  <div class=\"list-group\">\r\n    <div class=\"tab-content\">\r\n      <div class=\"tab-pane\" toggleable active-class=\"active\" id=\"Tab1\" exclusion-group=\"myTabs\">\r\n        <div class=\"list-group-item main-heading\">Weekly Schedule:<\/div>\r\n        <div>\r\n          <div class=\"btn-group set-btn-size\">\r\n            <div class=\"row1\">\r\n              <div class=\"col-xs-12 col-md-12\">\r\n                <div class=\"list-group-item transparent clearfix\">\r\n                  <div class=\"pull-left col-width\" ng-repeat=\"week in weekdata\">\r\n                    <div class=\"btn-mini btn-default circle text-center\" ng-class=\"week.style\" ng-click=\"selectDay($index)\">{{week.label}}<\/div>\r\n                  <\/div>\r\n                <\/div>\r\n\r\n              <\/div>\r\n            <\/div>\r\n          <\/div>\r\n        <\/div>\r\n        <div id=\"WeekClasses\">\r\n          <div id=\"accordionTwo\" ng-repeat=\"wag in weekataglance\">\r\n            <div class=\"list-group-item accordian\">\r\n              <div class=\"row\">\r\n                <div class=\"col-xs-9 col-md-10\">\r\n                  <p class=\"text-left\" style=\"color: #fff !important\">{{wag.DESCRIPTION}}<\/p>\r\n                  <span style=\"color: #fff !important\" class=\"wrap-text\">{{wag.PLACE}} <span ng-show=\"wag.ROOM != '' && wag.ROOM != null\">Room {{wag.ROOM}}<\/span><\/span>\r\n                  <!--<br/> Time:&nbsp; {{wag.CLASS_TIME}} <\/br>-->\r\n                  <br/><span ng-bind=\"convertTime(wag.CLASS_TIME)\"><\/span><\/br>\r\n                  Days:&nbsp;&nbsp;{{wag.MON_DAY == null || wag.MON_DAY == ''? '' : 'Mon' }}&nbsp; {{wag.TUE_DAY == null || wag.TUE_DAY == ''? '' : 'Tue'}}&nbsp; {{wag.WED_DAY == null || wag.WED_DAY == ''? '' : 'Wed'}}&nbsp; {{wag.THU_DAY == null || wag.THU_DAY == ''?\r\n                  '' : 'Thu'}}&nbsp; {{wag.FRI_DAY == null || wag.FRI_DAY == ''? '' : 'Fri'}}&nbsp; {{wag.SAT_DAY == null || wag.SAT_DAY == ''? '' : 'Sat'}}&nbsp; {{wag.SUN_DAY == null || wag.SUN_DAY == ''? '' : 'Sun'}}\r\n                <\/div>\r\n                <div class=\"col-xs-3 col-md-2\">\r\n                  <div>\r\n                    <a ng-class=\"wag.toggleclass\" class=\"pull-right\" ng-click=\"toggleSchedule(wag)\">\r\n                    <\/a>\r\n                  <\/div>\r\n                <\/div>\r\n              <\/div>\r\n            <\/div>\r\n            <div class=\"data-block\" ng-hide=\"wag.toggle\">\r\n              <div class=\"list-group-item\">\r\n                CRN: <span class=\"pull-right\">{{wag.CRN}}<\/span>\r\n                <\/div>\r\n                <div class=\"list-group-item\">\r\n                  Title: <span class=\"pull-right\">{{wag.TITLE}}<\/span>\r\n                <\/div>\r\n                <div class=\"list-group-item\">\r\n                  Class Type: <span class=\"pull-right\">{{wag.CLASS_TYPE}}<\/span>\r\n                <\/div>\r\n                <div class=\"list-group-item\">\r\n                  Campus: <span class=\"pull-right\">{{wag.CAMPUS}}<\/span>\r\n                <\/div>\r\n                <div class=\"list-group-item\">\r\n                  Credits: <span class=\"pull-right\">{{wag.CREDITS}}<\/span>\r\n                <\/div>\r\n                <div class=\"list-group-item\">\r\n                  Level: <span class=\"pull-right\">{{wag.LEVEL_CODE}}<\/span>\r\n                <\/div>\r\n                <div class=\"list-group-item\">\r\n                  Start Date: <span class=\"pull-right\">{{wag.START_DATE}}<\/span>\r\n                <\/div>\r\n                <div class=\"list-group-item\">\r\n                  End Date: <span class=\"pull-right\">{{wag.END_DATE}}<\/span>\r\n                <\/div>\r\n              <\/div>\r\n            <\/div>\r\n          <\/div>\r\n          <div class=\"alert alert-warning\" ng-show=\"weekataglance.length == 0\" id='NoWeekClasses'>You have no classes for the day.<\/div>\r\n        <\/div>\r\n        <div class=\"tab-pane\" toggleable active-class=\"active\" default=\"active\" id=\"Tab2\" exclusion-group=\"myTabs\">\r\n          <div class=\"list-group-item main-heading\">Full Schedule:<\/div>\r\n          <div ng-repeat=\"wag in listdata\">\r\n            <div class=\"list-group-item accordian\">\r\n              <div class=\"row\">\r\n                <div class=\"col-xs-9 col-md-10\">\r\n                  <p class=\"text-left\" style=\"color: #fff !important\">{{wag.DESCRIPTION}}<\/p>\r\n                  <span style=\"color: #fff !important\" class=\"wrap-text\">{{wag.PLACE}} <span ng-show=\"wag.ROOM != '' && wag.ROOM != null\">Room {{wag.ROOM}}<\/span><\/span>\r\n                  <!--<br/> Time: {{wag.CLASS_TIME}}<\/br>-->\r\n                  <br/><span ng-bind=\"convertTime(wag.CLASS_TIME)\"><\/span><\/br>\r\n                  Days:&nbsp;&nbsp;{{wag.MON_DAY == null || wag.MON_DAY == ''? '' : 'Mon' }}&nbsp; {{wag.TUE_DAY == null || wag.TUE_DAY == ''? '' : 'Tue'}}&nbsp; {{wag.WED_DAY == null || wag.WED_DAY == ''? '' : 'Wed'}}&nbsp; {{wag.THU_DAY == null || wag.THU_DAY == ''?\r\n                  '' : 'Thu'}}&nbsp; {{wag.FRI_DAY == null || wag.FRI_DAY == ''? '' : 'Fri'}}&nbsp; {{wag.SAT_DAY == null || wag.SAT_DAY == ''? '' : 'Sat'}}&nbsp; {{wag.SUN_DAY == null || wag.SUN_DAY == ''? '' : 'Sun'}}\r\n                <\/div>\r\n                <div class=\"col-xs-3 col-md-2\">\r\n                  <div class=\"\" ng-show=\"!wag.visible\">\r\n                    <span class=\"badge badge-warning\">Inactive<\/span>\r\n                  <\/div>\r\n                  <\/br>\r\n                  <div>\r\n                    <a ng-class=\"wag.toggleclass\" class=\"pull-right\" ng-click=\"toggleSchedule(wag)\">\r\n                    <\/a>\r\n                  <\/div>\r\n                <\/div>\r\n              <\/div>\r\n            <\/div>\r\n            <div class=\"data-block\" ng-hide=\"wag.toggle\">\r\n              <div class=\"list-group-item\">\r\n                CRN: <span class=\"pull-right\">{{wag.CRN}}<\/span>\r\n              <\/div>\r\n              <div class=\"list-group-item\">\r\n                Class Type: <span class=\"pull-right\">{{wag.CLASS_TYPE}}<\/span>\r\n              <\/div>\r\n              <div class=\"list-group-item\">\r\n                Campus: <span class=\"pull-right\">{{wag.CAMPUS}}<\/span>\r\n              <\/div>\r\n              <div class=\"list-group-item\">\r\n                Credits: <span class=\"pull-right\">{{wag.CREDITS}}<\/span>\r\n              <\/div>\r\n              <div class=\"list-group-item\">\r\n                Level: <span class=\"pull-right\">{{wag.LEVEL_CODE}}<\/span>\r\n              <\/div>\r\n              <div class=\"list-group-item\">\r\n                Start Date: <span class=\"pull-right\">{{wag.START_DATE}}<\/span>\r\n              <\/div>\r\n              <div class=\"list-group-item\">\r\n                End Date: <span class=\"pull-right\">{{wag.END_DATE}}<\/span>\r\n              <\/div>\r\n            <\/div>\r\n          <\/div>\r\n          <div class=\"alert alert-warning\" ng-show=\"listdata.length == 0\" id='NoWeekClasses'>You have no classes.<\/div>\r\n        <\/div>\r\n      <\/div>\r\n    <\/div>\r\n  <\/div>",
          "pageprocessor": "function pageprocessorWAG(pagedef, $scope, $routeParams, $compile, $http, $rootScope, $sce, $window, $location) {\r\n  var data1 = $compile($(pagedef.datatemplate))($scope);\r\n  $(\"#appContent\").append(data1);\r\n  $scope.showDetail = false;\r\n\r\n  var todayDate = new Date();\r\n\r\n  $scope.weekdata = [{\r\n    style: \"\",\r\n    label: \"M\",\r\n    data: []\r\n  }, {\r\n    style: \"\",\r\n    label: \"T\",\r\n    data: []\r\n  }, {\r\n    style: \"\",\r\n    label: \"W\",\r\n    data: []\r\n  }, {\r\n    style: \"\",\r\n    label: \"T\",\r\n    data: []\r\n  }, {\r\n    style: \"\",\r\n    label: \"F\",\r\n    data: []\r\n  }, {\r\n    style: \"\",\r\n    label: \"S\",\r\n    data: []\r\n  }, {\r\n    style: \"\",\r\n    label: \"S\",\r\n    data: []\r\n  }];\r\n\r\n  $scope.selectDay = function(day) {\r\n    for (var i = 0; i < 7; i++) {\r\n      $scope.weekdata[i].style = \"\";\r\n    }\r\n    $scope.weekdata[day].style = \"btn-selected\";\r\n    if ($scope.weekdata[day].data.length == 0) {\r\n      $(\"#NoWeekClasses\").show();\r\n      $(\"#WeekClasses\").hide();\r\n    } else {\r\n      $(\"#NoWeekClasses\").hide();\r\n      $(\"#WeekClasses\").show();\r\n    }\r\n    $scope.weekataglance = $scope.weekdata[day].data;\r\n    //console.log($scope.weekataglance);\r\n  }\r\n\r\n  $scope.toggleSchedule = function(wag) {\r\n    wag.toggle = !wag.toggle;\r\n    if (wag.toggle) {\r\n      wag.toggleclass = \"fa fa-plus-circle fa-2x\";\r\n    } else {\r\n      wag.toggleclass = \"fa fa-minus-circle fa-2x\";\r\n    }\r\n    console.log('#' + wag);\r\n  }\r\n\r\n  var curDayIndex = todayDate.getDay() == 0 ? 6 : todayDate.getDay() - 1;\r\n  $scope.weekdata[curDayIndex].style = \"btn-selected\";\r\n\r\n  $rootScope.getAPI(pagedef.dropdownendpoint, function(data) {\r\n    $scope.dropdown = data;\r\n    //$scope.selectedvalue = data.termsStudentHasClasses[0].TERM_CODE;\r\n    //$scope.dropdownselect();\r\n  });\r\n\r\n  $scope.dropdownselect = function(selectedvalue) {\r\n    $('#termsel').blur();\r\n    $scope.classeswithouttime = [];\r\n    $scope.showDetail = true;\r\n    for (var i = 0; i < 7; i++) {\r\n      $scope.weekdata[i].data = [];\r\n    }\r\n\r\n    $rootScope.getAPI(pagedef.listendpoint + $scope.selterm, function(data) {\r\n\r\n      var WeekAtGlanceTdyDate = new Date();\r\n      var WeekAtGlanceStartDate = new Date();\r\n      var WeekAtGlanceEndDate = new Date();\r\n      WeekAtGlanceStartDate.setDate(WeekAtGlanceTdyDate.getDate() - WeekAtGlanceTdyDate.getDay());\r\n      WeekAtGlanceEndDate.setDate(WeekAtGlanceTdyDate.getDate() + (6 - WeekAtGlanceTdyDate.getDay()));\r\n\r\n      angular.forEach(data.weekataglance, function(value, key) {\r\n        var ClassStartDate = new Date(value.START_DATE);\r\n        var ClassEndDate = new Date(value.END_DATE);\r\n        var daysExist = false;\r\n        value.visible = false;\r\n        //value.visible = true;\r\n        value.toggleclass = \"fa fa-plus-circle fa-2x\";\r\n        value.toggle = true;\r\n\r\n        if ((ClassStartDate <= WeekAtGlanceStartDate && ClassEndDate >= WeekAtGlanceEndDate) ||\r\n          (ClassStartDate <= WeekAtGlanceEndDate && ClassStartDate >= WeekAtGlanceStartDate) ||\r\n          (ClassEndDate <= WeekAtGlanceEndDate && ClassEndDate >= WeekAtGlanceStartDate)) {\r\n          value.visible = true;\r\n          value.toggleclass = \"fa fa-plus-circle fa-2x\";\r\n          value.toggle = true;\r\n\r\n          //                    \r\n          if (value.MON_DAY != \"\" && value.MON_DAY != null) {\r\n            this[0].data.push(value);\r\n            daysExist = true;\r\n          }\r\n          if (value.TUE_DAY != \"\" && value.TUE_DAY != null) {\r\n            this[1].data.push(value);\r\n            daysExist = true;\r\n          }\r\n          if (value.WED_DAY != \"\" && value.WED_DAY != null) {\r\n            this[2].data.push(value);\r\n            daysExist = true;\r\n          }\r\n          if (value.THU_DAY != \"\" && value.THU_DAY != null) {\r\n            this[3].data.push(value);\r\n            daysExist = true;\r\n          }\r\n          if (value.FRI_DAY != \"\" && value.FRI_DAY != null) {\r\n            this[4].data.push(value);\r\n            daysExist = true;\r\n          }\r\n          if (value.SAT_DAY != \"\" && value.SAT_DAY != null) {\r\n            this[5].data.push(value);\r\n            daysExist = true;\r\n          }\r\n          if (value.SUN_DAY != \"\" && value.SUN_DAY != null) {\r\n            this[6].data.push(value);\r\n            daysExist = true;\r\n          }\r\n        }\r\n        if (value.PLACE == '' || value.PLACE == null || value.PLACE == ' ') {\r\n          value.PLACE = 'TBA';\r\n        }\r\n        if (value.CLASS_TIME == '' || value.CLASS_TIME == null) {\r\n          value.CLASS_TIME = 'TBA';\r\n        } else if (value.CLASS_TIME.trim() == '-') {\r\n          value.CLASS_TIME = 'TBA';\r\n        }\r\n        value.showweekclasses = daysExist;\r\n        /*                if (value.visible) {\r\n                            $scope.classeswithouttime.push(value);\r\n                        }*/\r\n      }, $scope.weekdata);\r\n\r\n      $scope.listdata = data.weekataglance;\r\n      console.log('listdata');\r\n      console.log($scope.listdata);\r\n      //console.log('classeswithouttime:');\r\n      //console.log($scope.classeswithouttime);\r\n      $scope.selectDay(curDayIndex);\r\n      if ($scope.weekataglance.length > 0) {\r\n        $scope.weekataglance[0].toggle = false;\r\n        $scope.weekataglance[0].toggleclass = \"fa fa-minus-circle fa-2x\";\r\n      }\r\n      if ($scope.listdata.length > 0) {\r\n        $scope.listdata[0].toggle = false;\r\n        $scope.listdata[0].toggleclass = \"fa fa-minus-circle fa-2x\";\r\n      }\r\n    });\r\n  }\r\n  $rootScope.back = function() {\r\n    if ($routeParams.from) {\r\n\r\n      if (device.platform == 'iOS') {\r\n        history.go(-1);\r\n      } else {\r\n        navigator.app.backHistory();\r\n      }\r\n    } else {\r\n      $location.path(\"/home\");\r\n    }\r\n  }\r\n  $scope.convertTime = function(fromTo) {\r\n\r\n    var hours24 = fromTo.split(\"-\");\r\n    var startTime = parseFloat(hours24[0].replace(\":\", \".\")).toFixed(2);\r\n    var endTime = parseFloat(hours24[1].replace(\":\", \".\")).toFixed(2);\r\n    var startDayMode = startTime < 12 ? \"am\" : \"pm\"; // if it's less than 12 then \"am\"\r\n    var startHours12 = startTime <= 12 ? (startTime == 0 ? 12 : startTime) : startTime - 12;\r\n\r\n    var endDayMode = endTime < 12 ? \"am\" : \"pm\"; // if it's less than 12 then \"am\"\r\n    var endHours12 = endTime <= 12 ? (endTime == 0 ? 12 : endTime) : endTime - 12;\r\n    return(startHours12.toFixed(2)+startDayMode+\" - \"+endHours12.toFixed(2)+endDayMode);\r\n  }\r\n\r\n}",
          "listendpoint": "/bannerweekataglance/termCode=",
          "dropdownendpoint": "/bannertermsStudentHasClasses"
        }
      ]
    },
    {
      "id": 82289,
      "name": "D2LApps",
      "displayname": "D2L Apps",
      "logo": "CCTC/D2LApps.png",
      "logourl": "CCTC/D2LApps.png",
      "description": "D2L Apps",
      "appFeatureType": "Desire2Learn",
      "roles": "D2LSTUDENT",
      "showInDock": false,
      "showInHome": true,
      "networkrequired": true,
      "analytics": false,
      "pages": 
      [
        {
          "pageid": "D2LApps",
          "pageTemplate": "<div><\/div>",
          "pageprocessor": "function pageprocessorD2LApps(pagedef, $scope, $routeParams, $compile, $http, $rootScope, $sce, $window, $location) {\r\n  $scope.ShowD2LApps = function() {\r\n    var appId = pagedef.appnames.split(\",\");\r\n    var results = [];\r\n    for (var i = 0; i < appId.length; i++) {\r\n      for (var j = 0; j < $rootScope.apps.length; j++) {\r\n        if ($rootScope.apps[j].name == appId[i]) {\r\n          results.push($rootScope.apps[j]);\r\n        }\r\n      }\r\n    }\r\n    $scope.groupapps = results;\r\n    var data1 = $compile($(pagedef.datatemplate))($scope);\r\n    $(\"#appContent\").append(data1);\r\n    var homedata = $(\"#homedata\");\r\n    var loadpage = function() {\r\n      $(\"#appContent\").html(\"\");\r\n      var data1 = $compile($(pagedef.datatemplate))($scope);\r\n      $(\"#appContent\").append(data1);\r\n      var homedata = $(\"#homedata\");\r\n      var iconwidth = 30;\r\n      var sampleicon = $('#sampleicon');\r\n      var calculated = sampleicon.outerWidth(true);\r\n      if (calculated != 0) {\r\n        iconwidth = sampleicon.outerWidth(true) + 24;\r\n      }\r\n      var width = $(window).width() > 780 ? $(window).width() - 280 : $(window).width();\r\n      var cols = Math.floor(width / iconwidth);\r\n      var rows = Math.floor(($(window).height() - 200) / iconwidth);\r\n      var icon;\r\n      for (_i = 0, _len = $scope.groupapps.length; _i < _len; _i++) {\r\n        icon = $scope.groupapps[_i];\r\n        var markup = '<li><a href=\"#app/' + icon.name + \"/\" + icon.name + '?from=D2L\"><img src=\"' + icon.logo + '\" class=\"icon\"><\/img><\/a>' +\r\n          '<div class=\"campuseai-Info text-center\" style=\"width:' + calculated + 'px;overflow:hidden;text-overflow: ellipsis;\">' + icon.displayname + '<\/div><\/li>';\r\n\r\n\r\n        homedata.append(markup);\r\n\r\n      }\r\n\r\n      //AK added for promptumenu\r\n      $(\"#homedata\").promptumenu({\r\n        width: (width - 24),\r\n        height: ($(window).height() - 200),\r\n        rows: rows,\r\n        columns: cols,\r\n        direction: 'horizontal',\r\n        pages: true\r\n      });\r\n\r\n    };\r\n\r\n    loadpage();\r\n    var handleEmergencyOrientation = function() {\r\n      if (orientation == 0) {\r\n        setTimeout(function() {\r\n          loadpage()\r\n        }, 500);\r\n      } else if (orientation == 90) {\r\n        setTimeout(function() {\r\n          loadpage()\r\n        }, 500);\r\n      } else if (orientation == -90) {\r\n        setTimeout(function() {\r\n          loadpage()\r\n        }, 500);\r\n      } else if (orientation == 180) {\r\n        setTimeout(function() {\r\n          loadpage()\r\n        }, 500);\r\n      } else {}\r\n    }\r\n    window.handleOrientation = handleEmergencyOrientation;\r\n    window.addEventListener('orientationchange', handleEmergencyOrientation, false);\r\n    $scope.$on('$destroy', function() {\r\n      window.removeEventListener('orientationchange', handleEmergencyOrientation, false);\r\n      window.handleOrientation = null;\r\n    });\r\n  }\r\n\r\n  if ($rootScope.valenceToken == null || $rootScope.valenceToken == \"\") {\r\n    $location.path(\"/app/D2LLogin\");\r\n  } else {\r\n    $scope.ShowD2LApps();\r\n  }\r\n\r\n\r\n  /*\r\n   if ($rootScope.wsticket == null || $rootScope.wsticket == \"\") {\r\n       if ($.jStorage.get('wsusername') == null || $.jStorage.get('wsusername') == undefined || $.jStorage.get('wspassword') == null || $.jStorage.get('wspassword') == undefined) {\r\n           $location.path(\"/app/PasswordManager/PasswordManagerPage2\").search({\r\n               fromapp: 'WebStudy'\r\n           });\r\n       } else {\r\n           var url = \"https://kryptosmw.kryptosmobile.com/webadapter2/services/authenticate/RVCC/WebStudy\";\r\n           var data;\r\n           if (window.device) {\r\n               data = \"username=\" + $.jStorage.get('wsusername') + \"&password=\" + $.jStorage.get('wspassword');\r\n           } else {\r\n               url = \"/websimulator/json?url=\" + url;\r\n               data = {\r\n                   method: \"POST\",\r\n                   body: \"username=\" + $.jStorage.get('wsusername') + \"&password=\" + $.jStorage.get('wspassword')\r\n               };\r\n           }\r\n           var data1 = $compile($(pagedef.datatemplate))($scope);\r\n           $(\"#appContent\").append(data1);\r\n           $.blockUI();\r\n           $http({\r\n               url: url,\r\n               data: data,\r\n               method: \"POST\"\r\n           }).success(function(datares) {\r\n               if (datares.ticket) {\r\n                   $rootScope.wsticket = datares.ticket;\r\n                   console.log(\"WS ticket=\" + $rootScope.wsticket);\r\n                   $.unblockUI();\r\n\r\n                   $scope.ShowWebStudyApps();\r\n\r\n               } else {\r\n                   $.unblockUI();\r\n                   if (window.device) {\r\n                       navigator.notification.alert(\"Login failure. Please try login to webstudy password manager.\", null, 'Login Failure', 'Ok');\r\n                       $location.path(\"/app/PasswordManager/PasswordManagerPage2\");\r\n                   } else {\r\n                       alert(\"Login failure. Please check your credentials and try again.\");\r\n                       $location.path(\"/app/PasswordManager/PasswordManagerPage2\");\r\n                   }\r\n               }\r\n\r\n           }).error(function(data, status, headers, config) {\r\n               $.unblockUI();\r\n               if (window.device) {\r\n                   navigator.notification.alert(\"An error occured. Please try after sometime.\", null, 'Error', 'Ok');\r\n               } else {\r\n                   alert(\"An error occured. Please try after sometime.\");\r\n               }\r\n\r\n           });\r\n       }\r\n\r\n   } else {\r\n       $scope.ShowWebStudyApps();\r\n   }\r\n   */\r\n}",
          "appnames": "UserProfile3,CourseList,D2LGrades,Dropbox,quiz,Discussions,Events73,Announcements2",
          "datatemplate": "<style>\r\n  #homedata {\r\n    margin-top: 20px;\r\n    background: #213445 !important;\r\n    width: 100% !important;\r\n    height: 100% !important;\r\n  }\r\n  \r\n  .app-body {\r\n    background: #213445 !important;\r\n  }\r\n  \r\n  .promptumenu_window {\r\n    margin-top: 0 !important;\r\n  }\r\n  \r\n  .scrollable-content > div#appContent {\r\n    background: #213445 !important;\r\nmargin-top:40px !important;\r\n  }\r\n<\/style>\r\n<div>\r\n  <ul id=\"homedata\"><\/ul>\r\n<\/div>"
        }
      ]
    },
    {
      "id": 45813,
      "name": "FinAid2",
      "displayname": "Financial Aid",
      "logo": "CCTC/FinAid2.png",
      "logourl": "CCTC/FinAid2.png",
      "description": "Fin Aid",
      "appFeatureType": "Banner",
      "roles": "STUDENT,FINAID",
      "showInDock": false,
      "showInHome": true,
      "networkrequired": true,
      "analytics": true,
      "pages": 
      [
        {
          "pageid": "FinAid2Page4",
          "pageTemplate": "<div><\/div>",
          "endpoint": "",
          "pageprocessor": "function pageprocessorFinAid2Page4(pagedef, $scope, $routeParams, $compile, $http, $rootScope, $sce, $window, $location) {\r\n    var data1 = $compile($(pagedef.datatemplate))($scope);\r\n    $(\"#appContent\").append(data1);\r\n\r\n    $scope.showtermdet = function(obj1) {\r\n        /*\r\n            if (window.device) {\r\n                navigator.notification.alert(message, null, title, null);\r\n            } else {\r\n                apprise(message, {\r\n                    'verify': false,\r\n                    'textYes': \"Ok\"\r\n                }, function(r) {});\r\n            }\t\r\n*/\r\n\r\n        $location.path(\"/app/FinAid2/FinAid2Page5\").search(\"index\", obj1);\r\n    }\r\n\r\n\r\n}",
          "datatemplate": "<div style=\"margin:10px;\">\r\n    <div class=\"panel panel-primary\"> \r\n        <div class=\"panel-heading\"> \r\n            <h3 class=\"panel-title\">Account Balance : \r\n                <span class=\"pull-right\">{{accsummbyterm.accountbalancesummary[0].ACCT_TOTAL | currency:\"$\":2}}<\/span> \r\n            <\/h3> \r\n        <\/div> \r\n    <div class=\"panel-body\">\r\n        <div class=\"list-group\" ng-repeat=\"acc in  accsummbyterm.accountbalancebyterm\">\r\n            <a class=\"list-group-item panel-subgroup-link\" data-message={{acc.TBRACCD_TERM_CODE}} ng-click=\"showtermdet($index);\"> {{acc.STVTERM_DESC}}<span class=\"pull-right fa fa-chevron-right\"><\/span><\/a>\r\n            \r\n            <div class=\"list-group-item\">Total Charges : <span class=\"pull-right\">{{acc.totc | currency:\"$\":2}}<\/span>\r\n            <\/div>\r\n            <div class=\"list-group-item\">Total Payment : <span class=\"pull-right\">{{acc.totp | currency:\"$\":2}}<\/span>\r\n            <\/div>\r\n            <div class=\"list-group-item\">Total Balance : <span class=\"pull-right\">{{acc.totb | currency:\"$\":2}}<\/span>\r\n            <\/div><br><br><br>\r\n        <\/div>  \r\n    <\/div>\r\n<\/div>"
        },
        {
          "pageid": "FinAid2Page5",
          "pageTemplate": "<div><\/div>",
          "pageprocessor": "function pageprocessorFinAid2Page5(pagedef, $scope, $routeParams, $compile, $http, $rootScope, $sce, $window, $location) {\r\n    var data1 = $compile($(pagedef.datatemplate))($scope);\r\n    $(\"#appContent\").append(data1);\r\n    $scope.termdesc = $rootScope.accsummbyterm.accountbalancebyterm[$routeParams.index].STVTERM_DESC;\r\n    $scope.acctdet = $rootScope.accsummbyterm.accountbalancebyterm[$routeParams.index].accdetails;\r\n}",
          "endpoint": "",
          "datatemplate": "<div style=\"margin:10px;\">\r\n    <div class=\"panel panel-primary\"> \r\n        <div class=\"panel-heading\"> \r\n          <h3 class=\"panel-title\">{{termdesc}} <\/h3> \r\n        <\/div> \r\n    <div class=\"panel-body\">\r\n        <div class=\"list-group\" ng-repeat=\"acc in  acctdet\">\r\n            <a class=\"list-group-item panel-subgroup-link\">{{acc.TBBDETC_DESC}}<\/a>\r\n            <div class=\"list-group-item\">Charge : <span class=\"pull-right\">{{acc.CHARGES | currency:\"$\":2}}<\/span>\r\n            <\/div>\r\n            <div class=\"list-group-item\">Payment : <span class=\"pull-right\">{{acc.PAYMENT | currency:\"$\":2}}<\/span>\r\n            <\/div>\r\n            <div class=\"list-group-item\">Balance : <span class=\"pull-right\">{{acc.BALANCE | currency:\"$\":2}}<\/span>\r\n            <\/div>\r\n        <\/div>  \r\n    <\/div>\r\n<\/div>"
        },
        {
          "pageid": "FinAid2",
          "pageTemplate": "<div><\/div>",
          "endpoint": "/bannerfinaidyears",
          "pageprocessor": "function pageprocessorFinAid2(pagedef, $scope, $routeParams, $compile, $http, $rootScope, $sce, $window, $location) {\r\n  var data1 = $compile($(pagedef.datatemplate))($scope);\r\n  $(\"#appContent\").append(data1);\r\n  var title = \"Financial Aid\";\r\n  $scope.selyear = \"\";\r\n  $scope.selectedTab = 0;\r\n  $scope.finaidreqs = null;\r\n  $scope.awardoverview = null;\r\n  $scope.accsummbyterm = null;\r\n  $scope.accsummarypage = 1;\r\n\r\n\r\n  $rootScope.back = function() {\r\n    if ($scope.selectedTab == 2 && $scope.accsummarypage == 2) {\r\n      //show acc summary info\r\n      $scope.accsummarypage = 1;\r\n    } else {\r\n      $location.path(\"/home\");\r\n    }\r\n  }\r\n\r\n  $scope.yearselect = function(selyr) {\r\n    if (!$scope.selyear) {\r\n      $scope.finaidreqs = null;\r\n      $scope.awardoverview = null;\r\n      $scope.accsummbyterm = null;\r\n      $scope.accsummarypage = 1;\r\n      return;\r\n    }\r\n    if ($scope.selectedTab == 0) {\r\n      $scope.stureq();\r\n    } else if ($scope.selectedTab == 1) {\r\n      $scope.awards();\r\n    } else {\r\n      $scope.accsumm();\r\n    }\r\n  }\r\n\r\n\r\n  $rootScope.getAPI( pagedef.endpoint, function(data) {\r\n    $scope.finaidyears = data.finaidyears;\r\n  });\r\n  //\r\n  $scope.stureq = function() {\r\n    $scope.selectedTab = 0;\r\n    if ($scope.selyear == \"\" || $scope.selyear == undefined) {\r\n      $scope.finaidreqs = null;\r\n      return;\r\n    }\r\n\r\n    if (!$scope.finaidreqs) {\r\n      $rootScope.getAPI( \"/bannerfinaidstudentrequirements/aidy=\" + $scope.selyear, function(data) {\r\n        $scope.finaidreqs = data;\r\n        /*  var noResMes = \"No requirements exist for the student !\";\r\n            if ($scope.finaidreqs.studentrequirements.length == 0) {\r\n                if (window.device) {\r\n                    navigator.notification.alert(noResMes, null, title, null);\r\n                } else {\r\n                    apprise(noResMes, {\r\n                        'verify': false,\r\n                        'textYes': \"Ok\"\r\n                    }, function(r) {});\r\n                }\r\n                return;\r\n            } else {\r\n                $location.path(\"/app/FinAid2/FinAid2Page2\");\r\n            }  */\r\n      });\r\n    }\r\n\r\n  }\r\n\r\n  $scope.awards = function() {\r\n    $scope.selectedTab = 1;\r\n    if ($scope.selyear == \"\" || $scope.selyear == undefined) {\r\n      $scope.awardoverview = null;\r\n      return;\r\n    }\r\n\r\n    if (!$scope.awardoverview) {\r\n      $rootScope.getAPI( \"/bannerfinaidawardoverview/aidy=\" + $scope.selyear, function(data) {\r\n        $scope.awardoverview = data;\r\n        var coatotal = 0;\r\n        // Calculate COA totals\r\n        $.each(data.costattendance, function(cindex, coarec) {\r\n          coatotal = coatotal + Number(coarec.AMOUNT);\r\n        });\r\n        // Award details \r\n        var awards = data.awarddetails;\r\n        var sortawards = awards;\r\n\r\n        function SortByFundCode(x, y) {\r\n          return ((x.RPRAWRD_FUND_CODE == y.RPRAWRD_FUND_CODE) ? 0 : ((x.RPRAWRD_FUND_CODE > y.RPRAWRD_FUND_CODE) ? 1 : -1));\r\n        }\r\n\r\n\r\n        sortawards.sort(SortByFundCode);\r\n        var prevfund = null;\r\n        var curfund = null;\r\n        var funddesc = null;\r\n        var prevfunddesc = null;\r\n        var curstatus = null;\r\n        var prevstatus = null;\r\n        var totamt = 0;\r\n        var fundsumm = [];\r\n        var htmlscript = \"\";\r\n        var found = false;\r\n        var offeramt = 0;\r\n        var prevofferamt = 0;\r\n        $.each(sortawards, function(index, award) {\r\n          found = true;\r\n          curfund = award.RPRAWRD_FUND_CODE;\r\n          funddesc = award.RFRBASE_FUND_TITLE;\r\n          curstatus = award.RTVAWST_DESC;\r\n          offeramt = Number(award.RPRATRM_OFFER_AMT);\r\n          if (index == 0) {\r\n            prevfund = curfund;\r\n            prevfunddesc = funddesc;\r\n            prevstatus = curstatus;\r\n            prevofferamt = offeramt;\r\n          }\r\n          if (prevfund == curfund) {\r\n            totamt = totamt + offeramt;\r\n            //alert('total=' + totamt);\r\n          } else {\r\n            //alert('total:::' + totamt);\r\n            fundsumm.push({\r\n              \"FUND\": prevfund,\r\n              \"FUND_TITLE\": prevfunddesc,\r\n              \"STATUS\": prevstatus,\r\n              \"OFFERED\": totamt\r\n            });\r\n            prevfund = curfund;\r\n            prevfunddesc = funddesc;\r\n            prevofferamt = offeramt;\r\n            totamt = offeramt;\r\n            //alert('offer total:::' + totamt);\r\n          }\r\n\r\n        });\r\n        if (found) {\r\n          fundsumm.push({\r\n            \"FUND\": curfund,\r\n            \"FUND_TITLE\": funddesc,\r\n            \"STATUS\": curstatus,\r\n            \"OFFERED\": totamt\r\n          });\r\n        }\r\n\r\n        var awardgrandtot = 0;\r\n        $.each(fundsumm, function(index, val) {\r\n          awardgrandtot = awardgrandtot + Number(val.OFFERED);\r\n        });\r\n        $scope.awardoverview = {\r\n          \"needcalculation\": data.CLASSLOOKUP[0],\r\n          \"housing\": data.housing,\r\n          \"awarddetails\": data.awarddetails,\r\n          \"costattendance\": data.costattendance,\r\n          \"coatotal\": coatotal,\r\n          \"cumulativeloaninfo\": data.cumulativeloaninfo,\r\n          \"awardsummary\": fundsumm,\r\n          \"awardsummtotal\": awardgrandtot\r\n        };\r\n\r\n        //$location.path(\"/app/FinAid2/FinAid2Page3\");\r\n      });\r\n    }\r\n\r\n  }\r\n\r\n  $scope.accsumm = function() {\r\n    $scope.selectedTab = 2;\r\n\r\n    if (!$scope.accsummbyterm) {\r\n      $rootScope.getAPI( \"/bannerfinaidaccountsummarybyterm\", function(data) {\r\n        var prevterm = null;\r\n        var curterm = null;\r\n        var totcharges = 0;\r\n        var totpayments = 0;\r\n        var totbalance = 0;\r\n        var accsummbyterm = [];\r\n        var accsumm = null;\r\n        $.each(data.accountbalancebyterm, function(index, val) {\r\n          curterm = val.TBRACCD_TERM_CODE;\r\n          if (curterm != prevterm) {\r\n            prevterm = curterm;\r\n            accsumm = {\r\n              \"TBRACCD_TERM_CODE\": val.TBRACCD_TERM_CODE,\r\n              \"STVTERM_DESC\": val.STVTERM_DESC,\r\n              totc: Number(val.CHARGES),\r\n              totp: Number(val.PAYMENT),\r\n              totb: Number(val.BALANCE),\r\n              accdetails: []\r\n            };\r\n            accsumm.accdetails.push(val);\r\n            accsummbyterm.push(accsumm);\r\n          } else {\r\n            accsumm.accdetails.push(val);\r\n            accsumm.totc = accsumm.totc + Number(val.CHARGES);\r\n            accsumm.totp = accsumm.totp + Number(val.PAYMENT);\r\n            accsumm.totb = accsumm.totb + Number(val.BALANCE);\r\n          }\r\n        });\r\n\r\n        $scope.accsummbyterm = {\r\n          \"accountbalancebyterm\": accsummbyterm,\r\n          \"accountbalancesummary\": data.accountbalancesummary\r\n        };\r\n      });\r\n    }\r\n\r\n  }\r\n\r\n  $scope.showtermdet = function(acc) {\r\n    $scope.accsummarypage = 2;\r\n    $scope.termdesc = acc.STVTERM_DESC;\r\n    $scope.acctdet = acc.accdetails;\r\n  }\r\n}",
          "datatemplate": "<div class=\"page-container\">\r\n    <div class=\"list-group-item key-block\">\r\n        <span class=\"pull-left\">\r\n            <i class=\"fa fa-info-circle fa-2x\"><\/i>\r\n        <\/span>\r\n        <div>Select an year from the below dropdown to view your financial aid information.<\/div><br/>\r\n            <select ng-model=\"selyear\" class=\"form-control\" ng-change=\"yearselect(this.value);\">\r\n                <option value=\"\">-- Select Aid Year --<\/option>\r\n                <option ng-selected=\"selyear == year.AIDY\" value=\"{{year.AIDY}}\" ng-repeat=\"year in finaidyears\">{{year.DESCRIPTION}}<\/option>\r\n            <\/select><br/>\r\n            <div class=\"btn-group justified nav-tabs\" >\r\n                <a class=\"btn btn-default\" href=\"#Tab1\" toggle=\"on\" active-class=\"active\" ng-click=\"stureq()\">\r\n                    Requirements<\/a>\r\n                <a class=\"btn btn-default\" href=\"#Tab2\" toggle=\"on\" active-class=\"active\" ng-click=\"awards()\">\r\n                    Awards<\/a>\r\n                <a class=\"btn btn-default\" href=\"#Tab3\" toggle=\"on\" active-class=\"active\" ng-click=\"accsumm()\">\r\n                    Account Summary<\/a>                    \r\n            <\/div>              \r\n    <\/div>\r\n    <div class=\"list-group\">\r\n        <div class=\"tab-content\">\r\n            <div class=\"tab-pane\" toggleable active-class=\"active\" default=\"active\"  id=\"Tab1\" exclusion-group=\"myTabs\">\r\n            <div class=\"list-group-item main-heading\">Student Requirements:<\/div>\r\n                <div class=\"alert alert-warning\" ng-show=\"!finaidreqs || finaidreqs.studentrequirements.length == 0\">No Student Requirements found for the selected aid year.<\/div>\r\n                <div ng-repeat=\"sr in finaidreqs.studentrequirements\">\r\n                    <div class=\"list-group-item group-heading\">{{sr.DESCRIPTION}}<\/div>\r\n                    <div class=\"list-group-item key\">Status: <span class=\"pull-right val\">{{sr.STATUS}}<\/span><\/div>\r\n                    <div class=\"list-group-item key\">Date:<span class=\"pull-right val\">{{sr.STATUS_CHANGE_DATE}}<\/span> <\/div> \r\n                    <div class=\"list-group-item key\">Satisfied:\r\n                        <i class=\"pull-right fa fa-check fa-2x success\"  ng-show=\"sr.SATISFIED_IND == 'Y'\"><\/i>\r\n                        <i class=\"pull-right fa fa-times fa-2x danger\"  ng-show=\"sr.SATISFIED_IND != 'Y'\"><\/i>\r\n                    <\/div>\r\n                <\/div>            \r\n            <\/div>\r\n            <div class=\"tab-pane\" toggleable active-class=\"active\"  id=\"Tab2\" exclusion-group=\"myTabs\">\r\n                <div class=\"list-group-item main-heading\">Awards Information:<\/div>\r\n                <div ng-show=\"awardoverview.needcalculation.length > 0\">\r\n                    <div class=\"list-group-item group-heading\">Need Calculation:<\/div>\r\n                    <div class=\"data-block\" ng-repeat=\"calc in awardoverview.needcalculation\">\r\n                        <li class=\"list-group-item\">Cost of Attendance:<span class=\"pull-right\">{{calc.COA | currency:\"$\":2}}<\/span> <\/li>\r\n                        <li class=\"list-group-item\">Estimated Family Contribution:<span class=\"pull-right\">{{calc.EFC | currency:\"$\":2}}<\/span> <\/li>\r\n                        <li class=\"list-group-item\">Initial Need:<span class=\"pull-right\">{{calc.init | currency:\"$\":2}}<\/span> <\/li>\r\n                        <li class=\"list-group-item\">Outside Resource:<span class=\"pull-right\">{{calc.outsideresource | currency:\"$\":2}}<\/span> <\/li>\r\n                        <li class=\"list-group-item\">Need:<span class=\"pull-right\">{{calc.need | currency:\"$\":2}}<\/span> <\/li>\r\n                    <\/div>    \r\n                <\/div>\r\n                <div ng-show=\"awardoverview.costattendance.length > 0\">\r\n                    <div class=\"list-group-item group-heading\">Cost of Attendance:<\/div>\r\n                    <div class=\"list-group-item key\" ng-repeat=\"crow in awardoverview.costattendance\">{{crow.DESCRIPTION}}<span class=\"pull-right val\">{{crow.AMOUNT | currency:\"$\":2}}<\/span> <\/div> \r\n                    <div class=\"list-group-item footer\">Totals : <span class=\"pull-right\">{{awardoverview.coatotal | currency:\"$\":2}} <\/span> <\/div>   \r\n                <\/div>\r\n                <div ng-show=\"awardoverview.cumulativeloaninfo.length > 0 &&\r\n                                                          (awardoverview.cumulativeloaninfo[0].SUBSIDIZED != 0 || awardoverview.cumulativeloaninfo[0].UNSUBSIDIZED != 0 ||\r\n                                                          awardoverview.cumulativeloaninfo[0].GRADUATEPLUS != 0 || awardoverview.cumulativeloaninfo[0].PARENTPLUS != 0 ||\r\n                                                          awardoverview.cumulativeloaninfo[0].PERKINS != 0 || awardoverview.cumulativeloaninfo[0].DIRECTUNSUBSIDIZED != 0)\">\r\n                    <div class=\"list-group-item group-heading\">Cumulative Loan Information:<\/div>\r\n                    <div class=\"row list-group-item\">\r\n                        <div class=\"col-xs-8 col-sm-8 key\"><strong>Loan Type<\/strong> <\/div>\r\n                        <div class=\"col-xs-4 col-sm-4 val\"><strong>Amount<\/strong>\r\n                        <\/div>\r\n                    <\/div>\r\n                    <div class=\"row list-group-item\" ng-if=\"awardoverview.cumulativeloaninfo[0].SUBSIDIZED != 0\">\r\n                        <div class=\"col-xs-8 col-sm-8 key\">Subsidized <\/div>\r\n                        <div class=\"col-xs-4 col-sm-4 val\">{{awardoverview.cumulativeloaninfo[0].SUBSIDIZED | currency:\"$\":2}} <\/div>\r\n                    <\/div>\r\n                    <div class=\"row list-group-item\" ng-if=\"awardoverview.cumulativeloaninfo[0].UNSUBSIDIZED != 0\">\r\n                        <div class=\"col-xs-8 col-sm-8 key\">Unsubsidized <\/div>\r\n                        <div class=\"col-xs-4 col-sm-4 val\">{{awardoverview.cumulativeloaninfo[0].UNSUBSIDIZED | currency:\"$\":2}} <\/div>\r\n                    <\/div>\r\n                    <div class=\"row list-group-item\" ng-if=\"awardoverview.cumulativeloaninfo[0].GRADUATEPLUS != 0\">\r\n                        <div class=\"col-xs-8 col-sm-8 key\">Graduate PLUS <\/div>\r\n                        <div class=\"col-xs-4 col-sm-4 val\">{{awardoverview.cumulativeloaninfo[0].GRADUATEPLUS | currency:\"$\":2}} <\/div>\r\n                    <\/div>\r\n                    <div class=\"row list-group-item\" ng-if=\"awardoverview.cumulativeloaninfo[0].PARENTPLUS != 0\">\r\n                        <div class=\"col-xs-8 col-sm-8 key\">Parent PLUS <\/div>\r\n                        <div class=\"col-xs-4 col-sm-4 val\">{{awardoverview.cumulativeloaninfo[0].PARENTPLUS | currency:\"$\":2}} <\/div>\r\n                    <\/div>\r\n                    <div class=\"row list-group-item\" ng-if=\"awardoverview.cumulativeloaninfo[0].PERKINS != 0\">\r\n                        <div class=\"col-xs-8 col-sm-8 key\">Perkins <\/div>\r\n                        <div class=\"col-xs-4 col-sm-4 val\">{{awardoverview.cumulativeloaninfo[0].PERKINS | currency:\"$\":2}} <\/div>\r\n                    <\/div>\r\n                    <div class=\"row list-group-item\" ng-if=\"awardoverview.cumulativeloaninfo[0].DIRECTUNSUBSIDIZED != 0\">\r\n                        <div class=\"col-xs-8 col-sm-8 key\">Direct Unsubsidized (TEACH) <\/div>\r\n                        <div class=\"col-xs-4 col-sm-4 val\">{{awardoverview.cumulativeloaninfo[0].DIRECTUNSUBSIDIZED | currency:\"$\":2}} <\/div>\r\n                    <\/div>\r\n                <\/div>\r\n\r\n                <div ng-show=\"awardoverview.awardsummary.length > 0\">\r\n                    <div class=\"list-group-item group-heading\">Financial Aid Award Summary:<\/div>\r\n                    <div class=\"list-group\" ng-repeat=\"fund in awardoverview.awardsummary\">\r\n                        <div class=\"list-group-item group-heading\">Fund : <span>{{fund.FUND_TITLE}}<\/span><\/div>\r\n                        <div class=\"list-group-item key\">Status : <span class=\"pull-right val\">{{fund.STATUS}}<\/span><\/div>\r\n                        <div class=\"list-group-item key\">Amount : <span class=\"pull-right val\">{{fund.OFFERED | currency:\"$\":2}}<\/span>\r\n                        <\/div>\r\n                    <\/div>\r\n                    <div class=\"list-group-item footer\">\r\n                        Totals: <span class=\"pull-right\">{{awardoverview.awardsummtotal | currency:\"$\":2}}<\/span>\r\n                    <\/div>\r\n                <\/div>\r\n\r\n            <\/div> \r\n            <div class=\"tab-pane\" toggleable active-class=\"active\"  id=\"Tab3\" exclusion-group=\"myTabs\">\r\n                <div ng-show=\"accsummarypage == 1\" >\r\n                    <div class=\"list-group-item main-heading\">Account Balance:<span class=\"pull-right\">{{accsummbyterm.accountbalancesummary[0].ACCT_TOTAL | currency:\"$\":2}}<\/span> <\/div>\r\n                    <div ng-repeat=\"acc in  accsummbyterm.accountbalancebyterm\">\r\n                        <div class=\"list-group-item group-heading\" data-message={{acc.TBRACCD_TERM_CODE}} ng-click=\"showtermdet(acc);\"> {{acc.STVTERM_DESC}}<span class=\"pull-right fa fa-chevron-right\"><\/span><\/div>    \r\n                        <div class=\"list-group-item key\">Total Charges : <span class=\"pull-right val\">{{acc.totc | currency:\"$\":2}}<\/span>\r\n                        <\/div>\r\n                        <div class=\"list-group-item key\">Total Payment : <span class=\"pull-right val\">{{acc.totp | currency:\"$\":2}}<\/span>\r\n                        <\/div>\r\n                        <div class=\"list-group-item key\">Total Balance : <span class=\"pull-right val\">{{acc.totb | currency:\"$\":2}}<\/span>\r\n                        <\/div>\r\n                    <\/div>\r\n                <\/div>\r\n                <div ng-show=\"accsummarypage==2\">\r\n                    <div class=\"list-group-item main-heading\">{{termdesc}}<\/div>\r\n                    <div ng-repeat=\"acc in  acctdet\">\r\n                        <div class=\"list-group-item group-heading\">{{acc.TBBDETC_DESC}}<\/div>\r\n                        <div class=\"list-group-item key\">Charge: <span class=\"pull-right val\">{{acc.CHARGES | currency:\"$\":2}}<\/span><\/div>\r\n                        <div class=\"list-group-item key\">Payment: <span class=\"pull-right val\">{{acc.PAYMENT | currency:\"$\":2}}<\/span><\/div>\r\n                        <div class=\"list-group-item key\">Balance: <span class=\"pull-right val\">{{acc.BALANCE | currency:\"$\":2}}<\/span><\/div>\r\n                    <\/div>    \r\n                <\/div>                \r\n            <\/div>\r\n        <\/div>\r\n    <\/div>\r\n<\/div>"
        },
        {
          "pageid": "FinAid2Page3",
          "pageTemplate": "<div><\/div>",
          "endpoint": "",
          "pageprocessor": "function pageprocessorFinAid2Page3(pagedef, $scope, $routeParams, $compile, $http, $rootScope, $sce, $window, $location) {var data1 = $compile($(pagedef.datatemplate))($scope);$(\"#appContent\").append(data1);}",
          "datatemplate": "<div style=\"margin:10px;\">\r\n    <div class=\"panel panel-primary\" ng-show=\"awardoverview.needcalculation.length > 0\">\r\n        <div class=\"panel-heading\">\r\n            <h3 class=\"panel-title\">Need Calculation: <\/h3>\r\n        <\/div>\r\n        <div class=\"panel-body\">\r\n            <ul class=\"list-group\" ng-repeat=\"calc in awardoverview.needcalculation\">\r\n                <li class=\"list-group-item\">Cost of Attendance:<span class=\"pull-right\">{{calc.COA | currency:\"$\":2}}<\/span> <\/li>\r\n                <li class=\"list-group-item\">Estimated Family Contribution:<span class=\"pull-right\">{{calc.EFC | currency:\"$\":2}}<\/span> <\/li>\r\n                <li class=\"list-group-item\">Initial Need:<span class=\"pull-right\">{{calc.init | currency:\"$\":2}}<\/span> <\/li>\r\n                <li class=\"list-group-item\">Outside Resource:<span class=\"pull-right\">{{calc.outsideresource | currency:\"$\":2}}<\/span> <\/li>\r\n                <li class=\"list-group-item\">Need:<span class=\"pull-right\">{{calc.need | currency:\"$\":2}}<\/span> <\/li>\r\n            <\/ul>\r\n\r\n        <\/div>\r\n    <\/div>\r\n    <div class=\"panel panel-primary\" ng-show=\"awardoverview.costattendance.length > 0\">\r\n        <div class=\"panel-heading\">\r\n            <h3 class=\"panel-title\">Cost of Attendance: <\/h3>\r\n        <\/div>\r\n        <div class=\"panel-body\">            \r\n                <div class=\"list-group-item\" ng-repeat=\"crow in awardoverview.costattendance\">{{crow.DESCRIPTION}}<span class=\"pull-right\">{{crow.AMOUNT | currency:\"$\":2}}<\/span> <\/div>\r\n        <\/div>\r\n        <div class=\"panel-footer\" style=\"font-weight:bolder;\">\r\n            <div>Totals : <span class=\"pull-right\">{{awardoverview.coatotal | currency:\"$\":2}} <\/span> <\/div>\r\n        <\/div>\r\n    <\/div>\r\n    <div class=\"panel panel-primary\" ng-show=\"awardoverview.cumulativeloaninfo.length > 0 &&\r\n                                              (awardoverview.cumulativeloaninfo[0].SUBSIDIZED != 0 || awardoverview.cumulativeloaninfo[0].UNSUBSIDIZED != 0 ||\r\n                                              awardoverview.cumulativeloaninfo[0].GRADUATEPLUS != 0 || awardoverview.cumulativeloaninfo[0].PARENTPLUS != 0 ||\r\n                                              awardoverview.cumulativeloaninfo[0].PERKINS != 0 || awardoverview.cumulativeloaninfo[0].DIRECTUNSUBSIDIZED != 0)\">\r\n        <div class=\"panel-heading\">\r\n            <h3 class=\"panel-title\">Cumulative Loan Information: <\/h3>\r\n        <\/div>\r\n        <div class=\"panel-body\" style=\"margin-left:15px;margin-right:15px;\">\r\n            <div class=\"row list-group-item\">\r\n                <div class=\"col-xs-8 col-sm-8\"><strong>Loan Type<\/strong> <\/div>\r\n                <div class=\"col-xs-4 col-sm-4\"><strong>Amount<\/strong>\r\n                <\/div>\r\n            <\/div>\r\n            <div class=\"row list-group-item\" ng-if=\"awardoverview.cumulativeloaninfo[0].SUBSIDIZED != 0\">\r\n                <div class=\"col-xs-8 col-sm-8\">Subsidized <\/div>\r\n                <div class=\"col-xs-4 col-sm-4\">{{awardoverview.cumulativeloaninfo[0].SUBSIDIZED | currency:\"$\":2}} <\/div>\r\n            <\/div>\r\n            <div class=\"row list-group-item\" ng-if=\"awardoverview.cumulativeloaninfo[0].UNSUBSIDIZED != 0\">\r\n                <div class=\"col-xs-8 col-sm-8\">Unsubsidized <\/div>\r\n                <div class=\"col-xs-4 col-sm-4\">{{awardoverview.cumulativeloaninfo[0].UNSUBSIDIZED | currency:\"$\":2}} <\/div>\r\n            <\/div>\r\n            <div class=\"row list-group-item\" ng-if=\"awardoverview.cumulativeloaninfo[0].GRADUATEPLUS != 0\">\r\n                <div class=\"col-xs-8 col-sm-8\">Graduate PLUS <\/div>\r\n                <div class=\"col-xs-4 col-sm-4\">{{awardoverview.cumulativeloaninfo[0].GRADUATEPLUS | currency:\"$\":2}} <\/div>\r\n            <\/div>\r\n            <div class=\"row list-group-item\" ng-if=\"awardoverview.cumulativeloaninfo[0].PARENTPLUS != 0\">\r\n                <div class=\"col-xs-8 col-sm-8\">Parent PLUS <\/div>\r\n                <div class=\"col-xs-4 col-sm-4\">{{awardoverview.cumulativeloaninfo[0].PARENTPLUS | currency:\"$\":2}} <\/div>\r\n            <\/div>\r\n            <div class=\"row list-group-item\" ng-if=\"awardoverview.cumulativeloaninfo[0].PERKINS != 0\">\r\n                <div class=\"col-xs-8 col-sm-8\">Perkins <\/div>\r\n                <div class=\"col-xs-4 col-sm-4\">{{awardoverview.cumulativeloaninfo[0].PERKINS | currency:\"$\":2}} <\/div>\r\n            <\/div>\r\n            <div class=\"row list-group-item\" ng-if=\"awardoverview.cumulativeloaninfo[0].DIRECTUNSUBSIDIZED != 0\">\r\n                <div class=\"col-xs-8 col-sm-8\">Direct Unsubsidized (TEACH) <\/div>\r\n                <div class=\"col-xs-4 col-sm-4\">{{awardoverview.cumulativeloaninfo[0].DIRECTUNSUBSIDIZED | currency:\"$\":2}} <\/div>\r\n            <\/div>\r\n\r\n        <\/div>\r\n    <\/div>\r\n    <div class=\"panel panel-primary\" ng-show=\"awardoverview.awardsummary.length > 0\">\r\n        <div class=\"panel-heading\">\r\n            <h3 class=\"panel-title\">Financial Aid Award Summary: <\/h3>\r\n        <\/div>\r\n        <div class=\"panel-body\">\r\n            <div class=\"list-group\" ng-repeat=\"fund in awardoverview.awardsummary\">\r\n                <a class=\"list-group-item active\" style=\"background:#384266 !important;\">Fund : <span>{{fund.FUND_TITLE}}<\/span><\/a>\r\n                <div class=\"list-group-item\">Status : <span class=\"pull-right\">{{fund.STATUS}}<\/span>\r\n                <\/div>\r\n                <div class=\"list-group-item\">Amount : <span class=\"pull-right\">{{fund.OFFERED | currency:\"$\":2}}<\/span>\r\n                <\/div>\r\n\r\n            <\/div>\r\n\r\n        <\/div>\r\n        <div class=\"panel-footer\">\r\n            Totals: <span class=\"pull-right\">{{awardoverview.awardsummtotal | currency:\"$\":2}}<\/span>\r\n        <\/div>\r\n    <\/div>\r\n<\/div>"
        },
        {
          "pageid": "FinAid2Page2",
          "pageTemplate": "<div><\/div>",
          "datatemplate": "<div style=\"margin:10px;\">\r\n    <div class=\"list-group\">\r\n        <div ng-repeat=\"sr in finaidreqs.studentrequirements\">\r\n            <a class=\"list-group-item active\" style=\"background: #384266 !important;border: 1px solid #fff !important; color:#fff !important;\">>{{sr.DESCRIPTION}}<\/a>\r\n            <div class=\"list-group-item\">Status: <span class=\"pull-right\" style=\"border-radius:5px;font-weight:bolder;\">{{sr.STATUS}}<\/span>\r\n            <\/div>\r\n            <div class=\"list-group-item\">Date:<span class=\"pull-right\" style=\"border-radius:5px;font-weight:bolder;\">{{sr.STATUS_CHANGE_DATE}}<\/span>\r\n            <\/div> \r\n            <div class=\"list-group-item\">Satisfied:\r\n                <span class=\"pull-right fa fa-check fa-2x\" style=\"color: green;margin-top: -3px;\" ng-show=\"sr.SATISFIED_IND == 'Y'\"><\/span>\r\n                <span class=\"pull-right fa fa-times fa-2x\" style=\"color: red;margin-top: -3px;\" ng-show=\"sr.SATISFIED_IND != 'Y'\"><\/span>\r\n            <\/div>\r\n        <\/div>\r\n    <\/div>\r\n<\/div>",
          "endpoint": "",
          "pageprocessor": "function pageprocessorFinAid2Page2(pagedef, $scope, $routeParams, $compile, $http, $rootScope, $sce, $window, $location) {var data1 = $compile($(pagedef.datatemplate))($scope);$(\"#appContent\").append(data1);}"
        }
      ]
    },
    {
      "id": 45786,
      "name": "MidTermGradeB1",
      "displayname": "Midterm Grades",
      "logo": "CCTC/MidTermGradeB1.png",
      "logourl": "CCTC/MidTermGradeB1.png",
      "description": "MidtermGrades",
      "appFeatureType": "Banner",
      "roles": "STUDENT",
      "showInDock": false,
      "showInHome": true,
      "networkrequired": true,
      "analytics": true,
      "pages": 
      [
        {
          "pageid": "MidTermGradeB1",
          "pageTemplate": "<div><\/div>",
          "endpoint": "/bannertermdropdown",
          "datatemplate": "<div class=\"page-container\">\r\n    <div class=\"list-group-item key-block\">\r\n        <span class=\"pull-left\">\r\n            <i class=\"fa fa-info-circle fa-2x\"><\/i>\r\n        <\/span>\r\n        <div>Select a term from the below term dropdown to show your midterm grade information.<\/div><br/>\r\n            <select id=\"termsel\" ng-model=\"selterm\" class=\"form-control\" ng-change=\"termselect(this.value);\">\r\n                <option value=\"\">-- Select a Term --<\/option>\r\n                <option ng-selected=\"selterm == term.TERM_CODE\" value=\"{{term.TERM_CODE}}\" ng-repeat=\"term in gradesdropdown\">{{term.TERM_DESC}}<\/option>\r\n            <\/select><br/>\r\n            <div class=\"btn-group justified nav-tabs\" >\r\n                <a class=\"btn btn-default\" href=\"#Tab1\" toggle=\"on\" active-class=\"active\" >\r\n                    Student Info<\/a>\r\n                <a class=\"btn btn-default\" href=\"#Tab2\" toggle=\"on\" active-class=\"active\">\r\n                    Grades<\/a>                  \r\n            <\/div>              \r\n    <\/div>\r\n    <div class=\"list-group\">\r\n            <div class=\"tab-content\" >\r\n                <div class=\"tab-pane\" toggleable active-class=\"active\"  id=\"Tab1\" exclusion-group=\"myTabs\">\r\n                    <div class=\"list-group-item main-heading\">Student Information:<\/div>\r\n                    <div class=\"alert alert-warning\" ng-show=\"studentInfo.length == 0\">No student information found for the selected term.<\/div>\r\n                    <div class=\"data-block\" ng-show=\"studentInfo.length > 0\">\r\n                        <div class=\"list-group-item\">Level:<span class=\"pull-right\">{{studentInfo[0].LEVEL_DESC}}<\/span><\/div>\r\n                        <div class=\"list-group-item\">Program:<span class=\"pull-right\">{{studentInfo[0].PROGRAM_NAME}}<\/span><\/div>\r\n                        <div class=\"list-group-item\">Admit Term:<span class=\"pull-right\">{{studentInfo[0].ADMIT_TERM}}<\/span><\/div>\r\n                        <div class=\"list-group-item\">Catalog Term:<span class=\"pull-right\">{{studentInfo[0].CATLG_TREM}}<\/span><\/div>\r\n                        <div class=\"list-group-item\">Campus:<span class=\"pull-right\">{{studentInfo[0].CAMPUS}}<\/span><\/div>\r\n                    <\/div>\r\n                <\/div>\r\n                <div class=\"tab-pane\" toggleable active-class=\"active\" default=\"active\" id=\"Tab2\" exclusion-group=\"myTabs\">\r\n                    <div class=\"list-group-item main-heading\">Course Work:<\/div>\r\n                    <div class=\"alert alert-warning\" ng-show=\"midterm.length == 0\">No Midterm grades found for the selected term.<\/div>\r\n                    <div ng-repeat=\"mt in midterm\" >\r\n                        <div class=\"list-group-item group-heading\">{{mt.COURSE_TITLE}} <\/div>\r\n                        <div class=\"list-group-item key\">\r\n                            Course:<span class=\"pull-right val\">{{mt.SUBJECT_CODE}}  {{mt.COURSE_NUMBER}}<\/span>\r\n                        <\/div>\r\n                        <div class=\"list-group-item key\">\r\n                            CRN:<span class=\"pull-right val\">{{mt.CRN}}<\/span>\r\n                        <\/div>\r\n                        <div class=\"list-group-item key\">\r\n                            Campus:<span class=\"pull-right val\">{{mt.CAMPUS}}<\/span>\r\n                        <\/div>\r\n                        <div class=\"list-group-item key\">\r\n                            Credits:<span class=\"pull-right val\">{{mt.CREDIT_HOURS}}<\/span>\r\n                        <\/div>\r\n                        <div class=\"list-group-item key clearfix\" style=\"font-weight:bold;padding-top:6px;\">\r\n                            <strong>Midterm Grade:<\/strong><span class=\"pull-right val badge badge-info\">{{mt.MIDTERM_GRADE}}<\/span>\r\n                        <\/div>                           \r\n                    <\/div>               \r\n                <\/div>\r\n            <\/div>  \r\n    <\/div>\r\n<\/div>",
          "pageprocessor": "function pageprocessorMidTermGradeB1(pagedef, $scope, $routeParams, $compile, $http, $rootScope, $sce, $window, $location) {\r\n  var data1 = $compile($(pagedef.datatemplate))($scope);\r\n  $(\"#appContent\").append(data1);\r\n  $scope.selterm = \"\";\r\n  $scope.midterm = [];\r\n  $scope.studentInfo = [];\r\n\r\n  $rootScope.getAPI( pagedef.endpoint, function(data) {\r\n    $scope.gradesdropdown = data.dropdown;\r\n  });\r\n\r\n  $scope.termselect = function(selterm) {\r\n    $scope.midterm = [];\r\n    $('#termsel').blur();\r\n    if (!$scope.selterm) {\r\n      $scope.midterm = [];\r\n      $scope.studentInfo = [];\r\n      return;\r\n    }\r\n    $rootScope.getAPI( \"/bannermidtermgrade/termCode=\" + $scope.selterm, function(data) {\r\n      \r\n      var tempColl = [];\r\n      angular.forEach(data.midterm, function(value, key) {\r\n        if (value.MIDTERM_GRADE) {\r\n          tempColl.push(value);\r\n        }\r\n      });\r\n      data.midterm = tempColl;\r\n      $scope.midterm = data.midterm;\r\n      $scope.studentInfo = data.studentInfo;\r\n    });\r\n  }\r\n}"
        }
      ]
    },
    {
      "id": 45789,
      "name": "FinalGradeB1",
      "displayname": "Final Grades",
      "logo": "CCTC/FinalGradeB1.png",
      "logourl": "CCTC/FinalGradeB1.png",
      "description": "Final Grade",
      "appFeatureType": "Banner",
      "roles": "STUDENT",
      "showInDock": false,
      "showInHome": true,
      "networkrequired": true,
      "analytics": true,
      "pages": 
      [
        {
          "pageid": "FinalGradeB1",
          "pageTemplate": "<div><\/div>",
          "pageprocessor": "function pageprocessorFinalGradeB1(pagedef, $scope, $routeParams, $compile, $http, $rootScope, $sce, $window, $location) {\r\n  var data1 = $compile($(pagedef.datatemplate))($scope);\r\n  $(\"#appContent\").append(data1);\r\n  $scope.selterm = \"\";\r\n  $scope.studentInfo = [];\r\n  $scope.finalgrades = [];\r\n  $scope.currentsummary = [];\r\n  $scope.cumulativesummary = [];\r\n  $scope.transfersummary = [];\r\n  $scope.overallsummary = [];\r\n\r\n  $.blockUI();\r\n\r\n  $rootScope.getAPI( pagedef.endpoint, function(data) {\r\n    $scope.gradesdropdown = data.dropdown;\r\n    if (data.dropdown.length == 1) {\r\n      $scope.selterm = data.dropdown[0].TERM_CODE;\r\n      $scope.termselect($scope.selterm);\r\n    }\r\n  });\r\n\r\n\r\n  $scope.termselect = function(termcode) {\r\n    $.blockUI();\r\n    $('#termsel').blur();\r\n\r\n\r\n    $rootScope.getAPI( \"/bannerfinalgrade/termCode=\" + $scope.selterm, function(data) {\r\n      var tempColl = [];\r\n      angular.forEach(data.finalgrade, function(value, key) {\r\n        if (value.FINAL_GRADE) {\r\n          tempColl.push(value);\r\n        }\r\n      });\r\n      data.finalgrade = tempColl;\r\n      $scope.studentInfo = data.studentInfo;\r\n      $scope.finalgrades = data.finalgrade;\r\n      $scope.currentsummary = data[\"summary.current\"];\r\n      $scope.cumulativesummary = data[\"summary.cumulative\"];\r\n      $scope.transfersummary = data[\"summary.transfer\"];\r\n      $scope.overallsummary = data[\"summary.overall\"];\r\n    });\r\n\r\n  }\r\n}",
          "endpoint": "/bannerfinalgradetermdropdown",
          "datatemplate": "    <style>\r\n\r\n    <\/style>\r\n    <div class=\"page-container\">\r\n        <div class=\"list-group-item key-block\">\r\n            <span class=\"pull-left\">\r\n                <i class=\"fa fa-info-circle fa-2x\"><\/i>\r\n            <\/span>\r\n            <div>Select a term from the below term dropdown to show your final grade information.<\/div><br/>\r\n                <select id=\"termsel\" ng-model=\"selterm\" class=\"form-control\" ng-change=\"termselect(this.value);\">\r\n                    <option value=\"\">-- Select a Term --<\/option>\r\n                    <option ng-selected=\"selterm == term.TERM_CODE\" value=\"{{term.TERM_CODE}}\" ng-repeat=\"term in gradesdropdown\">{{term.TERM_DESC}}<\/option>\r\n                <\/select><br/>\r\n                <div class=\"btn-group justified nav-tabs\" >\r\n                    <a class=\"btn btn-default\" href=\"#Tab1\" toggle=\"on\" active-class=\"active\" >\r\n                        Student Info<\/a>\r\n                    <a class=\"btn btn-default\" href=\"#Tab2\" toggle=\"on\" active-class=\"active\">\r\n                        Grades<\/a>\r\n                    <a class=\"btn btn-default\" href=\"#Tab3\" toggle=\"on\" active-class=\"active\">\r\n                        Summary<\/a>                    \r\n                <\/div>              \r\n        <\/div>\r\n        <div class=\"list-group\">\r\n                <div class=\"tab-content\" >\r\n                    <div class=\"tab-pane\" toggleable active-class=\"active\"  id=\"Tab1\" exclusion-group=\"myTabs\">\r\n                        <div class=\"list-group-item main-heading\">Student Information:<\/div>\r\n                        <div class=\"alert alert-warning\" ng-show=\"studentInfo.length == 0\">No student information found for the selected term.<\/div>\r\n                        <div class=\"data-block\" ng-show=\"studentInfo.length > 0\">\r\n                            <div class=\"list-group-item\">Level:<span class=\"pull-right\">{{studentInfo[0].LEVEL_DESC}}<\/span><\/div>\r\n                            <div class=\"list-group-item\">Program:<span class=\"pull-right\">{{studentInfo[0].PROGRAM_NAME}}<\/span><\/div>\r\n                            <div class=\"list-group-item\">Admit Term:<span class=\"pull-right\">{{studentInfo[0].ADMIT_TERM}}<\/span><\/div>\r\n                            <div class=\"list-group-item\">Catalog Term:<span class=\"pull-right\">{{studentInfo[0].CATLG_TREM}}<\/span><\/div>\r\n                            <div class=\"list-group-item\">Campus:<span class=\"pull-right\">{{studentInfo[0].CAMPUS}}<\/span><\/div>\r\n                        <\/div>\r\n                    <\/div>\r\n                    <div class=\"tab-pane\" toggleable active-class=\"active\" default=\"active\" id=\"Tab2\" exclusion-group=\"myTabs\">\r\n                        <div class=\"list-group-item main-heading\">Course Work:<\/div>\r\n                        <div class=\"alert alert-warning\" ng-show=\"finalgrades.length == 0\">No Final grades found for the selected term.<\/div>\r\n                        <div ng-repeat=\"fg in finalgrades\" >\r\n                            <div class=\"list-group-item group-heading\">{{fg.COURSE_TITLE}}<\/div>\r\n                            <div class=\"list-group-item key\">\r\n                                Course:<span class=\"pull-right val\">{{fg.SUBJECT_CODE}} {{fg.COURSE_NUMBER}}<\/span>\r\n                            <\/div>\r\n                            <div class=\"list-group-item key\">\r\n                                CRN:<span class=\"pull-right val\">{{fg.CRN}}<\/span>\r\n                            <\/div>\r\n                            <div class=\"list-group-item key\">\r\n                                Campus:<span class=\"pull-right val\">{{fg.CAMPUS}}<\/span>\r\n                            <\/div>\r\n                            <div class=\"list-group-item key\">\r\n                                Credits:<span class=\"pull-right val\">{{fg.CREDIT_HOURS}}<\/span>\r\n                            <\/div>\r\n                            <div class=\"list-group-item key clearfix\" >\r\n                                <strong>Final Grade:<\/strong><span class=\"pull-right val badge badge-info\">{{fg.FINAL_GRADE}}<\/span>\r\n                            <\/div>                            \r\n                        <\/div>               \r\n                    <\/div>\r\n                    <div class=\"tab-pane\" toggleable active-class=\"active\" id=\"Tab3\" exclusion-group=\"myTabs\">\r\n                        <div class=\"list-group-item main-heading\">Summary Information:<\/div>\r\n                        <div class=\"alert alert-warning\" ng-show=\"currentsummary.length == 0 && cumulativesummary.length == 0 && overallsummary.length == 0 && transfersummary.length==0\">No summary information found for the selected term.<\/div>\r\n                        <div ng-show=\"currentsummary.length > 0\">\r\n                            <div class=\"list-group-item group-heading\">Current Term:<\/div>\r\n                            <div class=\"data-block\">\r\n                                <div class=\"list-group-item\">Attempted:<span class=\"pull-right\">{{currentsummary[0].ATTEMPTED | number: 3}}<\/span><\/div>\r\n                                <div class=\"list-group-item\">Earned:<span class=\"pull-right\">{{currentsummary[0].EARNED | number : 3}}<\/span><\/div>\r\n                                <div class=\"list-group-item\">GPA Hours:<span class=\"pull-right\">{{currentsummary[0].GPA_HOURS | number : 3}}<\/span><\/div>\r\n                                <div class=\"list-group-item\">Quality Points:<span class=\"pull-right\">{{currentsummary[0].QUALITY_POINTS | number : 2}}<\/span><\/div>\r\n                                <div class=\"list-group-item\">GPA:<span class=\"pull-right\">{{currentsummary[0].GPA | number : 2}}<\/span> <\/div>\r\n                            <\/div>\r\n\r\n                        <\/div>\r\n                        <div ng-show=\"cumulativesummary.length > 0\">\r\n                            <div class=\"list-group-item group-heading\">Cumulative:<\/div>\r\n                            <div class=\"data-block\">\r\n                                <div class=\"list-group-item\">Attempted:<span class=\"pull-right\">{{cumulativesummary[0].ATTEMPTED | number: 3}}<\/span><\/div>\r\n                                <div class=\"list-group-item\">Earned:<span class=\"pull-right\">{{cumulativesummary[0].EARNED | number : 3}}<\/span><\/div>\r\n                                <div class=\"list-group-item\">GPA Hours:<span class=\"pull-right\">{{cumulativesummary[0].GPA_HOURS | number : 3}}<\/span><\/div>\r\n                                <div class=\"list-group-item\">Quality Points:<span class=\"pull-right\">{{cumulativesummary[0].QUALITY_POINTS | number : 2}}<\/span><\/div>\r\n                                <div class=\"list-group-item\">GPA:<span class=\"pull-right\">{{cumulativesummary[0].GPA | number : 2}}<\/span> <\/div>\r\n                            <\/div>\r\n\r\n                        <\/div>\r\n                        <div ng-show=\"transfersummary.length > 0\">\r\n                            <div class=\"list-group-item group-heading\">Transfer:<\/div>\r\n                            <div class=\"data-block\">\r\n                                <div class=\"list-group-item\">Attempted:<span class=\"pull-right\">{{transfersummary[0].ATTEMPTED | number: 3}}<\/span><\/div>\r\n                                <div class=\"list-group-item\">Earned:<span class=\"pull-right\">{{transfersummary[0].EARNED | number : 3}}<\/span><\/div>\r\n                                <div class=\"list-group-item\">GPA Hours:<span class=\"pull-right\">{{transfersummary[0].GPA_HOURS | number : 3}}<\/span><\/div>\r\n                                <div class=\"list-group-item\">Quality Points:<span class=\"pull-right\">{{transfersummary[0].QUALITY_POINTS | number : 2}}<\/span><\/div>\r\n                                <div class=\"list-group-item\">GPA:<span class=\"pull-right\">{{transfersummary[0].GPA | number : 2}}<\/span> <\/div>\r\n                            <\/div>\r\n                        <\/div>   \r\n                        <div ng-show=\"overallsummary.length > 0\">\r\n                            <div class=\"list-group-item group-heading\">Overall:<\/div>\r\n                            <div class=\"data-block\">\r\n                                <div class=\"list-group-item\">Attempted:<span class=\"pull-right\">{{overallsummary[0].ATTEMPTED | number: 3}}<\/span><\/div>\r\n                                <div class=\"list-group-item\">Earned:<span class=\"pull-right\">{{overallsummary[0].EARNED | number : 3}}<\/span><\/div>\r\n                                <div class=\"list-group-item\">GPA Hours:<span class=\"pull-right\">{{overallsummary[0].GPA_HOURS | number : 3}}<\/span><\/div>\r\n                                <div class=\"list-group-item\">Quality Points:<span class=\"pull-right\">{{overallsummary[0].QUALITY_POINTS | number : 2}}<\/span><\/div>\r\n                                <div class=\"list-group-item\">GPA:<span class=\"pull-right\">{{overallsummary[0].GPA | number : 2}}<\/span> <\/div>\r\n                            <\/div>\r\n                        <\/div>                                               \r\n                    <\/div>\r\n                <\/div>  \r\n        <\/div>\r\n    <\/div>"
        },
        {
          "pageid": "FinalGradeB1Page2",
          "pageTemplate": "<div><\/div>",
          "pageprocessor": "function pageprocessorFinalGradeB1Page2(pagedef, $scope, $routeParams, $compile, $http, $rootScope, $sce, $window, $location) {var data1 = $compile($(pagedef.datatemplate))($scope);$(\"#appContent\").append(data1);}",
          "endpoint": "",
          "datatemplate": "<div>Sample Data<\/div>"
        }
      ]
    },
    {
      "id": 45798,
      "name": "AccTranscript",
      "displayname": "Academic Transcript",
      "logo": "CCTC/AccTranscript.png",
      "logourl": "CCTC/AccTranscript.png",
      "description": "Academic Transcript",
      "appFeatureType": "Banner",
      "roles": "STUDENT",
      "showInDock": false,
      "showInHome": true,
      "networkrequired": true,
      "analytics": true,
      "pages": 
      [
        {
          "pageid": "AccTranscript",
          "pageTemplate": "<div><\/div>",
          "dropdownendpoint": "/bannertranscriptdropdown",
          "datatemplate": "<div class=\"page-container\">\r\n    <div class=\"list-group-item key-block\">\r\n        <span class=\"pull-left\">\r\n            <i class=\"fa fa-info-circle fa-2x\"><\/i>\r\n        <\/span>\r\n        <div>Select level and credit type from the below dropdowns to view your academic transcripts.<\/div><br/>\r\n        <div class=\"row\">\r\n            <div class=\"col-sm-12\">\r\n                <div class=\"form-group\">\r\n                    <label><\/label>\r\n                    <select id=\"level\" ng-model=\"selectedvalue\" class=\"form-control\" ng-change=\"dropdownselect(this.value);\">\r\n                        <option value=\"\">-- Select a Transcript Level --<\/option>\r\n                        <option ng-selected=\"selectedvalue == level.LEVEL_CODE\" value=\"{{level.LEVEL_CODE}}\" ng-repeat=\"level in dropdown.transcriptleveldropdown\">{{level.LEVEL_DESC}}<\/option>\r\n                    <\/select>\r\n                <\/div>\r\n            <\/div>\r\n        <\/div>  \r\n        <div class=\"row\">\r\n            <div class=\"col-sm-12\">\r\n                <div class=\"form-group\">\r\n                    <label><\/label>\r\n                    <select id=\"credittype\" ng-model=\"creditselectedvalue\" class=\"form-control\" ng-change=\"creditselect(this.value);\">\r\n                        <option value=\"\">-- Select Credit Type --<\/option>\r\n                        <option ng-selected=\"creditselectedvalue == crtype.TRANSCRIPT_CODE\" value=\"{{crtype.TRANSCRIPT_CODE}}\" ng-repeat=\"crtype in dropdown.transcripttypedropdown\">{{crtype.TRANSCRIPT_DESC}}<\/option>\r\n                    <\/select>\r\n                <\/div>\r\n            <\/div>\r\n        <\/div>\r\n        <div class=\"btn-group justified nav-tabs\" >\r\n            <a class=\"btn btn-default\" href=\"#Tab1\" toggle=\"on\" active-class=\"active\">\r\n                Institution<br/>Credit<\/a>        \r\n            <a class=\"btn btn-default\" href=\"#Tab2\" toggle=\"on\" active-class=\"active\" >\r\n                Transfer<br/>Credit<\/a>\r\n            <a class=\"btn btn-default\" href=\"#Tab3\" toggle=\"on\" active-class=\"active\">\r\n                Transcript<br/>Totals<\/a>                    \r\n        <\/div>              \r\n    <\/div>   \r\n    <div class=\"list-group-item main-heading\">Transcript Information:<\/div> \r\n    <div class=\"tab-content\">\r\n        <div class=\"tab-pane\" toggleable active-class=\"active\" default=\"active\" id=\"Tab1\" exclusion-group=\"myTabs\">\r\n            <div ng-repeat=\"inst in listdata.institutioncredits\">\r\n                <div class=\"list-group-item group-heading\">{{inst.SHRTCKN_SUBJ_CODE}} {{inst.SHRTCKN_CRSE_NUMB}}-{{inst.SHRTCKN_SEQ_NO}}\r\n                <br/>{{inst.SHRTCKN_CRSE_TITLE}}\r\n                <\/div>\r\n                <div class=\"list-group-item key\">Grade:\r\n                    <span class=\"pull-right val\">{{inst.SHRTCKG_GRDE_CODE_FINAL}}<\/span>\r\n                <\/div>\r\n                <div class=\"list-group-item key\">Credit Hours:\r\n                    <span class=\"pull-right val\">{{inst.SHRTCKG_CREDIT_HOURS}}<\/span>\r\n                <\/div>\r\n                <div class=\"list-group-item key\">Quality Pts:\r\n                    <span class=\"pull-right val\">{{inst.SHRTCKG_QUAL_PTS}}<\/span>\r\n                <\/div>\r\n            <\/div>\r\n            <div class=\"list-group-item transparent\"><\/div>\r\n            <div class=\"list-group-item group-heading\">Total Institution<\/div>\r\n            <div class=\"data-block\" style='margin-bottom: 10px;'>\r\n                <div class=\"list-group-item\">Attempted  Hours:\r\n                    <span class=\"pull-right\">{{insttotal.ah | number:3}}<\/span>\r\n                <\/div>\r\n                <div class=\"list-group-item\">Passed Hours:\r\n                    <span class=\"pull-right\">{{insttotal.ph | number:3}}<\/span>\r\n                <\/div>\r\n                <div class=\"list-group-item\">Earned Hours:\r\n                    <span class=\"pull-right\">{{insttotal.eh | number:3}}<\/span>\r\n                <\/div>\r\n                <div class=\"list-group-item\">GPA Hours:\r\n                    <span class=\"pull-right\">{{insttotal.gpah | number:3}}<\/span>\r\n                <\/div>\r\n                <div class=\"list-group-item\">Quality Pts:\r\n                    <span class=\"pull-right\">{{insttotal.qp | number:3}}<\/span>\r\n                <\/div>\r\n                <div class=\"list-group-item\">GPA:\r\n                    <span class=\"pull-right\">{{listdata.transcripttotal[0].GPA | number:3}}<\/span>\r\n                <\/div>   \r\n            <\/div>          \r\n        <\/div>\r\n        <div class=\"tab-pane\" toggleable active-class=\"active\" id=\"Tab2\" exclusion-group=\"myTabs\">            \r\n            <div class=\"list-group-item group-heading\">Total Transfer:<\/div>\r\n            <div class=\"data-block\"  style='margin-bottom: 10px;'>\r\n                <div class=\"list-group-item\">Attempted Hrs:\r\n                    <span class=\"pull-right\">{{transfer.attempted}}<\/span>\r\n                <\/div>\r\n                <div class=\"list-group-item\">Passed Hrs:\r\n                    <span class=\"pull-right\">{{transfer.passed}}<\/span>\r\n                <\/div>\r\n                <div class=\"list-group-item\">Earned Hrs:\r\n                    <span class=\"pull-right\">{{transfer.earned}}<\/span>\r\n                <\/div>\r\n                <div class=\"list-group-item\">GPA Hrs:\r\n                    <span class=\"pull-right\">{{transfer.gpa}}<\/span>\r\n                <\/div>\r\n                <div class=\"list-group-item\">Quality Pts:\r\n                    <span class=\"pull-right\">{{transfer.credit}}<\/span>\r\n                <\/div>\r\n            <\/div>         \r\n        <\/div>\r\n        <div class=\"tab-pane\" toggleable active-class=\"active\" id=\"Tab3\" exclusion-group=\"myTabs\" >\r\n            <div ng-show=\"totalinst\">\r\n                <div class=\"list-group-item group-heading\">Total Institution:<\/div>\r\n                <div class=\"data-block\" >\r\n                    <div class=\"list-group-item\">Attempted Hrs:\r\n                        <span class=\"pull-right\">{{totalinst.ATTEMPT_HOURS | number:3}}<\/span>\r\n                    <\/div>\r\n                    <div class=\"list-group-item\">Passed Hrs:\r\n                        <span class=\"pull-right\">{{totalinst.PASSED_HOURS | number:3}}<\/span>\r\n                    <\/div>\r\n                    <div class=\"list-group-item\">Earned Hrs:\r\n                        <span class=\"pull-right\">{{totalinst.EARNED_HOURS | number:3}}<\/span>\r\n                    <\/div>\r\n                    <div class=\"list-group-item\">GPA Hrs:\r\n                        <span class=\"pull-right\">{{totalinst.GPA_HOURS | number:3}}<\/span>\r\n                    <\/div>\r\n                    <div class=\"list-group-item\">Quality Pts:\r\n                        <span class=\"pull-right\">{{totalinst.QUALITY_POINTS | number:3}}<\/span>\r\n                    <\/div>\r\n                    <div class=\"list-group-item\">GPA:\r\n                        <span class=\"pull-right\">{{totalinst.GPA | number:3}}<\/span>\r\n                    <\/div>\r\n                <\/div>\r\n            <\/div>\r\n            <div>\r\n                <div class=\"list-group-item group-heading\">Total Transfer:<\/div>\r\n                <div class=\"data-block\">\r\n                    <div class=\"list-group-item\">Attempted Hrs:\r\n                        <span class=\"pull-right\">{{totaltrans.ATTEMPT_HOURS | number:3}}<\/span>\r\n                    <\/div>\r\n                    <div class=\"list-group-item\">Passed Hrs:\r\n                        <span class=\"pull-right\">{{totaltrans.PASSED_HOURS | number:3}}<\/span>\r\n                    <\/div>\r\n                    <div class=\"list-group-item\">Earned Hrs:\r\n                        <span class=\"pull-right\">{{totaltrans.EARNED_HOURS | number:3}}<\/span>\r\n                    <\/div>\r\n                    <div class=\"list-group-item\">GPA Hrs:\r\n                        <span class=\"pull-right\">{{totaltrans.GPA_HOURS | number:3}}<\/span>\r\n                    <\/div>\r\n                    <div class=\"list-group-item\">Quality Pts:\r\n                        <span class=\"pull-right\">{{totaltrans.QUALITY_POINTS | number:3}}<\/span>\r\n                    <\/div>\r\n                    <div class=\"list-group-item\">GPA:\r\n                        <span class=\"pull-right\">{{totaltrans.GPA | number:3}}<\/span>\r\n                    <\/div>\r\n                <\/div>               \r\n            <\/div>\r\n            <div>\r\n                <div class=\"list-group-item group-heading\">Cumulative:<\/div>\r\n                <div class=\"data-block\"  style='margin-bottom: 10px;'>\r\n                    <div class=\"list-group-item\">Attempted Hrs:\r\n                        <span class=\"pull-right\">{{cumulative.ATTEMPT_HOURS | number:3}}<\/span>\r\n                    <\/div>\r\n                    <div class=\"list-group-item\">Passed Hrs:\r\n                        <span class=\"pull-right\">{{cumulative.PASSED_HOURS | number:3}}<\/span>\r\n                    <\/div>\r\n                    <div class=\"list-group-item\">Earned Hrs:\r\n                        <span class=\"pull-right\">{{cumulative.EARNED_HOURS | number:3}}<\/span>\r\n                    <\/div>\r\n                    <div class=\"list-group-item\">GPA Hrs:\r\n                        <span class=\"pull-right\">{{cumulative.GPA_HOURS | number:3}}<\/span>\r\n                    <\/div>\r\n                    <div class=\"list-group-item\">Quality Pts:\r\n                        <span class=\"pull-right\">{{cumulative.QUALITY_POINTS | number:3}}<\/span>\r\n                    <\/div>\r\n                    <div class=\"list-group-item\">GPA:\r\n                        <span class=\"pull-right\">{{cumulative.GPA | number:3}}<\/span>\r\n                    <\/div> \r\n                <\/div>               \r\n            <\/div>\r\n        <\/div>\r\n    <\/div>\r\n\r\n<\/div>",
          "listendpoint": "/bannertranscripts/levl=",
          "pageprocessor": "function pageprocessorAccTranscript(pagedef, $scope, $routeParams, $compile, $http, $rootScope, $sce, $window, $location) {\r\n  var data1 = $compile($(pagedef.datatemplate))($scope);\r\n  $(\"#appContent\").append(data1);\r\n\r\n\r\n  $rootScope.getAPI(pagedef.dropdownendpoint, function(data) {\r\n    if (data.blockTranscriptsGrades) {\r\n      if (data.blockTranscriptsGrades.length > 0) {\r\n        if (data.blockTranscriptsGrades[0].BLOCKTRANSCRIPTS == 'Y' || data.blockTranscriptsGrades[0].BLOCKGRADES == 'Y') {\r\n          if (window.device) {\r\n            var doNothing = function() {\r\n              $rootScope.$apply(function() {\r\n                $location.path(\"/home\");\r\n              });\r\n            };\r\n            navigator.notification.alert(\"Your transcript is not available due to holds on your record.\", doNothing, 'Alert', 'Ok');\r\n          } else {\r\n            apprise(\"Your transcript is not available due to holds on your record.\", {\r\n              'verify': false,\r\n              'textYes': \"Ok\"\r\n            }, function(r) {\r\n              $rootScope.$apply(function() {\r\n                $location.path(\"/home\");\r\n              });\r\n            });\r\n          }\r\n        } else {\r\n          $scope.dropdown = data;\r\n          if ($scope.dropdown.transcripttypedropdown.length > 0) {\r\n            $scope.creditselectedvalue = $scope.dropdown.transcripttypedropdown[0].TRANSCRIPT_CODE;\r\n            $('#credittype').blur();\r\n          }\r\n          $scope.$apply();\r\n\r\n        }\r\n      } else {\r\n        $scope.dropdown = data;\r\n        if ($scope.dropdown.transcripttypedropdown.length > 0) {\r\n          $scope.creditselectedvalue = $scope.dropdown.transcripttypedropdown[0].TRANSCRIPT_CODE;\r\n          $('#credittype').blur();\r\n        }\r\n        $scope.$apply();\r\n      }\r\n    } else {\r\n      $scope.dropdown = data;\r\n      if ($scope.dropdown.transcripttypedropdown.length > 0) {\r\n        $scope.creditselectedvalue = $scope.dropdown.transcripttypedropdown[0].TRANSCRIPT_CODE;\r\n        $('#credittype').blur();\r\n      }\r\n      $scope.$apply();\r\n    }\r\n\r\n  });\r\n\r\n  $scope.dropdownselect = function(selectedvalue) {\r\n\r\n    $rootScope.getAPI(pagedef.listendpoint + $scope.selectedvalue, function(data) {\r\n      $scope.listdata = data;\r\n      $scope.creditselect($scope.creditselectedvalue);\r\n      $('#level').blur();\r\n    });\r\n  }\r\n  $scope.creditselect = function(selectedvalue) {\r\n    $scope.transfer = null;\r\n    $scope.institution = null;\r\n    $scope.transcripts = null;\r\n    // if ($scope.creditselectedvalue == \"transfer\") {\r\n    var transfer = {\r\n      attempted: 0,\r\n      passed: 0,\r\n      earned: 0,\r\n      gpa: 0,\r\n      credit: 0\r\n    };\r\n    transfer.attempted = angular.isUndefined($scope.listdata.transfer_data_total[0][0].ATTEMPTED_HOURS) ? 0 : $scope.listdata.transfer_data_total[0][0].ATTEMPTED_HOURS;\r\n    transfer.passed = angular.isUndefined($scope.listdata.transfer_data_total[0][0].PASSED_HOURS) ? 0 : $scope.listdata.transfer_data_total[0][0].PASSED_HOURS;\r\n    transfer.earned = angular.isUndefined($scope.listdata.transfer_data_total[0][0].EARNED_HOURS) ? 0 : $scope.listdata.transfer_data_total[0][0].EARNED_HOURS;\r\n    transfer.gpa = angular.isUndefined($scope.listdata.transfer_data_total[0][0].GPA_HOURS) ? 0 : $scope.listdata.transfer_data_total[0][0].GPA_HOURS;\r\n    transfer.credit = angular.isUndefined($scope.listdata.transfer_data_total[0][0].QUALITY_POINTS) ? 0 : $scope.listdata.transfer_data_total[0][0].QUALITY_POINTS;\r\n    $scope.transfer = transfer;\r\n    // } else if ($scope.creditselectedvalue == \"institution\") {\r\n    $scope.institution = \"data\";\r\n    var totalinst = {\r\n      ah: 0,\r\n      ph: 0,\r\n      eh: 0,\r\n      gpah: 0,\r\n      qp: 0\r\n    };\r\n    angular.forEach($scope.listdata.institutioncredits, function(value, key) {\r\n      this.ah += parseFloat(value.ATTEMPTED_HOURS);\r\n      this.ph += parseFloat(value.SHRTCKG_PASS_HOURS);\r\n      this.eh += parseFloat(value.SHRTCKG_EARN_HOURS);\r\n      this.gpah += parseFloat(value.SHRTCKG_GPA_HOURS);\r\n      this.qp += parseFloat(value.SHRTCKG_QUAL_PTS);\r\n    }, totalinst);\r\n    $scope.insttotal = totalinst;\r\n\r\n    // } else if ($scope.creditselectedvalue == \"transcripts\") {\r\n    $scope.transcripts = \"data\";\r\n    angular.forEach($scope.listdata.transcripttotal, function(value, key) {\r\n      if (value.TRANSCRIPT_TYPE == \"I\") {\r\n        $scope.totalinst = value;\r\n      } else if (value.TRANSCRIPT_TYPE == \"T\") {\r\n        $scope.totaltrans = value;\r\n      } else if (value.TRANSCRIPT_TYPE == \"Z\") {\r\n        $scope.cumulative = value;\r\n      }\r\n    });\r\n    // }\r\n\r\n  }\r\n}"
        }
      ]
    },
    {
      "id": 45807,
      "name": "RegStatus",
      "displayname": "Registration Status",
      "logo": "CCTC/RegStatus.png",
      "logourl": "CCTC/RegStatus.png",
      "description": "Registration Status",
      "appFeatureType": "Banner",
      "roles": "STUDENT",
      "showInDock": false,
      "showInHome": true,
      "networkrequired": true,
      "analytics": true,
      "pages": 
      [
        {
          "pageid": "RegStatus",
          "pageTemplate": "<div><\/div>",
          "dropdownendpoint": "/bannertermsForClassLookup",
          "listendpoint": "/bannerregistrationstatus/termCode=",
          "pageprocessor": "function pageprocessorRegStatus(pagedef, $scope, $routeParams, $compile, $http, $rootScope, $sce, $window, $location) {\r\n  var data1 = $compile($(pagedef.datatemplate))($scope);\r\n  $(\"#appContent\").append(data1);\r\n\r\n  $rootScope.getAPI( pagedef.dropdownendpoint, function(data) {\r\n    $scope.dropdown = data;\r\n  });\r\n  $scope.dropdownselect = function(selectedvalue) {\r\n    $('#termselect').blur();\r\n\r\n    $rootScope.getAPI( pagedef.listendpoint + $scope.selectedvalue, function(data) {\r\n      $scope.listdata = data;\r\n    });\r\n  }\r\n}",
          "datatemplate": "<div class=\"page-container\">\r\n  <div class=\"list-group-item key-block\">\r\n    <span class=\"pull-left\">\r\n            <i class=\"fa fa-info-circle fa-2x\"><\/i>\r\n        <\/span>\r\n    <div>Select a term from the below term dropdown to show your registration status information.<\/div>\r\n    <br/>\r\n    <select id=\"termsel\" ng-model=\"selectedvalue\" class=\"form-control\" ng-change=\"dropdownselect(this.value);\">\r\n      <option value=\"\">-- Select a Term --<\/option>\r\n      <option ng-selected=\"selectedvalue == term.TERM_CODE\" value=\"{{term.TERM_CODE}}\" ng-repeat=\"term in dropdown.termdropdown\">{{term.TERM_DESC}}<\/option>\r\n    <\/select>\r\n    <br/>\r\n  <\/div>\r\n  <div class=\"list-group-item main-heading\">Registration\r\n    <i class=\"pull-right fa fa-times danger\">&nbsp;<span>Not Good<\/span><\/i>\r\n    <i class=\"pull-right fa fa-check success\">&nbsp;<span>Good<\/span><\/i>\r\n  <\/div>\r\n  <div class=\"alert alert-warning\" ng-hide=\"listdata\">No information to display.<\/div>\r\n  <div ng-show=\"listdata\">\r\n\r\n    <div class=\"list-group-item key\">Student Status :\r\n      <i class=\"pull-right fa fa-check fa-2x success\" ng-show=\"listdata.STUDENT_STATUS == 'Permit'\"><\/i>\r\n      <i class=\"pull-right fa fa-times fa-2x danger\" ng-show=\"listdata.STUDENT_STATUS != 'Permit'\"><\/i>\r\n\r\n    <\/div>\r\n    <div class=\"list-group-item key\">Academic Standing :\r\n      <i class=\"pull-right fa fa-check fa-2x success\" ng-show=\"listdata.ACADEMIC_STANDING == 'Permit'\"><\/i>\r\n      <i class=\"pull-right fa fa-times fa-2x danger\" ng-show=\"listdata.ACADEMIC_STANDING != 'Permit'\"><\/i>\r\n    <\/div>\r\n    <div class=\"list-group-item key\">Holds :\r\n      <i class=\"pull-right fa fa-check fa-2x success\" ng-show=\"listdata.HOLDS == 'Permit'\"><\/i>\r\n      <i class=\"pull-right fa fa-times fa-2x danger\" ng-show=\"listdata.HOLDS != 'Permit'\"><\/i>\r\n    <\/div>\r\n  <\/div>\r\n  <div class=\"list-group-item group-heading\" ng-show=\"listdata.CREDIT_INFORMATION.length > 0\">Credit Information<\/div>\r\n  <div ng-repeat=\"cinfo in listdata.CREDIT_INFORMATION\">\r\n    <div class=\"list-group-item group-heading\">{{cinfo[0].CREDIT_TYPE}}<\/div>\r\n    <div class=\"list-group-item key\">Level : <span class=\"pull-right val\">{{cinfo[0].LEVEL_DESC}}<\/span><\/div>\r\n    <div class=\"list-group-item key\">Hours : <span class=\"pull-right val\">{{cinfo[0].HOURS}}<\/span><\/div>\r\n  <\/div>\r\n\r\n<\/div>"
        }
      ]
    },
    {
      "id": 45792,
      "name": "ACCSummary",
      "displayname": "Account Summary",
      "logo": "CCTC/ACCSummary.png",
      "logourl": "CCTC/ACCSummary.png",
      "description": "Account Summary",
      "appFeatureType": "Banner",
      "roles": "STUDENT",
      "showInDock": false,
      "showInHome": true,
      "networkrequired": true,
      "analytics": true,
      "pages": 
      [
        {
          "pageid": "ACCSummary",
          "pageTemplate": "<div><\/div>",
          "listendpoint": "/banneraccountsummary/termCode=",
          "datatemplate": "<div class=\"page-container\">\r\n    <div class=\"list-group-item key-block\">\r\n        <span class=\"pull-left\">\r\n            <i class=\"fa fa-info-circle fa-2x\"><\/i>\r\n        <\/span>\r\n        <div>Select a term from the below term dropdown to show your account summary information.<\/div><br/>\r\n        <select id=\"termselect\" ng-model=\"selectedvalue\" class=\"form-control\" ng-change=\"dropdownselect(this.value);\">\r\n            <option value=\"\">-- Select a Term --<\/option>\r\n            <option ng-selected=\"selterm == term.TERM_CODE\" value=\"{{term.TERM_CODE}}\" ng-repeat=\"term in dropdown.termswithaccountsummary\">{{term.DESCRIPTION}}<\/option>\r\n        <\/select>             \r\n    <\/div>\r\n    <div class=\"list-group-item main-heading\">Account Balance:<strong><span class=\"pull-right\">{{listdata.accountbalance[0].ACCOUNT_BALANCE}}<\/span><\/strong><\/div>\r\n    <div class=\"alert alert-warning\" ng-show=\"!showsummary\">No account summary information found.<\/div>\r\n    <div class=\"list-group-item group-heading\" ng-show=\"showsummary\">Details:<\/div>\r\n    <div ng-repeat=\"sum in listdata.summary\">\r\n        <div class=\"list-group-item group-heading\" >{{sum.DESCRIPTION}}, {{sum.DETAIL_CODE}}<\/div>\r\n        <div class=\"list-group-item key\">Charge: <span class=\"pull-right val\">{{sum.CHARGE}}<\/span><\/div>\r\n        <div class=\"list-group-item key\">Payment: <span class=\"pull-right val\">{{sum.PAYMENT}}<\/span><\/div>\r\n        <div class=\"list-group-item key\">Balance: <span class=\"pull-right val\">{{sum.BALANCE}}<\/span><\/div>\r\n    <\/div>\r\n    <div ng-show=\"listdata.creditsandpayments.length > 0\" style='margin-bottom:17px;'>\r\n        <div class=\"list-group-item group-heading\">Term Totals:<\/div>\r\n        <div class=\"list-group-item key\">Charges:<span class=\"pull-right val\">{{listdata.creditsandpayments[0].CHARGES}}<\/span><\/div>\r\n        <div class=\"list-group-item key\">Credits & Payments:<span class=\"pull-right val\">{{listdata.creditsandpayments[0].CREDITS_AND_PAYMENTS}}<\/span><\/div>\r\n        <div class=\"list-group-item key\">Term Balance:<span class=\"pull-right val\">{{listdata.creditsandpayments[0].TERM_BALANCE}}<\/span><\/div>\r\n    <\/div>\r\n<\/div>",
          "pageprocessor": "function pageprocessorACCSummary(pagedef, $scope, $routeParams, $compile, $http, $rootScope, $sce, $window, $location) {\r\n  var data1 = $compile($(pagedef.datatemplate))($scope);\r\n  $(\"#appContent\").append(data1);\r\n  $scope.listdata = [];\r\n  $scope.showsummary = false;\r\n\r\n\r\n  $rootScope.getAPI( pagedef.dropdownendpoint, function(data) {\r\n    $scope.dropdown = data;\r\n  });\r\n\r\n  $scope.dropdownselect = function(selectedvalue) {\r\n    $scope.listdata = null;\r\n    $('#termselect').blur();\r\n    if (!$scope.selectedvalue) {\r\n      $scope.showsummary = false;\r\n      return;\r\n    }\r\n\r\n    $rootScope.getAPI( pagedef.listendpoint + $scope.selectedvalue, function(data) {\r\n      $scope.listdata = data;\r\n      if ($scope.listdata && $scope.listdata.summary.length > 0) {\r\n        $scope.showsummary = true;\r\n      }\r\n      console.log($scope.listdata.accountbalance[0].ACCOUNT_BALANCE);\r\n    });\r\n  }\r\n}",
          "dropdownendpoint": "/bannertermswithaccountsummary"
        }
      ]
    },
    {
      "id": 45783,
      "name": "HoldsB1",
      "displayname": "Holds",
      "logo": "CCTC/HoldsB1.png",
      "logourl": "CCTC/HoldsB1.png",
      "description": "Holds",
      "appFeatureType": "Banner",
      "roles": "STUDENT",
      "showInDock": false,
      "showInHome": true,
      "networkrequired": true,
      "analytics": true,
      "pages": 
      [
        {
          "pageid": "HoldsB1",
          "pageTemplate": "<div><\/div>",
          "pageprocessor": "function pageprocessorHoldsB1(pagedef, $scope, $routeParams, $compile, $http, $rootScope, $sce, $window, $location) {\r\n    var data1 = $compile($(pagedef.datatemplate))($scope);\r\n    $(\"#appContent\").append(data1);\r\n\tconsole.log($routeParams);\r\n\r\n    $rootScope.getAPI(pagedef.endpoint, function(data) {\r\n            $scope.hold = data.hold;        \r\n    });\r\n}",
          "datatemplate": "<div class=\"page-container\">\r\n  <div class=\"list-group-item main-heading\">Hold Information:<\/div>\r\n  <div class=\"alert alert-warning\" ng-show=\"hold.length==0\">No holds exist on your record.<\/div>\r\n  <div ng-repeat=\"hld in hold\">\r\n    <div class=\"list-group-item group-heading\">{{hld.HOLD_DESCRIPTION}}<\/div>\r\n    <div class=\"list-group-item key\">\r\n      Hold Initiated By:<span class=\"pull-right val\">{{hld.USERNAME}}<\/span>\r\n    <\/div>\r\n    <div class=\"list-group-item key\">\r\n      Start Date :<span class=\"pull-right val\">{{hld.HOLD_START_DATE}}<\/span>\r\n    <\/div>\r\n    <div class=\"list-group-item key\">\r\n      End Date :<span class=\"pull-right val\">{{hld.HOLD_END_DATE}}<\/span>\r\n    <\/div>\r\n    <div class=\"list-group-item key\">\r\n      Reason Code:<span class=\"pull-right val\">{{hld.REASON}}<\/span>\r\n    <\/div>\r\n    <div class=\"list-group-item key\">\r\n      Amount Owed :\r\n      <span class=\"pull-right val\" >{{hld.AMOUNT_OWED | currency:\"$\":2}}<\/span>\r\n    <\/div>\r\n  <\/div>\r\n<\/div>",
          "endpoint": "/bannerholds"
        }
      ]
    },
    {
      "id": 45801,
      "name": "AddUpdateB1",
      "displayname": "Address Update",
      "logo": "CCTC/AddUpdateB1.png",
      "logourl": "CCTC/AddUpdateB1.png",
      "description": "Address Update",
      "appFeatureType": "Banner",
      "roles": "STUDENT,FACULTY,EMPLOYEE",
      "showInDock": false,
      "showInHome": true,
      "networkrequired": true,
      "analytics": true,
      "pages": 
      [
        {
          "pageid": "AddUpdateB1Details",
          "pageTemplate": "<div><\/div>",
          "pageprocessor": "function pageprocessorAddUpdateB1Details(pagedef, $scope, $routeParams, $compile, $http, $rootScope, $sce, $window, $location) {\r\n//alert(JSON.stringify($rootScope.userroles));\r\n  var data1 = $compile($(pagedef.datatemplate))($scope);\r\n  $(\"#appContent\").append(data1);\r\n  var curDate = new Date();\r\n  var months = [\"JAN\", \"FEB\", \"MAR\", \"APR\", \"MAY\", \"JUN\", \"JUL\", \"AUG\", \"SEP\", \"OCT\", \"NOV\", \"DEC\"];\r\n  var formattedCurDate = (curDate.getDate() < 10 ? '0' + curDate.getDate() : '' + curDate.getDate()) + \"-\" + months[curDate.getMonth()] + \"-\" + curDate.getFullYear();\r\n\r\n  /*$(\".datepicker\").pickadate({\r\n      format: \"dd-mmm-yyyy\",\r\n      formatSubmit: \"yyyy/mm/dd\",\r\n      editable: true,\r\n      onSet: function (context) {\r\n          $scope.address.FROM_DATE = $(\"#fromDate\").val();\r\n          $scope.address.TO_DATE = $(\"#toDate\").val();\r\n      }\r\n  });*/\r\n  $scope.dropdownselect = function() {\r\n    var selectedAddrType = $scope.address.ADDRESS_TYPE_CODE;\r\n    if (selectedAddrType == \"\" || $scope.add == false) {\r\n      return;\r\n    }\r\n    var found = false;\r\n    $.each($rootScope.addresses.addresses, function(i, val) {\r\n      if (val.ADDRESS_TYPE_CODE == selectedAddrType) {\r\n        found = true;\r\n      }\r\n    });\r\n\r\n    if (found) {\r\n      $scope.address.ADDRESS_TYPE_CODE = \"\";\r\n      $scope.alert(\"An address exists for this type. Please select a different address type or go back and edit the existing one.\", \"Address Exists\");\r\n    }\r\n  }\r\n  $scope.addAdditional = function() {\r\n    $scope.address.additionalphones.push({\r\n      \"PHONE_SEQ\": \"\",\r\n      \"PHONE_CODE\": \"\",\r\n      \"COUNTRY_CODE\": \"\",\r\n      \"AREA_CODE\": \"\",\r\n      \"PHONE_NUMBER\": \"\",\r\n      \"EXTENSION\": \"\",\r\n      \"INTERNATIONAL_ACCESS\": \"\",\r\n      \"UNLISTED_IND\": \"\",\r\n      \"visible\": true\r\n    });\r\n  }\r\n  var index = $routeParams.index;\r\n  var cindex = $routeParams.cindex;\r\n  if (cindex) {\r\n    $scope.title = \"Edit Contact Number\";\r\n    $scope.add = false;\r\n    $scope.address = $rootScope.addresses.addresses[$routeParams.index];\r\n    if (cindex != -1) {\r\n      $scope.address.additionalphones[cindex].visible = true;\r\n    } else {\r\n      $scope.addAdditional();\r\n    }\r\n\r\n  } else if (index == -1) {\r\n\r\n    $scope.title = \"Add New Address\";\r\n    $scope.add = true;\r\n    $scope.address = {\r\n      \"ADDRESS_TYPE_CODE\": \"\",\r\n      \"HOUSE_NUMBER\": \"\",\r\n      \"STREET_LINE1\": \"\",\r\n      \"STREET_LINE2\": \"\",\r\n      \"STREET_LINE3\": \"\",\r\n      \"STREET_LINE4\": \"\",\r\n      \"CITY\": \"\",\r\n      \"STATE_CODE\": \"\",\r\n      \"ZIP\": \"\",\r\n      \"COUNTY_CODE\": null,\r\n      \"NATION_CODE\": \"\",\r\n      \"FROM_DATE\": formattedCurDate,\r\n      \"TO_DATE\": \"\",\r\n      primaryphone: {\r\n        \"COUNTRY_CODE\": \"\",\r\n        \"AREA_CODE\": \"\",\r\n        \"PHONE_NUMBER\": \"\",\r\n        \"EXTENSION\": \"\",\r\n        \"INTERNATIONAL_ACCESS\": \"\",\r\n        \"UNLISTED_IND\": \"\"\r\n      },\r\n      additionalphones: []\r\n    }\r\n\r\n  } else {\r\n    $scope.title = \"Edit Address\";\r\n    $scope.add = true;\r\n    $scope.editaddress = true;\r\n    $scope.address = $rootScope.addresses.addresses[$routeParams.index];\r\n    $scope.address.FROM_DATE = formattedCurDate;\r\n    $scope.address.TO_DATE = \"\";\r\n    angular.forEach($scope.address.additionalphones, function(value, key) {\r\n      value.visible = true;\r\n    });\r\n  }\r\n  $scope.alert = function(message, title) {\r\n    if (window.device) {\r\n      navigator.notification.alert(message, null, title, null);\r\n    } else {\r\n      apprise(message, {\r\n        'verify': false,\r\n        'textYes': \"Ok\"\r\n      }, function(r) {});\r\n    }\r\n  }\r\n\r\n  $scope.resetContact = function() {\r\n    $rootScope.$apply(function() {\r\n      $location.path(\"/app/AddUpdateB1/AddUpdateB1\");\r\n    });\r\n  }\r\n\r\n  $scope.validateAddress = function() {\r\n    //Validate city\r\n    var city = $scope.address.CITY == null ? \"\" : $scope.address.CITY;\r\n    /*if (!(city.search(/[^a-z. A-Z. ]+/) === -1)) {\r\n        $scope.alert(\"Only alphabets and periods are allowed in City\", \"Address\");\r\n        return false;\r\n    }*/\r\n    if (city == \"\" || city.trim() == \"\") {\r\n      $scope.alert(\"Please enter City\", \"Address\");\r\n      return false;\r\n    }\r\n    if ($scope.address.STREET_LINE1 == \"\" || $scope.address.STREET_LINE1 == null) {\r\n      $scope.alert(\"Please enter Address line 1\", \"Address\");\r\n      return false;\r\n    }\r\n    var zip = $scope.address.ZIP == null ? \"\" : $scope.address.ZIP.trim();\r\n    if ($scope.address.NATION_CODE == \"\" && zip == \"\" && $scope.address.STATE_CODE == \"\") {\r\n      $scope.alert(\"State and Zip or Nation is required.\", \"Address\");\r\n      return false;\r\n    }\r\n    if (zip == \"\" && $scope.address.STATE_CODE != \"\") {\r\n      $scope.alert(\"State and Zip or Nation is required.\", \"Address\");\r\n      return false;\r\n    }\r\n    if ($scope.address.NATION_CODE == \"zz\" && zip == \"\" && $scope.address.STATE_CODE == \"\") {\r\n      $scope.alert(\"State and Zip is required.\", \"Address\");\r\n      return false;\r\n    }\r\n    if ($scope.address.primaryphone) {\r\n      if ($scope.address.primaryphone.PHONE_NUMBER == '' || $scope.address.primaryphone.PHONE_NUMBER == null) {\r\n        $scope.alert(\"Phone number is required.\", \"Address\");\r\n        return false;\r\n      }\r\n    }\r\n    var haveError = false;\r\n    angular.forEach($scope.address.additionalphones, function(value, key) {\r\n      if (value.PHONE_CODE == '' || value.PHONE_CODE == null) {\r\n        haveError = true;\r\n        $scope.alert(\"Telephone Type is required.\", \"Address\");\r\n        return false;\r\n      } else if (value.PHONE_NUMBER == '' || value.PHONE_NUMBER == null) {\r\n        haveError = true;\r\n        $scope.alert(\"Telephone Number is required.\", \"Address\");\r\n        return false;\r\n      }\r\n    });\r\n    if (haveError) {\r\n      return false;\r\n    }\r\n\r\n    return true\r\n  }\r\n\r\n\r\n  $scope.addAddress = function() {\r\n    if ($scope.validateAddress() == false) {\r\n      return;\r\n    }\r\n    var postdata = \"\";\r\n    if (!$scope.add || $scope.editaddress == true) {\r\n      postdata += \"seqno=\" + $scope.address.ADDRESS_SEQ + \"&\";\r\n    }\r\n    postdata += \"atypcode=\" + $scope.address.ADDRESS_TYPE_CODE + \"&\";\r\n    postdata += \"fromdate=\" + ($scope.address.FROM_DATE == null ? \"\" : $scope.address.FROM_DATE) + \"&\";\r\n    postdata += \"todate=\" + ($scope.address.TO_DATE == null ? \"\" : $scope.address.TO_DATE) + \"&\";\r\n    postdata += \"housenumber=\" + ($scope.address.HOUSE_NUMBER == null ? \"\" : $scope.address.HOUSE_NUMBER) + \"&\";\r\n    postdata += \"streetline1=\" + ($scope.address.STREET_LINE1 == null ? \"\" : $scope.address.STREET_LINE1) + \"&\";\r\n    postdata += \"streetline2=\" + ($scope.address.STREET_LINE2 == null ? \"\" : $scope.address.STREET_LINE2) + \"&\";\r\n    postdata += \"streetline3=\" + ($scope.address.STREET_LINE3 == null ? \"\" : $scope.address.STREET_LINE3) + \"&\";\r\n    postdata += \"streetline4=\" + ($scope.address.STREET_LINE4 == null ? \"\" : $scope.address.STREET_LINE4) + \"&\";\r\n    postdata += \"city=\" + ($scope.address.CITY == null ? \"\" : $scope.address.CITY) + \"&\";\r\n    postdata += \"statecode=\" + ($scope.address.STATE_CODE == null ? \"\" : $scope.address.STATE_CODE) + \"&\";\r\n    postdata += \"countycode=\" + ($scope.address.COUNTY_CODE == null ? \"\" : $scope.address.COUNTY_CODE) + \"&\";\r\n    postdata += \"nationcode=\" + ($scope.address.NATION_CODE == null ? \"\" : $scope.address.NATION_CODE) + \"&\";\r\n    postdata += \"zip=\" + ($scope.address.ZIP == null ? \"\" : $scope.address.ZIP) + \"&\";\r\n    if ($scope.address.primaryphone) {\r\n      postdata += \"phoneareacode=\" + ($scope.address.primaryphone.AREA_CODE == null ? \"\" : $scope.address.primaryphone.AREA_CODE) + \"&\";\r\n      postdata += \"phonenumber=\" + ($scope.address.primaryphone.PHONE_NUMBER == null ? \"\" : $scope.address.primaryphone.PHONE_NUMBER) + \"&\";\r\n      postdata += \"phoneextn=\" + ($scope.address.primaryphone.EXTENSION == null ? \"\" : $scope.address.primaryphone.EXTENSION) + \"&\";\r\n      postdata += \"phonecountrycode=\" + ($scope.address.primaryphone.COUNTRY_CODE == null ? \"\" : $scope.address.primaryphone.COUNTRY_CODE) + \"&\";\r\n      postdata += \"intlaccess=\" + ($scope.address.primaryphone.INTERNATIONAL_ACCESS == null ? \"\" : $scope.address.primaryphone.INTERNATIONAL_ACCESS) + \"&\";\r\n      postdata += \"unlistedind=\" + ($scope.address.primaryphone.UNLISTED_IND == null ? \"\" : $scope.address.primaryphone.UNLISTED_IND) + \"&\";\r\n    } else {\r\n      postdata += \"phoneareacode=\" + \"\" + \"&\";\r\n      postdata += \"phonenumber=\" + \"\" + \"&\";\r\n      postdata += \"phoneextn=\" + \"\" + \"&\";\r\n      postdata += \"phonecountrycode=\" + \"\" + \"&\";\r\n      postdata += \"intlaccess=\" + \"\" + \"&\";\r\n      postdata += \"unlistedind=\" + \"\" + \"&\";\r\n    }\r\n\r\n    var addlseqnos = \"\";\r\n    var addltelecodes = \"\";\r\n    var addlcountrycodes = \"\";\r\n    var addlareacodes = \"\";\r\n    var addlphonenumbers = \"\";\r\n    var addlphoneextns = \"\";\r\n    var addlintlaccess = \"\";\r\n    var addlunlistedinds = \"\";\r\n    var addldelinds = \"\";\r\n\r\n    angular.forEach($scope.address.additionalphones, function(value, key) {\r\n      if (key == 0) {\r\n        addlseqnos += (value.PHONE_SEQ == null ? \"\" : value.PHONE_SEQ);\r\n        addltelecodes += (value.PHONE_CODE == null ? \"\" : value.PHONE_CODE);\r\n        addlcountrycodes += (value.COUNTRY_CODE == null ? \"\" : value.COUNTRY_CODE);\r\n        addlareacodes += (value.AREA_CODE == null ? \"\" : value.AREA_CODE);\r\n        addlphonenumbers += (value.PHONE_NUMBER == null ? \"\" : value.PHONE_NUMBER);\r\n        addlphoneextns += (value.EXTENSION == null ? \"\" : value.EXTENSION);\r\n        addlintlaccess += (value.INTERNATIONAL_ACCESS == null ? \"\" : value.INTERNATIONAL_ACCESS);\r\n        addlunlistedinds += (value.UNLISTED_IND == null ? \"\" : value.UNLISTED_IND);\r\n        addldelinds += \"\";\r\n      } else {\r\n        addlseqnos += \",\" + (value.PHONE_SEQ == null ? \"\" : value.PHONE_SEQ);\r\n        addltelecodes += \",\" + (value.PHONE_CODE == null ? \"\" : value.PHONE_CODE);\r\n        addlcountrycodes += \",\" + (value.COUNTRY_CODE == null ? \"\" : value.COUNTRY_CODE);\r\n        addlareacodes += \",\" + (value.AREA_CODE == null ? \"\" : value.AREA_CODE);\r\n        addlphonenumbers += \",\" + (value.PHONE_NUMBER == null ? \"\" : value.PHONE_NUMBER);\r\n        addlphoneextns += \",\" + (value.EXTENSION == null ? \"\" : value.EXTENSION);\r\n        addlintlaccess += \",\" + (value.INTERNATIONAL_ACCESS == null ? \"\" : value.INTERNATIONAL_ACCESS);\r\n        addlunlistedinds += \",\" + (value.UNLISTED_IND == null ? \"\" : value.UNLISTED_IND);\r\n        addldelinds += \",\";\r\n      }\r\n\r\n    });\r\n    if (!$scope.add) {\r\n      postdata += \"addlseqnos=\" + addlseqnos + \"&\";\r\n    }\r\n\r\n    postdata += \"addltelecodes=\" + addltelecodes + \"&\";\r\n    postdata += \"addlcountrycodes=\" + addlcountrycodes + \"&\";\r\n    postdata += \"addlareacodes=\" + addlareacodes + \"&\";\r\n    postdata += \"addlphonenumbers=\" + addlphonenumbers + \"&\";\r\n    postdata += \"addlphoneextns=\" + addlphoneextns + \"&\";\r\n    postdata += \"addlintlaccess=\" + addlintlaccess + \"&\";\r\n    postdata += \"addlunlistedinds=\" + addlunlistedinds + \"&\";\r\n    postdata += \"addldelinds=\" + addldelinds;\r\n\r\n\r\n    /*Email sending - start*/\r\n\r\n    $rootScope.getAPI(\"/bannergetuserpidm\", function(data) {\r\n      var spridenFirstName = data.getuserpidm[0].SPRIDEN_FIRST_NAME;\r\n      var spridenLastName = data.getuserpidm[0].SPRIDEN_LAST_NAME;\r\n      var spridenID = data.getuserpidm[0].SPRIDEN_ID;\r\n      var monthShort = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'];\r\n      var now = new Date();\r\n\r\n      var updatingDate = now.getDate() + \"-\" + monthShort[now.getMonth()] + \"-\" + now.getFullYear();\r\n\r\n      var emailBody = \"<div>Date: \" + updatingDate + \"<div><br>\";\r\n\r\n      emailBody += \"<div>Name: \" + spridenFirstName + \" \" + spridenLastName + \"(\" + spridenID + \")<div><br>\";\r\n      emailBody += \"<div>Address: \" + $scope.address.HOUSE_NUMBER + \" \" + $scope.address.STREET_LINE1 + \" \" + $scope.address.STREET_LINE2 + \" \" + $scope.address.STREET_LINE3 + \" \" + $scope.address.STREET_LINE4 + \"<\/div>\";\r\n      emailBody += \"<div>\" + $scope.address.CITY + \"<\/div>\";\r\n      emailBody += \"<div>\" + $scope.address.STATE_CODE + \"<\/div>\";\r\n      emailBody += \"<div>\" + $scope.address.ZIP + \"<\/div>\";\r\n      emailBody += \"<div>Phone: \" + $scope.address.primaryphone.AREA_CODE + \"-\" + $scope.address.primaryphone.PHONE_NUMBER + \"<\/div><br>\";\r\n      emailBody = emailBody.replace(/null/g, '');\r\n      //var to = \"records@cctech.edu\";\r\n      var emailData = {\r\n        'to': 'records@cctech.edu',\r\n        'subject': 'Address Change Request from ' + spridenFirstName + ' ' + spridenLastName,\r\n        'body': emailBody,\r\n        'from': 'donotreply@unifyed.com'\r\n      };\r\n      var xhr = $.ajax({\r\n        url: \"https://kryptos.kryptosmobile.com/gateway/Demo/kryptosemailsender\",\r\n        contentType: 'application/json',\r\n        type: \"POST\",\r\n        headers: {\r\n          'licenseKey': 'UjppQjdjVjpTOjE0MTYyMDM3OTE4Mjc6VTpha0BjYW1wdXNlYWkub3JnOlQ6MzIwOlA6MTY3'\r\n        },\r\n        data: JSON.stringify(emailData),\r\n        success: function(data) {\r\n\r\n          if (data.response == \"Successful\") {\r\n            if (window.device) {\r\n              navigator.notification.alert(\"An email has been sent your registrar for verification and manual update\");\r\n              $rootScope.$apply(function() {\r\n                $location.path(\"/app/AddUpdateB1/AddUpdateB1\");\r\n              });\r\n              $scope.showContent = false;\r\n              $.unblockUI();\r\n            } else {\r\n              alert(\"An email has been sent your registrar for verification and manual update\");\r\n              $rootScope.$apply(function() {\r\n                $location.path(\"/app/AddUpdateB1/AddUpdateB1\");\r\n              });\r\n              $scope.showContent = false;\r\n              $.unblockUI();\r\n            }\r\n\r\n          } else {\r\n\r\n            if (window.device) {\r\n              navigator.notification.alert(\"Oops! Unknown error occured. Please try after some time\");\r\n            } else {\r\n              alert(\"Oops! Unknown error occured. Please try after some time\");\r\n            }\r\n          }\r\n        },\r\n        error: function(err) {\r\n\r\n          if (window.device) {\r\n            navigator.notification.alert(\"Oops! Unknown error occured. Please try after some time\");\r\n          } else {\r\n            alert(\"Oops! Unknown error occured. Please try after some time\");\r\n          }\r\n\r\n        }\r\n      });\r\n\r\n    });\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n    /*Email sending - End*/\r\n\r\n\r\n    /*var endpoint =  pagedef.endpoint;\r\n    if (!$scope.add || $scope.editaddress == true) {\r\n      endpoint =  \"/banneraddressupdate\";\r\n    }\r\n\r\n    $rootScope.postAPI(endpoint, postdata, function(data) {\r\n      if (data) {\r\n        apprise(\"Address saved successfully\", {\r\n          'verify': false,\r\n          'textYes': \"Ok\"\r\n        }, function(r) {\r\n          $rootScope.$apply(function() {\r\n            $location.path(\"/app/AddUpdateB1/AddUpdateB1\");\r\n          });\r\n        });\r\n      }\r\n    });*/\r\n  }\r\n}",
          "datatemplate": "<div class=\"1container well-sm\">\r\n    <form>\r\n  <div class=\"panel panel-primary\" style=\"border:none;\">\r\n    <div class=\" panel-heading\" >\r\n                <h3 class=\"panel-title \">\r\n              {{title}}\r\n<\/h3>\r\n            <\/div>\r\n            <ul class=\"list-group\">\r\n                <li class=\"list-group-item\" ng-show=\"add\">\r\n                    <div class=\"form-group\">\r\n                        <label for=\"state\" class=\"control-label\">Address Type<\/label>\r\n                        <div class=\"\">\r\n                            <select ng-disabled=\"editaddress\" ng-model=\"address.ADDRESS_TYPE_CODE\" class=\"form-control\" ng-change=\"dropdownselect(this.value);\">\r\n                                <option value=\"\">Select<\/option>\r\n                                <option ng-selected=\"address.ADDRESS_TYPE_CODE == at.ADDRESS_CODE\" value=\"{{at.ADDRESS_CODE}}\" ng-repeat=\"at in addresstypecodes\">{{at.ADDRESS_DESC}}<\/option>\r\n                            <\/select>\r\n                        <\/div>\r\n                    <\/div>\r\n                <\/li>\r\n\r\n                <li class=\"list-group-item\" ng-show=\"add\">\r\n                    <div class=\"form-group\">\r\n                        <div class=\"row\">\r\n                            <div class=\"col-xs-6\">\r\n                                <label class=\"control-label\">Valid From<\/label>\r\n                            <\/div>\r\n                            <div class=\"col-xs-6\">\r\n                                {{address.FROM_DATE}}\r\n                            <\/div>\r\n\r\n                        <\/div>\r\n                    <\/div>\r\n                <\/li>\r\n                <li class=\"list-group-item\"  ng-show=\"add\">\r\n                    <div class=\"form-group\">\r\n                        <input type=\"text\" class=\"form-control input-sm\" placeholder=\"Street line 1\" name=\"streetLine1\" id=\"streetLine1\" ng-model=\"address.STREET_LINE1\" />\r\n                        <input type=\"text\" class=\"form-control input-sm\" placeholder=\"Street line 2\" name=\"streetLine2\" id=\"streetLine1\" ng-model=\"address.STREET_LINE2\" />\r\n                        <input type=\"text\" class=\"form-control input-sm\" placeholder=\"Street line 3\" name=\"streetLine3\" id=\"streetLine1\" ng-model=\"address.STREET_LINE3\" />\r\n                        <input type=\"text\" class=\"form-control input-sm\" placeholder=\"Street line 4\" name=\"streetLine4\" id=\"streetLine1\" ng-model=\"address.STREET_LINE4\" />\r\n                    <\/div>\r\n                    <div class=\"form-group\">\r\n                        <label for=\"city\" class=\"control-label\">City<\/label>\r\n                        <div class=\"\">\r\n                            <input type=\"text\" class=\"form-control input-sm\" placeholder=\"City\" name=\"city\" id=\"city\" ng-model=\"address.CITY\">\r\n                        <\/div>\r\n                    <\/div>\r\n                          \r\n\r\n                    <div class=\"form-group\">\r\n                        <label for=\"state\" class=\"control-label\">State<\/label>\r\n                        <div class=\"\">\r\n                            <select ng-model=\"address.STATE_CODE\" class=\"form-control\" >\r\n                                <option value=\"\">Select<\/option>\r\n                                <option ng-selected=\"address.STATE_CODE == st.STATE_CODE\" value=\"{{st.STATE_CODE}}\" ng-repeat=\"st in statecodes\">{{st.STATE_DESC}}<\/option>\r\n                            <\/select>\r\n                        <\/div>\r\n                    <\/div>\r\n                    <div class=\"form-group\">\r\n                        <label for=\"zip\" class=\"control-label\">Zip<\/label>\r\n                        <input type=\"text\" class=\"form-control input-sm\" placeholder=\"Zip\" name=\"zip\" id=\"zip\" ng-model=\"address.ZIP\">\r\n                    <\/div>\r\n<!--                     <div class=\"form-group\">\r\n                        <label for=\"county\" class=\"control-label\">County<\/label>\r\n                        <div class=\"\">\r\n                            <select ng-model=\"address.COUNTY_CODE\" class=\"form-control\"  id=\"county\" name=\"county\">\r\n                                <option value=\"\">Select<\/option>\r\n                                <option ng-selected=\"address.COUNTY_CODE == cc.COUNTY_CODE\" value=\"{{cc.COUNTY_CODE}}\" ng-repeat=\"cc in countycodes\">{{cc.COUNTY_DESC}}<\/option>\r\n                            <\/select>\r\n                        <\/div>\r\n                    <\/div> -->\r\n                          \r\n                    <div class=\"form-group\">\r\n                        <label for=\"nation\" class=\"control-label\">Nation<\/label>\r\n                        <div class=\"\">\r\n                            <select ng-model=\"address.NATION_CODE\" class=\"form-control\"  id=\"nation\" name=\"nation\">\r\n                                <option value=\"\">Select<\/option>\r\n                                <option ng-selected=\"address.NATION_CODE == nc.NATION_CODE\" value=\"{{nc.NATION_CODE}}\" ng-repeat=\"nc in nationcodes\">{{nc.NATION_DESC}}<\/option>\r\n                            <\/select>\r\n                        <\/div>\r\n                    <\/div>\r\n\r\n                <\/li>\r\n                <li class=\"list-group-item\" style=\"box-shadow: 0 0 20px #808080;\" ng-show=\"add\">\r\n                    <label for=\"telephone\" class=\"control-label\">Telephone<\/label>\r\n                    <div class=\"form-group row\">\r\n\r\n                        <div class=\"col-xs-2 col-md-2\" style=\"padding: 0px 0px 0px 10px; margin: 0px;\">\r\n                            <input type=\"tel\" class=\"form-control input-sm\" maxlength=\"3\" id=\"country_phone\" placeholder=\"Country\" ng-model=\"address.primaryphone.COUNTRY_CODE \">\r\n                        <\/div>\r\n                        <div class=\"col-xs-2 col-md-2\" style=\"margin: 0px; padding: 0px 0px 0px 2px;\">\r\n                            <input type=\"tel\" class=\"form-control input-sm\" maxlength=\"5\" id=\"area_phone\" placeholder=\"Area\" ng-model=\"address.primaryphone.AREA_CODE\">\r\n                        <\/div>\r\n                        <div class=\"col-xs-5 col-md-5\" style=\"margin: 0px; padding: 0px 0px 0px 2px;\">\r\n                            <input type=\"tel\" class=\"form-control input-sm\" maxlength=\"10\" id=\"phone\" placeholder=\"Phone\" ng-model=\"address.primaryphone.PHONE_NUMBER\">\r\n                        <\/div>\r\n                        <div class=\"col-xs-2 col-md-2\" style=\"margin: 0px; padding: 0px 0px 0px 2px;\">\r\n                            <input type=\"tel\" class=\"form-control input-sm\" maxlength=\"4\" id=\"extension\" placeholder=\"Extn\" ng-model=\"address.primaryphone.EXTENSION\">\r\n                        <\/div>\r\n                    <\/div>\r\n                    <div class=\"form-group\">\r\n                        <label for=\"intnlaccesscode\" class=\"control-label\">International Access Code<\/label>\r\n                        <div class=\"\">\r\n                            <input type=\"text\" class=\"form-control input-sm\" placeholder=\"International Access Code\" name=\"phoneintlaccesscode\" ng-model=\"address.primaryphone.INTERNATIONAL_ACCESS\">\r\n                        <\/div>\r\n                    <\/div>\r\n                <\/li>\r\n                <li class=\"list-group-item\"  ng-repeat=\"additional in address.additionalphones\">\r\n                    <div ng-show=\"additional.visible\">\r\n                        <label for=\"telephone\" class=\"control-label\">Additional:<\/label>\r\n                        <div class=\"well\">\r\n                            <div class=\"form-group\">\r\n                                <label for=\"country\" class=\"control-label\">Telephone Type<\/label>\r\n                                <div class=\"\">\r\n                                    <select ng-model=\"additional.PHONE_CODE\" class=\"form-control\" >\r\n                                        <option value=\"\">Select<\/option>\r\n                                        <option ng-selected=\"additional.PHONE_CODE == ttc.TELE_CODE\" value=\"{{ttc.TELE_CODE}}\" ng-repeat=\"ttc in telephonetypecodes\">{{ttc.TELE_DESC}}<\/option>\r\n                                    <\/select>\r\n                                <\/div>\r\n                            <\/div>\r\n\r\n                            <label for=\"telephone\" class=\"control-label\">Telephone Additional<\/label>\r\n                            <div class=\"form-group row\">\r\n\r\n                                <div class=\"col-xs-2 col-md-2\" style=\"padding: 0px 0px 0px 10px; margin: 0px;\">\r\n                                    <input type=\"tel\" class=\"form-control input-sm\" maxlength=\"3\" id=\"country_phone\" placeholder=\"Country\" ng-model=\"additional.COUNTRY_CODE\">\r\n                                <\/div>\r\n                                <div class=\"col-xs-2 col-md-2\" style=\"margin: 0px; padding: 0px 0px 0px 2px;\">\r\n                                    <input type=\"tel\" class=\"form-control input-sm\" maxlength=\"5\" id=\"area_phone\" placeholder=\"Area\" ng-model=\"additional.AREA_CODE\">\r\n                                <\/div>\r\n                                <div class=\"col-xs-5 col-md-5\" style=\"margin: 0px; padding: 0px 0px 0px 2px;\">\r\n                                    <input type=\"tel\" class=\"form-control input-sm\" maxlength=\"10\" id=\"phone\" placeholder=\"Phone\" ng-model=\"additional.PHONE_NUMBER\">\r\n                                <\/div>\r\n                                <div class=\"col-xs-2 col-md-2\" style=\"margin: 0px; padding: 0px 0px 0px 2px;\">\r\n                                    <input type=\"tel\" class=\"form-control input-sm\" maxlength=\"4\" id=\"extension\" placeholder=\"Extn\" ng-model=\"additional.EXTENSION\">\r\n                                <\/div>\r\n                            <\/div>\r\n                            <div class=\"form-group\">\r\n                                <label for=\"intnlaccesscode\" class=\"control-label\">International Access Code<\/label>\r\n                                <div class=\"\">\r\n                                    <input type=\"text\" class=\"form-control input-sm\" placeholder=\"International Access Code\" name=\"phoneintlaccesscode\" ng-model=\"additional.INTERNATIONAL_ACCESS\">\r\n                                <\/div>\r\n                            <\/div>\r\n\r\n                        <\/div>\r\n                    <\/div>\r\n                <\/li>\r\n                <li class=\"list-group-item\" ng-show=\"add\">\r\n                    <div class=\"btn btn-sm btn-block btn-danger\" ng-click=\"addAdditional()\">Add Additional Contact<\/div>\r\n                <\/li>\r\n                <li class=\"list-group-item\" ng-show=\"add && !editaddress\">\r\n                    <div class=\"row\">\r\n                        <div class=\"col-xs-6\">\r\n                            <div class=\"btn btn-block btn-primary\" ng-click=\"addAddress()\">Save Address<\/div>\r\n                        <\/div>\r\n                        <div class=\"col-xs-6\">\r\n                            <button type=\"reset\" class=\"btn btn-block btn-primary\" >Reset<\/button>\r\n                        <\/div>\r\n                    <\/div>\r\n                <\/li>\r\n                <li class=\"list-group-item\" ng-show=\"!add || editaddress\" >\r\n                    <div class=\"row\">\r\n                        <div class=\"col-xs-12\">\r\n                            <div class=\"btn btn-block btn-primary\" ng-click=\"addAddress()\">Save Address<\/div>\r\n                        <\/div>\r\n                    <\/div>                    \r\n                <\/li>\r\n            <\/ul>\r\n        <\/div>\r\n    <\/form>\r\n<\/div>",
          "endpoint": "/banneraddressinsert"
        },
        {
          "pageid": "AddUpdateB1",
          "pageTemplate": "<div><\/div>",
          "endpoint": "/banneraddresscodes",
          "pageprocessor": "function pageprocessorAddUpdateB1(pagedef, $scope, $routeParams, $compile, $http, $rootScope, $sce, $window, $location) {\r\n  var data1 = $compile($(pagedef.datatemplate))($scope);\r\n  $(\"#appContent\").append(data1);\r\n  $scope.showButton = false;\r\n  $.blockUI();\r\n\r\n  $scope.fetchaddr = function() {\r\n    $rootScope.getAPI( \"/banneraddressfetch\", function(data) {\r\n\r\n      var addresses = {\r\n        addresses: []\r\n      };\r\n      angular.forEach(data.addresses, function(addr, key) {\r\n        var address = addr;\r\n        angular.forEach(data.primaryphones, function(phone, key) {\r\n          if (phone.ADDRESS_SEQ == address.ADDRESS_SEQ && phone.ADDRESS_TYPE_CODE == address.ADDRESS_TYPE_CODE) {\r\n            address.primaryphone = phone;\r\n          }\r\n        });\r\n\r\n        address.additionalphones = [];\r\n        angular.forEach(data.additionalphones, function(addphone, key) {\r\n          if (addphone.ADDRESS_SEQ == address.ADDRESS_SEQ && addphone.ADDRESS_TYPE_CODE == address.ADDRESS_TYPE_CODE) {\r\n            addphone.toggle = false;\r\n            addphone.toggleclass = \"fa-chevron-right\";\r\n            addphone.delindicator = \"\";\r\n            address.additionalphones.push(addphone);\r\n          }\r\n        });\r\n        addresses.addresses.push(address);\r\n\r\n      });\r\n\r\n      $scope.addressdata = data;\r\n      $scope.addresses = addresses;\r\n      $rootScope.addresses = addresses;\r\n      //call the second service\r\n\r\n\r\n    });\r\n    $scope.showButton = true;\r\n    $.unblockUI();\r\n  }\r\n\r\n  $rootScope.getAPI( pagedef.endpoint, function(data) {\r\n    $scope.addresscodes = data;\r\n    $rootScope.telephonetypecodes = data.telephonetypecodes;\r\n    $rootScope.nationcodes = data.nationcodes;\r\n    $rootScope.statecodes = data.statecodes;\r\n    $rootScope.addresstypecodes = data.addresstypecodes\r\n      //$rootScope.countycodes = data.countycodes;\r\n    $scope.fetchaddr();\r\n    $scope.getTelephoneType = function(code) {\r\n      var teletype = \"\";\r\n      angular.forEach($scope.addresscodes.telephonetypecodes, function(value, key) {\r\n        if (value.TELE_CODE == code) {\r\n          teletype = value.TELE_DESC;\r\n        }\r\n      });\r\n      return teletype;\r\n    }\r\n\r\n    $scope.getNation = function(code) {\r\n      var nation = \"\";\r\n      angular.forEach($scope.addresscodes.nationcodes, function(value, key) {\r\n        if (value.NATION_CODE == code) {\r\n          nation = value.NATION_DESC;\r\n        }\r\n      });\r\n      return nation;\r\n    }\r\n    $scope.getState = function(code) {\r\n      var state = \"\";\r\n      angular.forEach($scope.addresscodes.statecodes, function(value, key) {\r\n        if (value.STATE_CODE == code) {\r\n          state = value.STATE_DESC;\r\n        }\r\n      });\r\n      return state;\r\n    }\r\n    $scope.getAddressType = function(code) {\r\n      var rel = \"\";\r\n      angular.forEach($scope.addresscodes.addresstypecodes, function(value, key) {\r\n        if (value.ADDRESS_CODE == code) {\r\n          rel = value.ADDRESS_DESC;\r\n        }\r\n      });\r\n      return rel;\r\n    }\r\n\r\n    $scope.getContactsForAddress = function(addrseq, addrtypecode) {\r\n      var data = [];\r\n      angular.forEach($scope.addressdata.primaryphones, function(value, key) {\r\n        if (value.ADDRESS_SEQ == addrseq && value.ADDRESS_TYPE_CODE == addrtypecode) {\r\n          value.type = 1;\r\n          data.push(value);\r\n        }\r\n      });\r\n      angular.forEach($scope.addressdata.additionalphones, function(value, key) {\r\n        if (value.ADDRESS_SEQ == addrseq && value.ADDRESS_TYPE_CODE == addrtypecode) {\r\n          value.type = 2;\r\n          value.toggleclass = \"fa-chevron-right\";\r\n          $scope[value.ADDRESS_TYPE_CODE + value.ADDRESS_SEQ] = \"fa-chevron-right\";\r\n          data.push(value);\r\n        }\r\n      });\r\n      return data;\r\n    }\r\n\r\n    $scope.toggleContact = function(contact) {\r\n      contact.toggle = !contact.toggle;\r\n      if (contact.toggle) {\r\n        contact.toggleclass = \"fa-chevron-down\";\r\n      } else {\r\n        contact.toggleclass = \"fa-chevron-right\";\r\n      }\r\n    }\r\n  });\r\n\r\n\r\n  $scope.deleteAddr = function(atypcode, seqno) {\r\n    var postdata = \"atypcode=\" + atypcode + \"&seqno=\" + seqno;\r\n    $rootScope.postAPI( \"/banneraddressdelete\", postdata,\r\n      function(data) {\r\n        if (data) {\r\n          apprise(\"Address deleted successfully\", {\r\n            'verify': false,\r\n            'textYes': \"Ok\"\r\n          }, function(r) {\r\n            $rootScope.$apply(function() {\r\n              $scope.fetchaddr();\r\n            });\r\n          });\r\n        }\r\n      });\r\n  }\r\n\r\n\r\n  $scope.deleteAddress = function(atypcode, seqno) {\r\n    var onConfirm = function(buttonIndex) {\r\n      if (buttonIndex == 1) {\r\n        $scope.deleteAddr(atypcode, seqno);\r\n      }\r\n    };\r\n    if (window.device) {\r\n      navigator.notification.confirm(\r\n        'Are you sure you want to delete this Address?', // message\r\n        onConfirm, // callback to invoke with index of button pressed\r\n        'Address Delete', // title\r\n        ['Yes', 'No'] // buttonLabels\r\n      );\r\n    } else {\r\n      apprise(\"Are you sure you want to delete this Address?\", {\r\n        'verify': true,\r\n        'textYes': \"Yes\",\r\n        'textNo': \"No\"\r\n      }, function(r) {\r\n        if (r) {\r\n          $scope.deleteAddr(atypcode, seqno);\r\n        }\r\n      });\r\n    }\r\n  }\r\n\r\n\r\n  $scope.deleteAddlCt = function(contact, address) {\r\n    var postdata = \"seqno=\" + address.ADDRESS_SEQ + \"&\";\r\n    postdata += \"atypcode=\" + address.ADDRESS_TYPE_CODE + \"&\";\r\n    postdata += \"fromdate=\" + (address.FROM_DATE == null ? \"\" : address.FROM_DATE) + \"&\";\r\n    postdata += \"todate=\" + (address.TO_DATE == null ? \"\" : address.TO_DATE) + \"&\";\r\n    postdata += \"housenumber=\" + (address.HOUSE_NUMBER == null ? \"\" : address.HOUSE_NUMBER) + \"&\";\r\n    postdata += \"streetline1=\" + (address.STREET_LINE1 == null ? \"\" : address.STREET_LINE1) + \"&\";\r\n    postdata += \"streetline2=\" + (address.STREET_LINE2 == null ? \"\" : address.STREET_LINE2) + \"&\";\r\n    postdata += \"streetline3=\" + (address.STREET_LINE3 == null ? \"\" : address.STREET_LINE3) + \"&\";\r\n    postdata += \"streetline4=\" + (address.STREET_LINE4 == null ? \"\" : address.STREET_LINE4) + \"&\";\r\n    postdata += \"city=\" + (address.CITY == null ? \"\" : address.CITY) + \"&\";\r\n    postdata += \"statecode=\" + (address.STATE_CODE == null ? \"\" : address.STATE_CODE) + \"&\";\r\n    postdata += \"countycode=\" + (address.COUNTY_CODE == null ? \"\" : address.COUNTY_CODE) + \"&\";\r\n    postdata += \"nationcode=\" + (address.NATION_CODE == null ? \"\" : address.NATION_CODE) + \"&\";\r\n    postdata += \"zip=\" + (address.ZIP == null ? \"\" : address.ZIP) + \"&\";\r\n    if (address.primaryphone) {\r\n      postdata += \"phoneareacode=\" + (address.primaryphone.AREA_CODE == null ? \"\" : address.primaryphone.AREA_CODE) + \"&\";\r\n      postdata += \"phonenumber=\" + (address.primaryphone.PHONE_NUMBER == null ? \"\" : address.primaryphone.PHONE_NUMBER) + \"&\";\r\n      postdata += \"phoneextn=\" + (address.primaryphone.EXTENSION == null ? \"\" : address.primaryphone.EXTENSION) + \"&\";\r\n      postdata += \"phonecountrycode=\" + (address.primaryphone.COUNTRY_CODE == null ? \"\" : address.primaryphone.COUNTRY_CODE) + \"&\";\r\n      postdata += \"intlaccess=\" + (address.primaryphone.INTERNATIONAL_ACCESS == null ? \"\" : address.primaryphone.INTERNATIONAL_ACCESS) + \"&\";\r\n      postdata += \"unlistedind=\" + (address.primaryphone.UNLISTED_IND == null ? \"\" : address.primaryphone.UNLISTED_IND) + \"&\";\r\n    } else {\r\n      postdata += \"phoneareacode=\" + \"\" + \"&\";\r\n      postdata += \"phonenumber=\" + \"\" + \"&\";\r\n      postdata += \"phoneextn=\" + \"\" + \"&\";\r\n      postdata += \"phonecountrycode=\" + \"\" + \"&\";\r\n      postdata += \"intlaccess=\" + \"\" + \"&\";\r\n      postdata += \"unlistedind=\" + \"\" + \"&\";\r\n    }\r\n\r\n    var addlseqnos = \"\";\r\n    var addltelecodes = \"\";\r\n    var addlcountrycodes = \"\";\r\n    var addlareacodes = \"\";\r\n    var addlphonenumbers = \"\";\r\n    var addlphoneextns = \"\";\r\n    var addlintlaccess = \"\";\r\n    var addlunlistedinds = \"\";\r\n    var addldelinds = \"\";\r\n    angular.forEach(address.additionalphones, function(value, key) {\r\n      if (key == 0) {\r\n        addlseqnos += value.PHONE_SEQ;\r\n        addltelecodes += value.PHONE_CODE;\r\n        addlcountrycodes += value.COUNTRY_CODE;\r\n        addlareacodes += value.AREA_CODE;\r\n        addlphonenumbers += value.PHONE_NUMBER;\r\n        addlphoneextns += value.EXTENSION;\r\n        addlintlaccess += value.INTERNATIONAL_ACCESS;\r\n        addlunlistedinds += value.UNLISTED_IND;\r\n        if (value == contact) {\r\n          addldelinds += \"Y\";\r\n        }\r\n      } else {\r\n        addlseqnos += \",\" + value.PHONE_SEQ;\r\n        addltelecodes += \",\" + value.PHONE_CODE;\r\n        addlcountrycodes += \",\" + value.COUNTRY_CODE;\r\n        addlareacodes += \",\" + value.AREA_CODE;\r\n        addlphonenumbers += \",\" + value.PHONE_NUMBER;\r\n        addlphoneextns += \",\" + value.EXTENSION;\r\n        addlintlaccess += \",\" + value.INTERNATIONAL_ACCESS;\r\n        addlunlistedinds += \",\" + value.UNLISTED_IND;\r\n        if (value == contact) {\r\n          addldelinds += \",Y\";\r\n        } else {\r\n          addldelinds += \",\";\r\n        }\r\n      }\r\n    });\r\n    postdata += \"addlseqnos=\" + addlseqnos + \"&\";\r\n    postdata += \"addltelecodes=\" + addltelecodes + \"&\";\r\n    postdata += \"addlcountrycodes=\" + addlcountrycodes + \"&\";\r\n    postdata += \"addlareacodes=\" + addlareacodes + \"&\";\r\n    postdata += \"addlphonenumbers=\" + addlphonenumbers + \"&\";\r\n    postdata += \"addlphoneextns=\" + addlphoneextns + \"&\";\r\n    postdata += \"addlintlaccess=\" + addlintlaccess + \"&\";\r\n    postdata += \"addlunlistedinds=\" + addlunlistedinds + \"&\";\r\n    postdata += \"addldelinds=\" + addldelinds;\r\n\r\n    $rootScope.postAPI( \"/banneraddressupdate\", postdata, function(data) {\r\n      if (data) {\r\n        apprise(\"Contact deleted successfully\", {\r\n          'verify': false,\r\n          'textYes': \"Ok\"\r\n        }, function(r) {\r\n          $rootScope.$apply(function() {\r\n            $scope.fetchaddr();\r\n          });\r\n\r\n        });\r\n      }\r\n    });\r\n  }\r\n\r\n  $scope.deleteAddlContact = function(contact, address) {\r\n    var onConfirm = function(buttonIndex) {\r\n      if (buttonIndex == 1) {\r\n        $scope.deleteAddlCt(contact, address);\r\n      }\r\n    };\r\n    if (window.device) {\r\n      navigator.notification.confirm(\r\n        'Are you sure you want to delete this Contact?', // message\r\n        onConfirm, // callback to invoke with index of button pressed\r\n        'Contact Delete', // title\r\n        ['Yes', 'No'] // buttonLabels\r\n      );\r\n    } else {\r\n      apprise(\"Are you sure you want to delete this Contact?\", {\r\n        'verify': true,\r\n        'textYes': \"Yes\",\r\n        'textNo': \"No\"\r\n      }, function(r) {\r\n        if (r) {\r\n          $scope.deleteAddlCt(contact, address);\r\n        }\r\n      });\r\n    }\r\n  }\r\n\r\n}",
          "datatemplate": "<div class=\"page-container\">\r\n    <div ng-repeat=\"address in addresses.addresses\">\r\n        <div class=\"list-group-item main-heading\">\r\n            <span ng-bind=\"getAddressType(address.ADDRESS_TYPE_CODE)\"><\/span> Address\r\n            <span class=\"pull-right fa fa-times\" ng-click=\"deleteAddress(address.ADDRESS_TYPE_CODE, address.ADDRESS_SEQ )\">&nbsp;<\/span>\r\n            <a href=\"#app/AddUpdateB1/AddUpdateB1Details?index={{$index}}\" class=\"pull-right fa fa-pencil\">&nbsp;<\/a>\r\n        <\/div>\r\n        <ul class=\"list-group\">\r\n            <li class=\"list-group-item\" >\r\n                <div class=\"row\">\r\n                    <div class=\"col-xs-5 col-md-5 key\">\r\n                        <strong>Address:<\/strong>\r\n                    <\/div>\r\n                    <div class=\"col-xs-7 col-md-7 val\">\r\n                        <div>{{address.HOUSE_NUMBER}}<\/div>\r\n                        <div>{{address.STREET_LINE1}}<\/div>\r\n                        <div>{{address.STREET_LINE2}}<\/div>\r\n                        <div>{{address.STREET_LINE3}}<\/div>\r\n                        <div>{{address.STREET_LINE4}}<\/div>\r\n                        <div>{{address.CITY}}<\/div>\r\n                        <div ng-bind=\"getState(address.STATE_CODE)\"><\/div>\r\n                        <div>{{address.ZIP}}<\/div>\r\n                        <div ng-bind=\"getNation(address.NATION_CODE)\"><\/div>\r\n                    <\/div>\r\n                <\/div>\r\n                <div class=\"row\">\r\n                    <div class=\"col-xs-5 col-md-5 key\">\r\n                        <strong>Valid Date:<\/strong>\r\n                    <\/div>\r\n                    <div class=\"col-xs-7 col-md-7 val\">\r\n                        <strong>{{address.FROM_DATE || '(No Valid date)'}}<\/strong>\r\n                    <\/div>\r\n                <\/div>\r\n                <div class=\"row\">\r\n                    <div class=\"col-xs-5 col-md-5 key\">\r\n                        <strong>Until Date:<\/strong>\r\n                    <\/div>\r\n                    <div class=\"col-xs-7 col-md-7 val\">\r\n                        <strong>{{address.TO_DATE || '(No until date)'}}<\/strong>\r\n                    <\/div>\r\n                <\/div>\r\n            <\/li>\r\n            <div class=\"list-group-item group-heading\" >Contact Numbers<\/div>\r\n            <li class=\"list-group-item\"  ng-show=\"address.primaryphone\">\r\n                <div class=\"row\">\r\n                    <div class=\"col-xs-5 col-md-5 key\">\r\n                        <strong>{{getTelephoneType(address.primaryphone.PHONE_CODE)}}<\/strong>\r\n                    <\/div>\r\n                    <div class=\"col-xs-7 col-md-7 val\">\r\n                        <strong>{{address.primaryphone.COUNTRY_CODE}} ({{address.primaryphone.AREA_CODE}}) {{address.primaryphone.PHONE_NUMBER}} {{address.primaryphone.EXTENSION}}<\/strong>\r\n                    <\/div>\r\n                <\/div>\r\n            <\/li>\r\n            <div ng-repeat=\"addlcontact in address.additionalphones\">\r\n                <li class=\"list-group-item\"  ng-show=\"addlcontactPHONE_CODE || addlcontact.COUNTRY_CODE || addlcontact.AREA_CODE || addlcontact.PHONE_NUMBER || addlcontact.EXTENSION \">\r\n                    <div class=\"row\">\r\n                        <div class=\"col-xs-5 col-md-5 key\">\r\n                            <strong>{{getTelephoneType(addlcontact.PHONE_CODE)}}<\/strong>\r\n                        <\/div>\r\n                        <div class=\"col-xs-7 col-md-7 val\">\r\n                            <strong>{{addlcontact.COUNTRY_CODE}} ({{addlcontact.AREA_CODE}}) {{addlcontact.PHONE_NUMBER}} {{addlcontact.EXTENSION}}<\/strong>\r\n                            <a href=\"\" ng-class=\"addlcontact.toggleclass\" class=\"pull-right fa\" ng-click=\"toggleContact(addlcontact)\"><\/a>\r\n                            <div ng-show=\"addlcontact.toggle\">\r\n                              <a href=\"#app/AddUpdateB1/AddUpdateB1Details?index={{$parent.$index}}&cindex={{$index}}\" class=\"btn btn-xs btn-primary\">Edit<\/a>\r\n                                <button class=\"btn btn-xs btn-danger\" ng-click=\"deleteAddlContact(addlcontact, address)\">Delete<\/button>\r\n                            <\/div>\r\n                        <\/div>\r\n                    <\/div>\r\n                <\/li>\r\n            <\/div>                \r\n\r\n            <li class=\"list-group-item\">\r\n                <a href=\"#app/AddUpdateB1/AddUpdateB1Details?index={{$index}}&cindex=-1\" class=\"btn btn-sm btn-block btn-danger\">Add New Number<\/a>\r\n            <\/li>\r\n\r\n        <\/ul>        \r\n    <\/div>\r\n\r\n<\/div>\r\n"
        }
      ]
    },
    {
      "id": 45804,
      "name": "EContact",
      "displayname": "MyEmergency Contacts",
      "logo": "CCTC/EContact.png",
      "logourl": "CCTC/EContact.png",
      "description": "Emergency Contact",
      "appFeatureType": "Banner",
      "roles": "STUDENT,FACULTY,EMPLOYEE",
      "showInDock": false,
      "showInHome": true,
      "networkrequired": true,
      "analytics": true,
      "pages": 
      [
        {
          "pageid": "EContactDetails",
          "pageTemplate": "<div><\/div>",
          "endpoint": "/banneremergencycontactsave",
          "datatemplate": "<div class=\"page-container\">\r\n    <div class=\"list-group-item main-heading\">{{btnlabel}}<\/div>\r\n    <ul class=\"list-group\">\r\n        <li class=\"list-group-item \">\r\n            <div class=\"form-group\">\r\n                <label for=\"name\" class=\"control-label\">Relationship <span class=\"required-indicator danger\" >*<\/span>\r\n                <\/label>\r\n                <select ng-model=\"emergencycontact.RELATIONSHIP_CODE\" class=\"form-control\" >\r\n                    <option value=\"\">Select<\/option>\r\n                    <option ng-selected=\"emergencycontact.RELATIONSHIP_CODE == rc.RELATIONSHIP_CODE\" value=\"{{rc.RELATIONSHIP_CODE}}\" ng-repeat=\"rc in relationshipcodes\">{{rc.RELATIONSHIP_DESC}}<\/option>\r\n                <\/select>\r\n            <\/div>\r\n            <div class=\"form-group\">\r\n                <label for=\"firstName\" class=\"control-label\">First Name <span class=\"required-indicator danger\" >*<\/span>\r\n                <\/label>\r\n                <input type=\"text\" pattern=\"[a-zA-Z0-9]\" class=\"form-control input-sm\"  placeholder=\"First Name\" name=\"firstName\" id=\"firstName\" ng-model=\"emergencycontact.FIRST_NAME\">\r\n            <\/div>\r\n            <div class=\"form-group\">\r\n                <label for=\"middleName\" class=\"control-label\">Middle Name<\/label>\r\n                <input type=\"text\" pattern=\"[a-zA-Z0-9]\" class=\"form-control input-sm\" placeholder=\"Middle Name\" name=\"middleName\" id=\"middleName\" ng-model=\"emergencycontact.MIDDLE_NAME\">\r\n            <\/div>\r\n            <div class=\"form-group\">\r\n                <label for=\"lastName\" class=\"control-label\">Last Name <span class=\"required-indicator danger\" >*<\/span>\r\n                <\/label>\r\n                <input type=\"text\" pattern=\"[a-zA-Z0-9]\" class=\"form-control input-sm\" placeholder=\"Last Name\" name=\"lastName\" id=\"lastName\" ng-model=\"emergencycontact.LAST_NAME\">\r\n            <\/div>\r\n\r\n        <\/li>\r\n        <div class=\"list-group-item group-heading \" >Address<\/div>\r\n        <li class=\"list-group-item\" >\r\n            <div class=\"form-group\">\r\n                <input type=\"text\" class=\"form-control input-sm\" placeholder=\"Street line 1\" name=\"streetLine1\" id=\"streetLine1\" ng-model=\"emergencycontact.STREET_LINE1\" />\r\n                <input type=\"text\" class=\"form-control input-sm\" placeholder=\"Street line 2\" name=\"streetLine2\" id=\"streetLine1\" ng-model=\"emergencycontact.STREET_LINE2\" />\r\n                <input type=\"text\" class=\"form-control input-sm\" placeholder=\"Street line 3\" name=\"streetLine3\" id=\"streetLine1\" ng-model=\"emergencycontact.STREET_LINE3\" />\r\n                <input type=\"text\" class=\"form-control input-sm\" placeholder=\"Street line 4\" name=\"streetLine4\" id=\"streetLine1\" ng-model=\"emergencycontact.STREET_LINE4\" />\r\n            <\/div>\r\n            <div class=\"form-group\">\r\n                <label for=\"city\" class=\"control-label\">City<\/label>\r\n                <div class=\"\">\r\n                    <input type=\"text\" class=\"form-control input-sm\" placeholder=\"City\" name=\"city\" id=\"city\" ng-model=\"emergencycontact.CITY\">\r\n                <\/div>\r\n            <\/div>\r\n            <div class=\"form-group\">\r\n                <label for=\"state\" class=\"control-label\">State<\/label>\r\n                <div class=\"\">\r\n                    <select ng-model=\"emergencycontact.STATE_CODE\" class=\"form-control\" >\r\n                        <option value=\"\">Select<\/option>\r\n                        <option ng-selected=\"emergencycontact.STATE_CODE == st.STATE_CODE\" value=\"{{st.STATE_CODE}}\" ng-repeat=\"st in statecodes\">{{st.STATE_DESC}}<\/option>\r\n                    <\/select>\r\n                <\/div>\r\n            <\/div>                \r\n            <div class=\"form-group\">\r\n                <label for=\"zip\" class=\"control-label\">Zip<\/label>\r\n                <input type=\"text\" class=\"form-control input-sm\" placeholder=\"Zip\" name=\"zip\" id=\"zip\" ng-model=\"emergencycontact.ZIP\">\r\n            <\/div>                \r\n            <div class=\"form-group\">\r\n                <label for=\"country\" class=\"control-label\">Country<\/label>\r\n                <div class=\"\">\r\n                    <select ng-model=\"emergencycontact.COUNTRY_CODE\" class=\"form-control\" >\r\n                        <option value=\"\">Select<\/option>\r\n                        <option ng-selected=\"emergencycontact.COUNTRY_CODE == c.COUNTRY_CODE\" value=\"{{c.COUNTRY_CODE}}\" ng-repeat=\"c in countrycodes\">{{c.COUNTRY_DESC}}<\/option>\r\n                    <\/select>\r\n                <\/div>\r\n            <\/div>                \r\n        <\/li>\r\n        <div class=\"list-group-item group-heading\">Telephone<\/div>\r\n        <li class=\"list-group-item\" >\r\n            <div class=\"form-group row\">\r\n                <div class=\"col-xs-2 col-md-2\" >\r\n                    <input type=\"tel\" class=\"form-control input-sm\" maxlength=\"3\" id=\"country_phone\" placeholder=\"Country\" ng-model=\"emergencycontact.PHONE_COUNTRY_CODE\">\r\n                <\/div>\r\n                <div class=\"col-xs-2 col-md-2\" >\r\n                    <input type=\"tel\" class=\"form-control input-sm\" maxlength=\"5\" id=\"area_phone\" placeholder=\"Area\" ng-model=\"emergencycontact.PHONE_AREA\">\r\n                <\/div>\r\n                <div class=\"col-xs-5 col-md-5\" >\r\n                    <input type=\"tel\" class=\"form-control input-sm\" maxlength=\"10\" id=\"phone\" placeholder=\"Phone\" ng-model=\"emergencycontact.PHONE_NUMBER\">\r\n                <\/div>\r\n                <div class=\"col-xs-2 col-md-2\" >\r\n                    <input type=\"tel\" class=\"form-control input-sm\" maxlength=\"4\" id=\"extension\" placeholder=\"Extn\" ng-model=\"emergencycontact.PHONE_EXTN\">\r\n                <\/div>\r\n            <\/div>\r\n\r\n        <\/li>\r\n    <\/ul>\r\n\r\n    <div class=\"list-group-item transparent\">\r\n                      <button class=\"btn btn-block btn-primary btn-oval\" ng-click=\"updateContact()\">{{btnlabel}}<\/button>\r\n    <\/div>\r\n<\/div>\r\n",
          "pageprocessor": "function pageprocessorEContactDetails(pagedef, $scope, $routeParams, $compile, $http, $rootScope, $sce, $window, $location) {\r\n  var data1 = $compile($(pagedef.datatemplate))($scope);\r\n  $(\"#appContent\").append(data1);\r\n  var index = $routeParams.index\r\n  $scope.btnlabel = \"Update Contact\";\r\n  if (index == -1) {\r\n    var priority = $rootScope.emergencycontacts.length + 1;\r\n    $scope.emergencycontact = {\r\n      PRIORITY: priority,\r\n      LAST_NAME: \"\",\r\n      FIRST_NAME: \"\",\r\n      MIDDLE_NAME: \"\",\r\n      HOUSE_NUMBER: \"\",\r\n      STREET_LINE1: \"\",\r\n      STREET_LINE2: \"\",\r\n      STREET_LINE3: \"\",\r\n      STREET_LINE4: \"\",\r\n      CITY: \"\",\r\n      STATE_CODE: \"\",\r\n      COUNTRY_CODE: \"\",\r\n      ZIP: \"\",\r\n      PHONE_AREA: \"\",\r\n      PHONE_NUMBER: \"\",\r\n      PHONE_EXTN: \"\",\r\n      PHONE_COUNTRY_CODE: \"\",\r\n      RELATIONSHIP_CODE: \"\"\r\n    };\r\n    $scope.btnlabel = \"Add Contact\";\r\n  } else {\r\n    var selectedContact = $rootScope.emergencycontacts[index];\r\n    $scope.emergencycontact = selectedContact;\r\n  }\r\n\r\n  $scope.showalert = function(message, title) {\r\n    if (window.device) {\r\n      navigator.notification.alert(message, null, title, null);\r\n    } else {\r\n      apprise(message, {\r\n        'verify': false,\r\n        'textYes': \"Ok\"\r\n      }, function(r) {});\r\n    }\r\n  }\r\n  $scope.validateRequired = function() {\r\n    if ($scope.emergencycontact.RELATIONSHIP_CODE == \"\" || $scope.emergencycontact.RELATIONSHIP_CODE == null) {\r\n      $scope.showalert(\"Please select Relationship\", \"Emergency Contact\");\r\n      return false;\r\n    }\r\n    if (!$scope.emergencycontact.FIRST_NAME || $scope.emergencycontact.FIRST_NAME.trim() == \"\") {\r\n      $scope.showalert(\"Please enter First name\", \"Emergency Contact\");\r\n      return false;\r\n    } else {\r\n      if (/^[a-zA-Z0-9- ]*$/.test($scope.emergencycontact.FIRST_NAME.trim()) == false) {\r\n        $scope.showalert('Special characters (\" , + - * / \\ @ # $ % ^ &) should not be used in name.');\r\n        return false;\r\n      }\r\n    }\r\n\r\n    if (($scope.emergencycontact.MIDDLE_NAME != \"\" && $scope.emergencycontact.MIDDLE_NAME != null) &&\r\n      /^[a-zA-Z0-9- ]*$/.test($scope.emergencycontact.MIDDLE_NAME.trim()) == false) {\r\n      $scope.showalert('Special characters (\" , + - * / \\ @ # $ % ^ &) should not be used in name.');\r\n      return false;\r\n    }\r\n\r\n    if (!$scope.emergencycontact.LAST_NAME || $scope.emergencycontact.LAST_NAME.trim() == \"\") {\r\n      $scope.showalert(\"Please enter Last name\", \"Emergency Contact\");\r\n      return false;\r\n    } else {\r\n      if (/^[a-zA-Z0-9- ]*$/.test($scope.emergencycontact.LAST_NAME.trim()) == false) {\r\n        $scope.showalert('Special characters (\" , + - * / \\ @ # $ % ^ &) should not be used in name.', \"Emergency Contact\");\r\n        return false;\r\n      }\r\n    }\r\n\r\n    if (($scope.emergencycontact.STREET_LINE1 != \"\" && $scope.emergencycontact.STREET_LINE1 != null) && /^[a-zA-Z0-9- #]*$/.test($scope.emergencycontact.STREET_LINE1.trim()) == false) {\r\n      $scope.showalert('Special characters (\" , + - * / \\ @ # $ % ^ &) should not be used in address.', \"Emergency Contact\");\r\n      return false;\r\n    }\r\n    if (($scope.emergencycontact.STREET_LINE2 != \"\" && $scope.emergencycontact.STREET_LINE2 != null) && /^[a-zA-Z0-9- #]*$/.test($scope.emergencycontact.STREET_LINE2.trim()) == false) {\r\n      $scope.showalert('Special characters (\" , + - * / \\ @ # $ % ^ &) should not be used in address.', \"Emergency Contact\");\r\n      return false;\r\n    }\r\n    if (($scope.emergencycontact.STREET_LINE3 != \"\" && $scope.emergencycontact.STREET_LINE3 != null) && /^[a-zA-Z0-9- #]*$/.test($scope.emergencycontact.STREET_LINE3.trim()) == false) {\r\n      $scope.showalert('Special characters (\" , + - * / \\ @ # $ % ^ &) should not be used in address.', \"Emergency Contact\");\r\n      return false;\r\n    }\r\n    if (($scope.emergencycontact.STREET_LINE4 != \"\" && $scope.emergencycontact.STREET_LINE4 != null) && /^[a-zA-Z0-9- #]*$/.test($scope.emergencycontact.STREET_LINE4.trim()) == false) {\r\n      $scope.showalert('Special characters (\" , + - * / \\ @ # $ % ^ &) should not be used in address.', \"Emergency Contact\");\r\n      return false;\r\n    }\r\n    if (($scope.emergencycontact.ZIP != \"\" && $scope.emergencycontact.ZIP != null) && /^[a-zA-Z0-9- ]*$/.test($scope.emergencycontact.ZIP.trim()) == false) {\r\n      $scope.showalert('Special characters (\" , + - * / \\ @ # $ % ^ &) should not be used in zip code.', \"Emergency Contact\");\r\n      return false;\r\n    }\r\n    if ($scope.emergencycontact.STREET_LINE1 && !$scope.emergencycontact.CITY) {\r\n      $scope.showalert(\"City is required if Street Line1 is specified.\", \"Emergency Contact\");\r\n      return false;\r\n    }\r\n    if ($scope.emergencycontact.COUNTRY_CODE != \"\" && $scope.emergencycontact.COUNTRY_CODE != null) {\r\n      var city = $scope.emergencycontact.CITY == null ? \"\" : $scope.emergencycontact.CITY;\r\n      if (city == \"\" || city == null || city.trim() == \"\") {\r\n        $scope.showalert(\"Please enter City\", \"Emergency Contact\");\r\n        return false;\r\n      }\r\n      if ($scope.emergencycontact.STREET_LINE1 == \"\" || $scope.emergencycontact.STREET_LINE1 == null) {\r\n        $scope.showalert(\"Please enter Address line 1\", \"Emergency Contact\");\r\n        return false;\r\n      }\r\n      if ($scope.emergencycontact.PHONE_NUMBER == \"\" || $scope.emergencycontact.PHONE_NUMBER == null) {\r\n        $scope.showalert(\"Please enter Phone number\", \"Emergency Contact\");\r\n        return false;\r\n      }\r\n    }\r\n    if (($scope.emergencycontact.STREET_LINE1 || $scope.emergencycontact.STREET_LINE2 ||\r\n        $scope.emergencycontact.STREET_LINE3 || $scope.emergencycontact.STREET_LINE4) && $scope.emergencycontact.CITY) {\r\n      if (!$scope.emergencycontact.STATE_CODE && !$scope.emergencycontact.COUNTRY_CODE) {\r\n        $scope.showalert(\"If Address and City are provided, then State or Nation is required.\", \"Emergency Contact\");\r\n        return false;\r\n      }\r\n    }\r\n    if ($scope.emergencycontact.STATE_CODE && ($scope.emergencycontact.ZIP == \"\" || $scope.emergencycontact.ZIP == null)) {\r\n      $scope.showalert(\"Zip code is required when State Code is provided. \", \"Emergency Contact\");\r\n      return false;\r\n    }\r\n    return true\r\n  }\r\n  $scope.updateContact = function() {\r\n    if ($scope.validateRequired() == false) {\r\n      return;\r\n    }\r\n    var postdata = \"priority=\" + $scope.emergencycontact.PRIORITY + \"&\";\r\n    postdata += \"oldPriority=\" + $scope.emergencycontact.PRIORITY + \"&\";\r\n    postdata += \"lastName=\" + ($scope.emergencycontact.LAST_NAME == null ? \"\" : $scope.emergencycontact.LAST_NAME) + \"&\";\r\n    postdata += \"firstName=\" + ($scope.emergencycontact.FIRST_NAME == null ? \"\" : $scope.emergencycontact.FIRST_NAME) + \"&\";\r\n    postdata += \"middleName=\" + ($scope.emergencycontact.MIDDLE_NAME == null ? \"\" : $scope.emergencycontact.MIDDLE_NAME) + \"&\";\r\n    postdata += \"surnamePrefix=\" + ($scope.emergencycontact.SURNAME_PREFIX == null ? \"\" : $scope.emergencycontact.SURNAME_PREFIX) + \"&\";\r\n    postdata += \"houseNumber=\" + ($scope.emergencycontact.HOUSE_NUMBER == null ? \"\" : $scope.emergencycontact.HOUSE_NUMBER) + \"&\";\r\n    postdata += \"streetLine1=\" + ($scope.emergencycontact.STREET_LINE1 == null ? \"\" : $scope.emergencycontact.STREET_LINE1) + \"&\";\r\n    postdata += \"streetLine2=\" + ($scope.emergencycontact.STREET_LINE2 == null ? \"\" : $scope.emergencycontact.STREET_LINE2) + \"&\";\r\n    postdata += \"streetLine3=\" + ($scope.emergencycontact.STREET_LINE3 == null ? \"\" : $scope.emergencycontact.STREET_LINE3) + \"&\";\r\n    postdata += \"streetLine4=\" + ($scope.emergencycontact.STREET_LINE4 == null ? \"\" : $scope.emergencycontact.STREET_LINE4) + \"&\";\r\n    postdata += \"city=\" + ($scope.emergencycontact.CITY == null ? \"\" : $scope.emergencycontact.CITY) + \"&\";\r\n    postdata += \"stateCode=\" + ($scope.emergencycontact.STATE_CODE == null ? \"\" : $scope.emergencycontact.STATE_CODE) + \"&\";\r\n    postdata += \"countryCode=\" + ($scope.emergencycontact.COUNTRY_CODE == null ? \"\" : $scope.emergencycontact.COUNTRY_CODE) + \"&\";\r\n    postdata += \"zipCode=\" + ($scope.emergencycontact.ZIP == null ? \"\" : $scope.emergencycontact.ZIP) + \"&\";\r\n    postdata += \"phoneArea=\" + ($scope.emergencycontact.PHONE_AREA == null ? \"\" : $scope.emergencycontact.PHONE_AREA) + \"&\";\r\n    postdata += \"phoneNumber=\" + ($scope.emergencycontact.PHONE_NUMBER == null ? \"\" : $scope.emergencycontact.PHONE_NUMBER) + \"&\";\r\n    postdata += \"phoneExtn=\" + ($scope.emergencycontact.PHONE_EXTN == null ? \"\" : $scope.emergencycontact.PHONE_EXTN) + \"&\";\r\n    postdata += \"phoneCountryCode=\" + ($scope.emergencycontact.PHONE_COUNTRY_CODE == null ? \"\" : $scope.emergencycontact.PHONE_COUNTRY_CODE) + \"&\";\r\n    postdata += \"reltCode=\" + $scope.emergencycontact.RELATIONSHIP_CODE;\r\n\r\n    $rootScope.postAPI(pagedef.endpoint, postdata, function(data) {\r\n      if (data) {\r\n        apprise(\"Contact saved successfully\", {\r\n          'verify': false,\r\n          'textYes': \"Ok\"\r\n        }, function(r) {\r\n          $rootScope.$apply(function() {\r\n            $location.path(\"/app/EContact/EContact\");\r\n          });\r\n        });\r\n      }\r\n    });\r\n  }\r\n}"
        },
        {
          "pageid": "EContact",
          "pageTemplate": "<div><\/div>",
          "endpoint": "/banneremergencycontactcodes",
          "pageprocessor": "function pageprocessorEContact(pagedef, $scope, $routeParams, $compile, $http, $rootScope, $sce, $window, $location) {\r\n  var data1 = $compile($(pagedef.datatemplate))($scope);\r\n  $(\"#appContent\").append(data1);\r\n  $scope.emergencycontactcodes = \"\";\r\n  $scope.emergencycontacts = \"\";\r\n\r\n\r\n  $rootScope.getAPI( pagedef.endpoint, function(data) {\r\n    $scope.emergencycontactcodes = data;\r\n    $rootScope.countrycodes = data.countrycodes;\r\n    $rootScope.statecodes = data.statecodes;\r\n    $rootScope.relationshipcodes = data.relationshipcodes;\r\n    $scope.getCountry = function(code) {\r\n      var country = \"\";\r\n      angular.forEach($scope.emergencycontactcodes.countrycodes, function(value, key) {\r\n        if (value.COUNTRY_CODE == code) {\r\n          country = value.COUNTRY_DESC;\r\n        }\r\n      });\r\n      return country;\r\n    }\r\n    $scope.getState = function(code) {\r\n      var state = \"\";\r\n      angular.forEach($scope.emergencycontactcodes.statecodes, function(value, key) {\r\n        if (value.STATE_CODE == code) {\r\n          state = value.STATE_DESC;\r\n        }\r\n      });\r\n      return state;\r\n    }\r\n    $scope.getRelation = function(code) {\r\n      var rel = \"\";\r\n      angular.forEach($scope.emergencycontactcodes.relationshipcodes, function(value, key) {\r\n        if (value.RELATIONSHIP_CODE == code) {\r\n          rel = value.RELATIONSHIP_DESC;\r\n        }\r\n      });\r\n      return rel;\r\n    }\r\n\r\n  });\r\n\r\n  $rootScope.getAPI( \"/banneremergencycontactfetch\", function(data) {\r\n    $scope.emergencycontacts = data.fetch;\r\n    $rootScope.emergencycontacts = data.fetch;\r\n  });\r\n\r\n  $scope.deleteCt = function(priority) {\r\n\r\n    $rootScope.postAPI( \"/banneremergencycontactdelete\", \"priority=\" + priority,\r\n      function(data) {\r\n        if (data) {\r\n          apprise(\"Contact deleted successfully\", {\r\n            'verify': false,\r\n            'textYes': \"Ok\"\r\n          }, function(r) {\r\n            $rootScope.$apply(function() {\r\n              $rootScope.getAPI( \"/banneremergencycontactfetch\", function(data) {\r\n                $scope.emergencycontacts = data.fetch;\r\n                $rootScope.emergencycontacts = data.fetch;\r\n              });\r\n            });\r\n          });\r\n        }\r\n      });\r\n  }\r\n\r\n  $scope.deleteContact = function(priority) {\r\n    var onConfirm = function(buttonIndex) {\r\n      if (buttonIndex == 1) {\r\n        $scope.deleteCt(priority);\r\n      }\r\n    };\r\n    if (window.device) {\r\n      navigator.notification.confirm(\r\n        'Are you sure you want to delete this contact?', // message\r\n        onConfirm, // callback to invoke with index of button pressed\r\n        'Emergency Contact', // title\r\n        ['Yes', 'No'] // buttonLabels\r\n      );\r\n    } else {\r\n      apprise(\"Are you sure you want to delete this contact?\", {\r\n        'verify': true,\r\n        'textYes': \"Yes\",\r\n        'textNo': \"No\"\r\n      }, function(r) {\r\n        if (r) {\r\n          $scope.deleteCt(priority);\r\n        }\r\n      });\r\n    }\r\n\r\n  }\r\n}",
          "datatemplate": "<div class=\"page-container\">\r\n    <div ng-repeat=\"ec in emergencycontacts\">\r\n        <div class=\"list-group-item main-heading\"> \r\n            {{ec.FIRST_NAME}} {{ec.LAST_NAME}}\r\n            <a class=\"pull-right fa fa-times\" ng-click=\"deleteContact(ec.PRIORITY)\">&nbsp;<\/a>\r\n            <a href=\"#app/EContact/EContactDetails?index={{$index}}\" class=\"pull-right fa fa-pencil\">&nbsp;<\/a>\r\n        <\/div>\r\n        <ul class=\"list-group\">\r\n            <li class=\"list-group-item key\">\r\n                Relationship : <span class=\"pull-right val\" ng-bind=\"getRelation(ec.RELATIONSHIP_CODE)\"><\/span>\r\n            <\/li>\r\n            <div class=\"list-group-item group-heading\"  >Address<\/div>\r\n            <li class=\"list-group-item val\" >\r\n                <div>{{ec.HOUSE_NUMBER}}<\/div>\r\n                <div>{{ec.STREET_LINE1}}<\/div>\r\n                <div>{{ec.STREET_LINE2}}<\/div>\r\n                <div>{{ec.STREET_LINE3}}<\/div>\r\n                <div>{{ec.STREET_LINE4}}<\/div>\r\n                <div>{{ec.CITY}}<\/div>\r\n                <div ng-bind=\"getState(ec.STATE_CODE)\"><\/div>\r\n                <div>{{ec.ZIP}}<\/div>\r\n                <div ng-bind=\"getCountry(ec.COUNTRY_CODE)\"><\/div>\r\n                <div><i class=\"fa fa-phone\" />{{ec.PHONE_COUNTRY_CODE}} {{ec.PHONE_AREA}} {{ec.PHONE_NUMBER}} {{ec.PHONE_EXTN}}\r\n                    <i class=\"pull-right fa fa-chevron-right\" />\r\n                <\/div>\r\n            <\/li>\r\n        <\/ul>        \r\n    <\/div>\r\n    <div class=\"list-group-item transparent\">\r\n        <a class=\"btn btn-block btn-primary btn-oval\" href=\"#app/EContact/EContactDetails?index=-1\">Add new Contact<\/a>\r\n    <\/div>\r\n<\/div>\r\n"
        }
      ]
    },
    {
      "id": 60604,
      "name": "CCTCEmergency",
      "displayname": "Emergency",
      "logo": "CCTC/CCTCEmergency.png",
      "logourl": "CCTC/CCTCEmergency.png",
      "description": "CCTC Emergency",
      "appFeatureType": "Banner",
      "roles": null,
      "showInDock": false,
      "showInHome": true,
      "networkrequired": true,
      "analytics": true,
      "pages": 
      [
        {
          "pageid": "CCTCEmergency",
          "pageTemplate": "<style>   .scrollable-content {     background: #002446 !important;   } <\/style> <div class=\"well\"  style=\"background:transparent;padding:10px;border:none;\">     <div class=\"list-group\">         <a class=\"list-group-item active panel-title\" style=\"background:#fcba5e !important;color:#fff;font-weight:bold\">Phone Numbers<\/a>         <a href=\"tel:{{contact.number}}\" class=\"list-group-item\" ng-repeat=\"contact in contacts.Contacts \">             <b>{{contact.name}} <\/b>             <i class=\"fa fa-chevron-circle-right pull-right fa-2x\"><\/i>             <br/>             <i class=\"fa fa-phone\"><\/i>&nbsp;&nbsp;{{contact.number}}         <\/a>     <\/div> <\/div>",
          "pageprocessor": "function pageprocessorCCTCEmergency(pagedef, $scope, $routeParams, $compile, $http, $rootScope, $sce, $window, $location) {$scope.contacts = $.parseJSON(pagedef.contactdetails);   var data1 = $compile($(pagedef.pageTemplate))($scope);$(\"#appContent\").append(data1);}",
          "contactdetails": "{\r\n  \"Contacts\": [{\r\n    \"name\": \"CCTC Emergency Mobile\",\r\n    \"number\": \"803-778-6623\"\r\n  }]\r\n}"
        }
      ]
    },
    {
      "id": 45750,
      "name": "Videos",
      "displayname": "YouTube",
      "logo": "CCTC/Videos.png",
      "logourl": "CCTC/Videos.png",
      "description": "Campus Videos",
      "appFeatureType": "Public",
      "roles": "public",
      "showInDock": false,
      "showInHome": true,
      "networkrequired": true,
      "analytics": true,
      "pages": 
      [
        {
          "pageid": "VideosVideosDetails",
          "pageTemplate": "<div><\/div>",
          "pageprocessor": "function pageprocessorVideosVideosDetails(pagedef, $scope, $routeParams, $compile, $http, $rootScope, $sce, $window, $location) {\r\n\r\n  var video = $rootScope.videos[$routeParams.index];\r\n  var videoID = video.id.videoId\r\n\r\n  var url = \"https://www.googleapis.com/youtube/v3/videos?id=\" + videoID + \"&key=AIzaSyAC5TPbRtJ_dZTWSVzyIQY_QzLLJANuR-o&part=snippet,contentDetails,statistics,status\";\r\n  $http.get(url).success(function(data) {\r\n\r\n    console.log(JSON.stringify(data));\r\n    $scope.title = data.items[0].snippet.localized.title;\r\n\r\n    $scope.trustSrc = function() {\r\n      return $sce.trustAsResourceUrl(\"https://www.youtube.com/embed/\" + videoID);\r\n    };\r\n    $scope.description = data.items[0].snippet.localized.description;\r\n\r\n    var data1 = $compile($(pagedef.datatemplate))($scope);\r\n    $(\"#appContent\").append(data1);\r\n\r\n  }).error(function(data) {\r\n    $.unblockUI();\r\n  });\r\n\r\n try {\r\n    var onPause = function() {\r\n      $('iframe').attr('src', $('iframe').attr('src'));\r\n    }\r\n\r\n    document.addEventListener(\"pause\", onPause, false);\r\n  } catch (e) {\r\n    // alert(e)\r\n  }\r\n\r\n}",
          "datatemplate": "<style>\r\n    #branding {\r\n    \tdisplay: none;\r\n\t}\r\n<\/style>\r\n<div class=\"container\">\r\n    <h4 style=\"color:#fff;padding:10px;\">{{title}}<\/h4>\r\n    <div style=\"align:center\">\r\n        <iframe ng-src=\"{{trustSrc()}}\" frameborder=\"0\" allowfullscreen target=\"self\"><\/iframe>\r\n    <\/div>\r\n    <h5 style=\"color:#fff;padding:10px;\">{{description}}<\/h5>\r\n<\/div>"
        },
        {
          "pageid": "Videos",
          "pageTemplate": "<div><\/div>",
          "datatemplate": "<div class=\"media-list list-group\">\r\n    <a href=\"#app/Videos/VideosVideosDetails?index={{$index}}\" class=\"media list-group-item\" ng-repeat=\"video in videos\">\r\n        <div class=\"pull-left\"><img class=\"media-object\" src=\"{{video.snippet.thumbnails.default.url}}\"><\/img>\r\n        <\/div>\r\n        <div class=\"media-body\">\r\n            <h4 class=\"media-heading\" style=\"color:#164E79;\">{{video.snippet.title}}<\/h4>\r\n            <p class=\"disabled\">Published On {{video.snippet.publishedAt | date:'medium'}}<\/p>\r\n        <\/div>\r\n    <\/a>\r\n<\/div>",
          "url": "https://www.googleapis.com/youtube/v3/search?videoEmbeddable=true&order=date&part=snippet&channelId=UCXQ3oO4WmxX1wPhAdrlLEdA&type=video&maxResults=50&key=AIzaSyAC5TPbRtJ_dZTWSVzyIQY_QzLLJANuR-o",
          "pageprocessor": "function pageprocessorVideos(pagedef, $scope, $routeParams, $compile, $http, $rootScope, $sce, $window, $location) {\r\n\r\n  $.blockUI({\r\n      message: '<div id=\"floatingBarsG\"><div class=\"blockG\" id=\"rotateG_01\"><\/div><div class=\"blockG\" id=\"rotateG_02\"><\/div><div class=\"blockG\" id=\"rotateG_03\"><\/div><div class=\"blockG\" id=\"rotateG_04\"><\/div><div class=\"blockG\" id=\"rotateG_05\"><\/div><div class=\"blockG\" id=\"rotateG_06\"><\/div><div class=\"blockG\" id=\"rotateG_07\"><\/div><div class=\"blockG\" id=\"rotateG_08\"><\/div><\/div><div><\/div>'\r\n    });\r\n  $http.get(pagedef.url).success(function(data) {\r\n    console.log(JSON.stringify(data));\r\n    $scope.videos = data.items;\r\n    $rootScope.videos = data.items;\r\n    var data1 = $compile($(pagedef.datatemplate))($scope);\r\n    $(\"#appContent\").append(data1);\r\n    $.unblockUI();\r\n  }).error(function(data) {\r\n    $.unblockUI();\r\n  });\r\n}"
        }
      ]
    },
    {
      "id": 45753,
      "name": "Facebook",
      "displayname": "Facebook",
      "logo": "CCTC/Facebook.png",
      "logourl": "CCTC/Facebook.png",
      "description": "Facebook",
      "appFeatureType": "Public",
      "roles": "public",
      "showInDock": false,
      "showInHome": true,
      "networkrequired": true,
      "analytics": true,
      "pages": 
      [
        {
          "pageid": "Facebook",
          "pageTemplate": "<div><\/div>",
          "pageprocessor": "function pageprocessorFacebook(pagedef, $scope, $routeParams, $compile, $http, $rootScope, $sce, $window, $location) {\r\n  if (window.device) {\r\n    $.blockUI();\r\n  }\r\n\r\n  var iabRef = window.open(pagedef.url, \"_blank\", \"location=yes,hidden=yes;enableViewportScale=yes\");\r\n  var hideBlockUi = function() {\r\n    iabRef.show();\r\n    $.unblockUI();\r\n  };\r\n\r\n  var iabClose = function(data) {\r\n    window.location.href = \"index.html#home\";\r\n    $.unblockUI();\r\n  };\r\n  iabRef.addEventListener(\"exit\", iabClose);\r\n\r\n  var loadStop = function(data) {\r\n    hideBlockUi();\r\n\r\n  };\r\n  iabRef.addEventListener(\"loadstop\", loadStop);\r\n\r\n\r\n  /*if (window.device) {\r\n    $.blockUI();\r\n  }\r\n\r\n  var iabRef = window.open(\"https://ssotest.cctech.edu/cas/login\", \"_blank\", \"location=yes,hidden=yes;enableViewportScale=yes\");\r\n  var hideBlockUi = function() {\r\n    iabRef.show();\r\n    $.unblockUI();\r\n  };\r\n\r\n  var iabClose = function(data) {\r\n    window.location.href = \"index.html#home\";\r\n    $.unblockUI();\r\n  };\r\n  iabRef.addEventListener(\"exit\", iabClose);\r\n\r\n  var loadStop = function(data) {\r\n    window.open(\"https://ssotest.cctech.edu/cas/login?execution=e1s1&_eventId=forgotPassword\", \"_blank\", \"location=yes,hidden=yes;enableViewportScale=yes\");\r\n    hideBlockUi();\r\n\r\n  };\r\n  iabRef.addEventListener(\"loadstop\", loadStop);*/\r\n\r\n}",
          "url": "https://www.facebook.com/CentralCarolina/"
        }
      ]
    },
    {
      "id": 45756,
      "name": "Twitter",
      "displayname": "Twitter",
      "logo": "CCTC/Twitter.png",
      "logourl": "CCTC/Twitter.png",
      "description": "Twitter",
      "appFeatureType": "Public",
      "roles": "public",
      "showInDock": false,
      "showInHome": true,
      "networkrequired": true,
      "analytics": true,
      "pages": 
      [
        {
          "pageid": "Twitter",
          "pageTemplate": "<div><\/div>",
          "pageprocessor": "function pageprocessorTwitter(pagedef, $scope, $routeParams, $compile, $http, $rootScope, $sce, $window, $location) {\r\n  if (window.device) {\r\n   $.blockUI({\r\n      message: '<div id=\"floatingBarsG\"><div class=\"blockG\" id=\"rotateG_01\"><\/div><div class=\"blockG\" id=\"rotateG_02\"><\/div><div class=\"blockG\" id=\"rotateG_03\"><\/div><div class=\"blockG\" id=\"rotateG_04\"><\/div><div class=\"blockG\" id=\"rotateG_05\"><\/div><div class=\"blockG\" id=\"rotateG_06\"><\/div><div class=\"blockG\" id=\"rotateG_07\"><\/div><div class=\"blockG\" id=\"rotateG_08\"><\/div><\/div><div><\/div>'\r\n    });\r\n  }\r\n  var iabRef = window.open(pagedef.url, \"_blank\", \"location=yes,enableViewportScale=yes\");\r\n  var hideBlockUi = function() {\r\n    iabRef.show();\r\n    $.unblockUI();\r\n  };\r\n\r\n  var iabClose = function(data) {\r\n    window.location.href = \"index.html#home\";\r\n    $.unblockUI();\r\n  };\r\n  iabRef.addEventListener(\"exit\", iabClose);\r\n\r\n  var loadStop = function(data) {\r\n    hideBlockUi();\r\n\r\n  };\r\n  iabRef.addEventListener(\"loadstop\", loadStop);\r\n}",
          "url": "https://twitter.com/CentralCarolina"
        }
      ]
    },
    {
      "id": 45759,
      "name": "Directory",
      "displayname": " Directory",
      "logo": "CCTC/Directory.png",
      "logourl": "CCTC/Directory.png",
      "description": "Directory",
      "appFeatureType": "Public",
      "roles": "public",
      "showInDock": false,
      "showInHome": true,
      "networkrequired": true,
      "analytics": true,
      "pages": 
      [
        {
          "pageid": "DirectoryDetails",
          "pageTemplate": "<div><\/div>",
          "datatemplate": "<style>\r\n  #branding {\r\n    display: none;\r\n  }\r\n  \r\n  .app-body {\r\n    background: #fff !important;\r\n  }\r\n<\/style>\r\n\r\n\r\n<div style=\"padding:0px 10px;\">\r\n  <h4 class=\"ng-binding\" style=\"color:#000; font-weight:bold;\"><i class=\"fa fa-user fa-5x\"><\/i>&nbsp;&nbsp;&nbsp;{{DirectoryDetails._cmb_emp_name}}<\/h4>\r\n<\/div>\r\n\r\n\r\n\r\n\r\n<!--<div style=\"padding:10px;\">\r\n    <div class=\"row\" style=\"color: rgb(0, 0, 0); margin: 0px;\">\r\n    <div class=\"col-xs-5\" style=\"text-align: left; margin-top: auto; margin-right: auto; margin-bottom: auto;\">\r\n        <i class=\"fa fa-user fa-5x\" ng-show=\"DirectoryDetails.PHOTO=='' ||DirectoryDetails.PHOTO==null\" style=\"color:#fff; font-weight:bold;\"><\/i>\r\n        <img src=\"{{DirectoryDetails.PHOTO}}\" ng-hide=\"DirectoryDetails.PHOTO=='' ||DirectoryDetails.PHOTO==null\" class=\"1thumbnail\" style=\"margin-bottom: 5px; box-shadow: 5px 5px 10px rgb(0, 0, 0); border: 2px solid rgb(255, 255, 255); margin-left: -15px;\">\r\n    <\/div>\r\n    <div class=\"col-xs-7\">\r\n        <h4 style=\"margin-top:25%;color:#000;text-shadow:0 0 2px #000;font-weight:bold;\"><span ng-hide=\"DirectoryDetails._cmb_emp_name == ''\">{{DirectoryDetails._cmb_emp_name}}<\/span>\r\n            <!--<span ng-hide=\"DirectoryDetails.LastName ==''\">{{DirectoryDetails.LastName}}<\/span>-->\r\n<!--<\/h4>\r\n<\/div>\r\n<\/div>\r\n\r\n<\/div>-->\r\n\r\n\r\n<div>\r\n  <div class=\"panel panel-primary\" style=\"border-color:#000;margin:10px;\">\r\n    <h4 class=\"panel-heading\" style=\"background:#4CB4E9 !important; border-color: #4CB4E9 !important;font-size:15px;\"><strong>Title:<\/strong> {{DirectoryDetails._cmb_emp_title}}\r\n        <\/h4>\r\n    <div class=\"panel-body\">\r\n      <div class=\"list-group\">\r\n        <a class=\"list-group-item\" href=\"mailto:{{DirectoryDetails._cmb_emp_email}}\">\r\n          <h4 class=\"list-group-item-heading\"><strong>Email:<\/strong> {{DirectoryDetails._cmb_emp_email}}\r\n                        <i class=\"pull-right fa fa-chevron-right\"><\/i><\/h4>\r\n        <\/a>\r\n        <a class=\"list-group-item\" href=\"tel:{{DirectoryDetails._cmb_emp_phone}}\">\r\n          <h4 class=\"list-group-item-heading\"><strong>Phone:<\/strong> {{DirectoryDetails._cmb_emp_phone}}\r\n                        <i class=\"pull-right fa fa-chevron-right\"><\/i><\/h4>\r\n        <\/a>\r\n        <div class=\"list-group-item\">\r\n          <h5 class=\"list-group-item-heading\" style=\"color:#000;\"><strong>Department:<\/strong> {{DirectoryDetails._cmb_emp_dept}}\r\n                    <\/h5>\r\n        <\/div>\r\n        <!--<div class=\"list-group-item\">\r\n          <h5 class=\"list-group-item-heading\" style=\"color:#000;\"><strong>Campus Location:<\/strong> {{DirectoryDetails.CampusLocation}}\r\n                    <\/h5>\r\n        <\/div>\r\n        <div class=\"list-group-item\">\r\n          <h5 class=\"list-group-item-heading\" style=\"color:#000;\"><strong>Campus Extension:<\/strong> {{DirectoryDetails.CampusExtension}}\r\n                    <\/h5>\r\n        <\/div>-->\r\n\r\n      <\/div>\r\n    <\/div>\r\n  <\/div>\r\n<\/div>",
          "pageprocessor": "function pageprocessorDirectoryDetails(pagedef, $scope, $routeParams, $compile, $http, $rootScope, $sce, $window, $location) {$scope.DirectoryDetails =  $rootScope.DirectoryResult[$routeParams.index];var template = pagedef.datatemplate;var data1 = $compile($(template))($scope);$(\"#appContent\").append(data1);}"
        },
        {
          "pageid": "DirectoryPage4",
          "pageTemplate": "<div><\/div>",
          "datatemplate": "<div>Sample Data<\/div>",
          "endpoint": "",
          "pageprocessor": "function pageprocessorDirectoryPage4(pagedef, $scope, $routeParams, $compile, $http, $rootScope, $sce, $window, $location) {var data1 = $compile($(pagedef.datatemplate))($scope);$(\"#appContent\").append(data1);}"
        },
        {
          "pageid": "DirectoryPage3",
          "pageTemplate": "<div><\/div>",
          "endpoint": "",
          "datatemplate": "<div>Sample Data<\/div>",
          "pageprocessor": "function pageprocessorDirectoryPage3(pagedef, $scope, $routeParams, $compile, $http, $rootScope, $sce, $window, $location) {var data1 = $compile($(pagedef.datatemplate))($scope);$(\"#appContent\").append(data1);}"
        },
        {
          "pageid": "DirectoryPage5",
          "pageTemplate": "<div><\/div>",
          "datatemplate": "<div>Sample Data<\/div>",
          "endpoint": "",
          "pageprocessor": "function pageprocessorDirectoryPage5(pagedef, $scope, $routeParams, $compile, $http, $rootScope, $sce, $window, $location) {var data1 = $compile($(pagedef.datatemplate))($scope);$(\"#appContent\").append(data1);}"
        },
        {
          "pageid": "Directory",
          "pageTemplate": "<div><\/div>",
          "searchfields": "_cmb_emp_name,_cmb_emp_dept,_cmb_emp_title,Title",
          "datatemplate": "<div>\r\n  <div class=\"panel panel-primary\" style=\"background:transparent !important;border:none;\">\r\n    <div class=\"list-group-item key-block\" >\r\n      <form id=\"srch\" class=\"form-horizontal\">\r\n        <div class=\"input-group\">\r\n          <input id=\"Directorytxt\" type=\"text\" ng-model=\"Directoryval\" class=\"form-control\" placeholder=\"Enter Name or Title\" />\r\n          <span class=\"input-group-btn\">\r\n                    <button id=\"srchbtn\"  ng-click=\"search()\" class=\"btn btn-primary\" type=\"button\" style=\"background:#00478a;\">\r\n                    <span class=\"fa fa-search\" ><\/span>\r\n          <\/button>\r\n          <\/span>\r\n        <\/div>\r\n      <\/form>\r\n    <\/div>\r\n    <div class=\"panel-body\" style=\"padding:0px;background:transparent;\">\r\n      <div class=\"list-group\">\r\n        <a href=\"#app/Directory/DirectoryDetails?index={{$index}}\" class=\"list-group-item\" ng-repeat=\"entry in DirectoryResult\">\r\n          <h4 style=\"font-weight:bold;color:#00478a;\">{{entry.Title}} <i class=\"fa fa-chevron-right pull-right\"><\/i><\/h4>\r\n          <p class=\"text-left\">{{entry._cmb_emp_title}}<\/p>\r\n        <\/a>\r\n      <\/div>\r\n      <div class=\"alert alert-info\" style=\"margin:20%;\" ng-show=\"!resultfound\">No Results found.!<\/div>\r\n    <\/div>\r\n  <\/div>\r\n<\/div>",
          "pageprocessor": "function pageprocessorDirectory(pagedef, $scope, $routeParams, $compile, $http, $rootScope, $sce, $window, $location) {\r\n  $scope.resultfound = true;\r\n  var data1 = $compile($(pagedef.datatemplate))($scope);\r\n  $(\"#appContent\")\r\n    .append(data1);\r\n\r\n  $('#srch')\r\n    .on('submit', function(event) {\r\n      event.preventDefault();\r\n      $scope.search();\r\n      $scope.$digest();\r\n      $(\"#srchbtn\")\r\n        .focus();\r\n      return false;\r\n    });\r\n\r\n  $scope.fetched = false;\r\n  $scope.filterresult = function() {\r\n    var searchTxt = $(\"#Directorytxt\")\r\n      .val();\r\n    $rootScope.Directoryval = searchTxt;\r\n    var results = [];\r\n    var patt = new RegExp(searchTxt, \"i\");\r\n    var filterParams = pagedef.searchfields.split(\",\");\r\n\r\n    $.each($scope.DirectoryList.post, function(index, val) {\r\n      var found = false;\r\n      for (var i = 0; i < filterParams.length; i++) {\r\n        if (val[\"\" + filterParams[i] + \"\"] != undefined && val[\"\" + filterParams[i] + \"\"].match(patt)) {\r\n          found = true;\r\n          break;\r\n        }\r\n      }\r\n\r\n      if (found) {\r\n        results.push(val);\r\n      }\r\n    });\r\n    results.sort(function(a, b) {\r\n    if (a.Title < b.Title)\r\n      return -1;\r\n    if (a.Title > b.Title)\r\n      return 1;\r\n    return 0;\r\n  });\r\n    $rootScope.DirectoryResult = results;\r\n    if (results.length > 0) {\r\n      $scope.resultfound = true;\r\n    } else {\r\n      $scope.resultfound = false;\r\n    }\r\n  };\r\n  $scope.search = function() {\r\n    if ($scope.fetched == false) {\r\n      $.blockUI();\r\n      var url = pagedef.url + \"?m=\" + Math.random();\r\n      if (window.device) {} else {\r\n        url = \"/websimulator/xml?url=\" + pagedef.url + \"?m=\" + Math.random();\r\n      }\r\n      var xhr = $.ajax({\r\n        url: url,\r\n        dataType: \"xml\",\r\n        async: true,\r\n        data: {},\r\n        success: function(resp) {\r\n          try {\r\n            var results = $.xml2json(resp);\r\n            // alert(JSON.stringify(results));\r\n            $scope.fetched = true;\r\n            $scope.DirectoryList = results;\r\n            $scope.filterresult();\r\n            $scope.$apply();\r\n            $.unblockUI();\r\n          } catch (E) {\r\n            alert(\"Exception : \" + E);\r\n          }\r\n        },\r\n        error: function(e) {\r\n          //alert(\"Error : \" + e);\r\n          $.unblockUI();\r\n          apprise(\"Error occured. Please try again later.\", {\r\n            \"verify\": false,\r\n            \"textYes\": \"Ok\"\r\n          }, function(r) {\r\n            $window.history.back();\r\n          });\r\n        }\r\n      });\r\n    } else {\r\n      $scope.filterresult();\r\n    }\r\n  }\r\n  $scope.search();\r\n}",
          "url": "http://cctech.edu/content/uploads/wpallexport/exports/334c19767dd1eabb7190d9822b2842f7/Employee-Directory-Published.xml"
        }
      ]
    },
    {
      "id": 45762,
      "name": "News",
      "displayname": "Campus News",
      "logo": "CCTC/News.png",
      "logourl": "CCTC/News.png",
      "description": "Campus News Feeds test",
      "appFeatureType": "Public",
      "roles": "public",
      "showInDock": false,
      "showInHome": true,
      "networkrequired": true,
      "analytics": true,
      "pages": 
      [
        {
          "pageid": "NewsDetails",
          "pageTemplate": "<div><\/div>",
          "datatemplate": "<style>\r\n    .app {\r\n    background: #fff !important;\r\n  }\r\n  \r\n  #branding {\r\n    display: none;\r\n  }\r\n  \r\n  #content a {\r\n    color: #256fca;\r\n  }\r\n  \r\n  #content img {\r\n    width: 98% !important;\r\n    height: auto !important;\r\n    ]\r\n<\/style>\r\n<div class=\"jumbotron\" style=\"background:#fff;\">\r\n  <h4 class=\"page-header\" style=\"border-color:#000;\">{{feed.title}}\r\n    <p class=\"small\" ng-bind=\"convertToDate(feed.pubDate) | date:'EEE, MMM dd, y h:mm a'\" class=\"small\" style=\"color:#6e6e6e\"><\/p>\r\n    <\/h4>\r\n  <p style=\"color:#000\" id=\"content\" class=\"small\" ng-bind-html=\"trusthtml(feed.encoded)\"><\/p>\r\n<a class=\"btn btn-primary btn-block\" ng-click=\"openurl();\">View Website<\/a>\r\n<\/div>",
          "pageprocessor": "function pageprocessorNewsDetails(pagedef, $scope, $routeParams, $compile, $http, $rootScope, $sce, $window, $location) {\r\n    $scope.feed = $rootScope.feeds[$routeParams.index];\r\n    $scope.openurl = function () {\r\n        window.open($scope.feed.link, \"_blank\", \"location=yes,enableViewportScale=yes\");\r\n    };\r\n    var template = pagedef.datatemplate;\r\n    $scope.trusthtml = function (data) {\r\n        return $sce.trustAsHtml(data);\r\n    }\r\n    var data1 = $compile($(template))($scope);\r\n    $(\"#appContent\").append(data1);\r\n\r\nsetTimeout(function() {\r\n        $(\"#content a\").on(\"click\", function(eve) {\r\n\r\n            var link = $(this).attr('href');\r\n            if (link.indexOf(\"mailto:\") > -1 || link.indexOf(\"tel:\") > -1) {} else {\r\n                eve.preventDefault();\r\n\r\n                window.open(link, \"_blank\", \"location=yes,enableViewportScale=yes\");\r\n            }\r\n        });\r\n    }, 1000);\r\n\r\n$scope.convertToDate = function (stringDate){\r\n  var dateOut = new Date(stringDate);\r\n  dateOut.setDate(dateOut.getDate());\r\n  return dateOut;\r\n};\r\n\r\n}"
        },
        {
          "pageid": "News",
          "pageTemplate": "<div><\/div>",
          "url": "http://www.cctech.edu/category/in-the-news/feed",
          "pageprocessor": "function pageprocessorNews(pagedef, $scope, $routeParams, $compile, $http, $rootScope, $sce, $window, $location) {\r\n\r\n\r\n  $.blockUI();\r\n  var data1 = $compile($(pagedef.datatemplate))($scope);\r\n  $(\"#appContent\").append(data1);\r\n\r\n  var url = pagedef.url;\r\n  if (window.device) {} else {\r\n    url = \"/websimulator/xml?url=\" + pagedef.url;\r\n  }\r\n  var xhr = $.ajax({\r\n    url: url,\r\n    dataType: \"xml\",\r\n    async: true,\r\n    data: {},\r\n    success: function(resp) {\r\n      var results = $.xml2json(resp);\r\n      $scope.feeds = results.channel.item;\r\n      $rootScope.feeds = results.channel.item;\r\n      $scope.$apply();\r\n      $.unblockUI();\r\n    }\r\n  });\r\n  /* var data1 = $compile($(pagedef.datatemplate))($scope);\r\n   $(\"#appContent\").append(data1);\r\n   $.blockUI();\r\n   var rssreaderUrl = \"https://kryptosda.kryptosmobile.com/kryptosds/rss/rssreader\";\r\n   var param = {\r\n     \"url\": pagedef.url\r\n   };\r\n   $http.post(rssreaderUrl, param, '').success(function(data, status, headers, config) {\r\n     $scope.feeds = data.feed.entries;\r\n     $rootScope.feeds = data.feed.entries;\r\n     $.unblockUI();\r\n   }).error(function(error, status, header, config) {\r\n     //alert(JSON.stringify(error));\r\n     $.unblockUI();\r\n   });*/\r\n\r\n  $scope.convertToDate = function(stringDate) {\r\n    var dateOut = new Date(stringDate);\r\n    dateOut.setDate(dateOut.getDate());\r\n    return dateOut;\r\n  };\r\n}",
          "datatemplate": "<style>\r\n  #branding {\r\n    display: none;\r\n  }\r\n<\/style>\r\n<div class=\"list-group\"><a href=\"#app/News/NewsDetails?index={{$index}}\" class=\"list-group-item\" ng-repeat=\"feed in feeds | filter:filterText\"><h4 style=\"font-weight:bold;\">{{feed.title}}<\/h4><!--<p class=\"text-left\" style=\"color:#000;\">{{feed.contentSnippet}}<\/p>--><span ng-bind=\"convertToDate(feed.pubDate) | date:'EEE, MMM dd, y h:mm a'\"><\/span><\/a><\/div>"
        }
      ]
    },
    {
      "id": 45765,
      "name": "Events",
      "displayname": "Events",
      "logo": "CCTC/Events.png",
      "logourl": "CCTC/Events.png",
      "description": "Campus Event calendar",
      "appFeatureType": "Public",
      "roles": "public",
      "showInDock": false,
      "showInHome": true,
      "networkrequired": true,
      "analytics": true,
      "pages": 
      [
        {
          "pageid": "Events",
          "pageTemplate": "<style>     #branding {         display: none;     }          .eventsCalendar-daysList li.dayWithEvents a {         background: #1a468d !important;         color:#f9de45 !important;     }          .eventsCalendar-subtitle {         color: #ffffff !important;     }          .eventsCalendar-currentTitle {         background: #1a468d !important;         outline: 1px solid #1a468d !important;     }          .eventsCalendar-daysList li.current a {         background: #000 !important;         text-shadow: none !important;         box-shadow: none !important;     }          li.eventsCalendar-day.today a {         border: 1px solid #DA9625 !important;     } <\/style> <div id=\"EventsListData\"><\/div>",
          "url": "http://www.cctech.edu/calendar/feed",
          "pageprocessor": "function pageprocessorEvents(pagedef, $scope, $routeParams, $compile, $http, $rootScope, $sce, $window, $location) {\r\n  $.blockUI();\r\n  var url = pagedef.url;\r\n  if (window.device) {} else {\r\n    url = \"/websimulator/xml?url=\" + pagedef.url;\r\n  }\r\n\r\n  var xhr = $.ajax({\r\n    url: url,\r\n    dataType: \"xml\",\r\n    async: true,\r\n    data: {},\r\n    success: function(resp) {\r\n      var results = $.xml2json(resp);\r\n      var data = [];\r\n      var index = 0;\r\n      $.each(results.channel.item, function(key, val) {\r\n        //var eventDate = val.pubDate.substr(0, val.pubDate.indexOf('to'));\r\n        //var eventDateTime = eventDate.replace(/-/gi, \"/\");\r\n        index = index + 1;\r\n        data.push({\r\n          \"link\": val.link,\r\n          \"displaydate\": val.pubDate,\r\n          \"date\": new Date(val.pubDate).getTime().toString(),\r\n          \"title\": val.title,\r\n          \"description\": val.description,\r\n          \"index\": index\r\n        });\r\n      });\r\n      $rootScope.Eventsdata = data;\r\n      $(\"#appContent\").append($(pagedef.pageTemplate));\r\n      $(\"#EventsListData\").eventCalendar({\r\n        jsonData: data,\r\n        showDescription: true,\r\n        startWeekOnMonday: false,\r\n        eventsLimit: 6,\r\n        dataTemplate: pagedef.datatemplate\r\n      });\r\n      $.unblockUI();\r\n    },\r\n    error: function(e) {\r\n      //alert(\"Error : \" + e);\r\n      $.unblockUI();\r\n      apprise(\"Error occured. Please try again later.\", {\r\n        \"verify\": true,\r\n        \"textYes\": \"Ok\"\r\n      }, function(r) {\r\n        $window.history.back();\r\n      });\r\n    }\r\n  });\r\n\r\n  /*$.blockUI();\r\n  var url = pagedef.url;\r\n  if (window.device) {} else {\r\n    url = \"/websimulator/xml?url=\" + pagedef.url;\r\n  }\r\n  $http.get(url, {\r\n    \"responseType\": \"xml\",\r\n    \"transformResponse\": function(data) {\r\n      var jsonData = $.xml2json(data);\r\n      return jsonData;\r\n    }\r\n  }).success(function(results) {\r\n    var data = [];\r\n    var index = 0;\r\n    $.each(results.channel.item, function(key, val) {\r\n      index = index + 1;\r\n      data.push({\r\n        \"link\": val.link,\r\n        \"displaydate\": dateFormat(val.pubDate, \"ddd, mmm dd, yyyy h:MM TT\"),\r\n        \"date\": new Date(val.pubDate).getTime().toString(),\r\n        \"title\": val.title,\r\n        \"description\": val.description,\r\n        \"index\": index\r\n      });\r\n    });\r\n    $rootScope.Eventsdata = data;\r\n    $(\"#appContent\").append($(pagedef.pageTemplate));\r\n    $(\"#EventsListData\").eventCalendar({\r\n      jsonData: data,\r\n      showDescription: true,\r\n      dataTemplate: pagedef.datatemplate,\r\n      startWeekOnMonday: false\r\n    });\r\n    $.unblockUI();\r\n  }).error(function(data, status, headers, config) {\r\n    $.unblockUI();\r\n    apprise(\"Error occured. Please try again later.\", {\r\n      \"verify\": false,\r\n      \"textYes\": \"Ok\"\r\n    }, function(r) {\r\n      $window.history.back();\r\n    });\r\n  });\r\n\r\n\r\n  $scope.convertToDate = function(stringDate) {\r\n    var dateOut = new Date(stringDate);\r\n    dateOut.setDate(dateOut.getDate());\r\n    return dateOut;\r\n  };\r\n\r\n\r\n  var dateFormat = function() {\r\n    var token = /d{1,4}|m{1,4}|yy(?:yy)?|([HhMsTt])\\1?|[LloSZ]|\"[^\"]*\"|'[^']*'/g,\r\n      timezone = /\\b(?:[PMCEA][SDP]T|(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time|(?:GMT|UTC)(?:[-+]\\d{4})?)\\b/g,\r\n      timezoneClip = /[^-+\\dA-Z]/g,\r\n      pad = function(val, len) {\r\n        val = String(val);\r\n        len = len || 2;\r\n        while (val.length < len) val = \"0\" + val;\r\n        return val;\r\n      };\r\n\r\n    // Regexes and supporting functions are cached through closure\r\n    return function(date, mask, utc) {\r\n      var dF = dateFormat;\r\n\r\n      // You can't provide utc if you skip other args (use the \"UTC:\" mask prefix)\r\n      if (arguments.length == 1 && Object.prototype.toString.call(date) == \"[object String]\" && !/\\d/.test(date)) {\r\n        mask = date;\r\n        date = undefined;\r\n      }\r\n\r\n      // Passing date through Date applies Date.parse, if necessary\r\n      date = date ? new Date(date) : new Date;\r\n      if (isNaN(date)) throw SyntaxError(\"invalid date\");\r\n\r\n      mask = String(dF.masks[mask] || mask || dF.masks[\"default\"]);\r\n\r\n      // Allow setting the utc argument via the mask\r\n      if (mask.slice(0, 4) == \"UTC:\") {\r\n        mask = mask.slice(4);\r\n        utc = true;\r\n      }\r\n\r\n      var _ = utc ? \"getUTC\" : \"get\",\r\n        d = date[_ + \"Date\"](),\r\n        D = date[_ + \"Day\"](),\r\n        m = date[_ + \"Month\"](),\r\n        y = date[_ + \"FullYear\"](),\r\n        H = date[_ + \"Hours\"](),\r\n        M = date[_ + \"Minutes\"](),\r\n        s = date[_ + \"Seconds\"](),\r\n        L = date[_ + \"Milliseconds\"](),\r\n        o = utc ? 0 : date.getTimezoneOffset(),\r\n        flags = {\r\n          d: d,\r\n          dd: pad(d),\r\n          ddd: dF.i18n.dayNames[D],\r\n          dddd: dF.i18n.dayNames[D + 7],\r\n          m: m + 1,\r\n          mm: pad(m + 1),\r\n          mmm: dF.i18n.monthNames[m],\r\n          mmmm: dF.i18n.monthNames[m + 12],\r\n          yy: String(y).slice(2),\r\n          yyyy: y,\r\n          h: H % 12 || 12,\r\n          hh: pad(H % 12 || 12),\r\n          H: H,\r\n          HH: pad(H),\r\n          M: M,\r\n          MM: pad(M),\r\n          s: s,\r\n          ss: pad(s),\r\n          l: pad(L, 3),\r\n          L: pad(L > 99 ? Math.round(L / 10) : L),\r\n          t: H < 12 ? \"a\" : \"p\",\r\n          tt: H < 12 ? \"am\" : \"pm\",\r\n          T: H < 12 ? \"A\" : \"P\",\r\n          TT: H < 12 ? \"AM\" : \"PM\",\r\n          Z: utc ? \"UTC\" : (String(date).match(timezone) || [\"\"]).pop().replace(timezoneClip, \"\"),\r\n          o: (o > 0 ? \"-\" : \"+\") + pad(Math.floor(Math.abs(o) / 60) * 100 + Math.abs(o) % 60, 4),\r\n          S: [\"th\", \"st\", \"nd\", \"rd\"][d % 10 > 3 ? 0 : (d % 100 - d % 10 != 10) * d % 10]\r\n        };\r\n\r\n      return mask.replace(token, function($0) {\r\n        return $0 in flags ? flags[$0] : $0.slice(1, $0.length - 1);\r\n      });\r\n    };\r\n  }();\r\n\r\n  // Some common format strings\r\n  dateFormat.masks = {\r\n    \"default\": \"ddd mmm dd yyyy HH:MM:ss\",\r\n    shortDate: \"m/d/yy\",\r\n    mediumDate: \"mmm d, yyyy\",\r\n    longDate: \"mmmm d, yyyy\",\r\n    fullDate: \"dddd, mmmm d, yyyy\",\r\n    shortTime: \"h:MM TT\",\r\n    mediumTime: \"h:MM:ss TT\",\r\n    longTime: \"h:MM:ss TT Z\",\r\n    isoDate: \"yyyy-mm-dd\",\r\n    isoTime: \"HH:MM:ss\",\r\n    isoDateTime: \"yyyy-mm-dd'T'HH:MM:ss\",\r\n    isoUtcDateTime: \"UTC:yyyy-mm-dd'T'HH:MM:ss'Z'\"\r\n  };\r\n\r\n  // Internationalization strings\r\n  dateFormat.i18n = {\r\n    dayNames: [\r\n      \"Sun\", \"Mon\", \"Tue\", \"Wed\", \"Thu\", \"Fri\", \"Sat\",\r\n      \"Sunday\", \"Monday\", \"Tuesday\", \"Wednesday\", \"Thursday\", \"Friday\", \"Saturday\"\r\n    ],\r\n    monthNames: [\r\n      \"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\",\r\n      \"January\", \"February\", \"March\", \"April\", \"May\", \"June\", \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"\r\n    ]\r\n  };*/\r\n}",
          "datatemplate": "<li><a class=\"list-group-item\" href=\"#app/Events/EventsDetails?index={{index}}\"><h4 style=\"color:#822433\">{{title}}<\/h4><p style=\"color:#000\">Event starts at: {{displaydate}}<\/p><\/a><\/li>"
        },
        {
          "pageid": "EventsDetails",
          "pageTemplate": "<div class=\"row-fluid\"><\/div>",
          "pageprocessor": "function pageprocessorEventsDetails(pagedef, $scope, $routeParams, $compile, $http, $rootScope, $sce, $window, $location) {\r\n  $scope.title = $rootScope.Eventsdata[$routeParams.index - 1].title;\r\n  $scope.displaydate = $rootScope.Eventsdata[$routeParams.index - 1].displaydate;\r\n  $scope.description = $rootScope.Eventsdata[$routeParams.index - 1].description;\r\n  $scope.link = $rootScope.Eventsdata[$routeParams.index - 1].link;\r\n  $scope.openurl = function() {\r\n    window.open($scope.link, \"_blank\", \"location=yes\", \"enableViewportScale=yes\");\r\n  };\r\n  var data = pagedef.pageTemplate;\r\n  data = $(data).append($(pagedef.datatemplate));\r\n  var data1 = $compile($(data))($scope);\r\n  $(\"#appContent\").append(data1);\r\n  \r\n  $scope.trustHtml = function(data) {\r\n    var desc = data.replace(\"  \",\"\")\r\n    return $sce.trustAsHtml(data);\r\n  }\r\n}",
          "datatemplate": "<style>\r\n  #branding {\r\n    display: none;\r\n  }\r\n<\/style>\r\n<div class=\"jumbotron\" style=\"background:#fff;\">\r\n  <h4 class=\"page-header\" ng-bind=\"title\" style=\"margin-bottom:0px;padding-bottom:0px;color:#822433\"><\/h4>\r\n  <h5 ng-bind=\"displaydate\" style=\"padding-bottom:10px;border-bottom:2px solid #999; color:#000;\"><\/h5>\r\n  <p style=\"color:#000\" class=\"small\" ng-bind-html=\"trustHtml(description)\"><\/p>\r\n  <a class=\"btn btn-primary btn-block\" ng-click=\"openurl();\" style=\"background:#822433;border:#822433\">View Web Site<\/a>\r\n<\/div>"
        }
      ]
    },
    {
      "id": 45768,
      "name": "Maps",
      "displayname": "Maps",
      "logo": "CCTC/Maps.png",
      "logourl": "CCTC/Maps.png",
      "description": "Maps",
      "appFeatureType": "Public",
      "roles": null,
      "showInDock": false,
      "showInHome": true,
      "networkrequired": true,
      "analytics": true,
      "pages": 
      [
        {
          "pageid": "Maps",
          "pageTemplate": "<div>     <div class=\"list-group-item\" style=\"background:#666;\" style=\"width: 200px;text-align: center;margin: auto;margin-top: -10px;\"> <select id=\"building_selector\" class=\"form-control\" ng-model=\"selitem\" ng-change=\"selectitem();\">             <option name=\"\" value=\"\">--Select Building--<\/option>             <!--<option name=\"\" value=\"{{$index}}\" ng-repeat=\"item in items | orderBy:'name'\">{{item.name}}<\/option>-->             <option name=\"\" value=\"{{$index}}\" ng-repeat=\"item in items\">{{item.name}}<\/option>         <\/select>         <div class=\"btn-group\" ng-show=\"selitem != '' \" style=\"border:none !important\"> <button type=\"button\" class=\"btn btn-default\" ng-class=\"walkdirection\" ng-click=\"walk();\"> <img alt=\"\" src=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAKRGlDQ1BJQ0MgUHJvZmlsZQAASA2dlndUFNcXx9/MbC+0XZYiZem9twWkLr1IlSYKy+4CS1nWZRewN0QFIoqICFYkKGLAaCgSK6JYCAgW7AEJIkoMRhEVlczGHPX3Oyf5/U7eH3c+8333nnfn3vvOGQAoASECYQ6sAEC2UCKO9PdmxsUnMPG9AAZEgAM2AHC4uaLQKL9ogK5AXzYzF3WS8V8LAuD1LYBaAK5bBIQzmX/p/+9DkSsSSwCAwtEAOx4/l4tyIcpZ+RKRTJ9EmZ6SKWMYI2MxmiDKqjJO+8Tmf/p8Yk8Z87KFPNRHlrOIl82TcRfKG/OkfJSREJSL8gT8fJRvoKyfJc0WoPwGZXo2n5MLAIYi0yV8bjrK1ihTxNGRbJTnAkCgpH3FKV+xhF+A5gkAO0e0RCxIS5cwjbkmTBtnZxYzgJ+fxZdILMI53EyOmMdk52SLOMIlAHz6ZlkUUJLVlokW2dHG2dHRwtYSLf/n9Y+bn73+GWS9/eTxMuLPnkGMni/al9gvWk4tAKwptDZbvmgpOwFoWw+A6t0vmv4+AOQLAWjt++p7GLJ5SZdIRC5WVvn5+ZYCPtdSVtDP6386fPb8e/jqPEvZeZ9rx/Thp3KkWRKmrKjcnKwcqZiZK+Jw+UyL/x7ifx34VVpf5WEeyU/li/lC9KgYdMoEwjS03UKeQCLIETIFwr/r8L8M+yoHGX6aaxRodR8BPckSKPTRAfJrD8DQyABJ3IPuQJ/7FkKMAbKbF6s99mnuUUb3/7T/YeAy9BXOFaQxZTI7MprJlYrzZIzeCZnBAhKQB3SgBrSAHjAGFsAWOAFX4Al8QRAIA9EgHiwCXJAOsoEY5IPlYA0oAiVgC9gOqsFeUAcaQBM4BtrASXAOXARXwTVwE9wDQ2AUPAOT4DWYgSAID1EhGqQGaUMGkBlkC7Egd8gXCoEioXgoGUqDhJAUWg6tg0qgcqga2g81QN9DJ6Bz0GWoH7oDDUPj0O/QOxiBKTAd1oQNYSuYBXvBwXA0vBBOgxfDS+FCeDNcBdfCR+BW+Bx8Fb4JD8HP4CkEIGSEgeggFggLYSNhSAKSioiRlUgxUonUIk1IB9KNXEeGkAnkLQaHoWGYGAuMKyYAMx/DxSzGrMSUYqoxhzCtmC7MdcwwZhLzEUvFamDNsC7YQGwcNg2bjy3CVmLrsS3YC9ib2FHsaxwOx8AZ4ZxwAbh4XAZuGa4UtxvXjDuL68eN4KbweLwa3gzvhg/Dc/ASfBF+J/4I/gx+AD+Kf0MgE7QJtgQ/QgJBSFhLqCQcJpwmDBDGCDNEBaIB0YUYRuQRlxDLiHXEDmIfcZQ4Q1IkGZHcSNGkDNIaUhWpiXSBdJ/0kkwm65KdyRFkAXk1uYp8lHyJPEx+S1GimFLYlESKlLKZcpBylnKH8pJKpRpSPakJVAl1M7WBep76kPpGjiZnKRcox5NbJVcj1yo3IPdcnihvIO8lv0h+qXyl/HH5PvkJBaKCoQJbgaOwUqFG4YTCoMKUIk3RRjFMMVuxVPGw4mXFJ0p4JUMlXyWeUqHSAaXzSiM0hKZHY9O4tHW0OtoF2igdRzeiB9Iz6CX07+i99EllJWV75RjlAuUa5VPKQwyEYcgIZGQxyhjHGLcY71Q0VbxU+CqbVJpUBlSmVeeoeqryVYtVm1Vvqr5TY6r5qmWqbVVrU3ugjlE3VY9Qz1ffo35BfWIOfY7rHO6c4jnH5tzVgDVMNSI1lmkc0OjRmNLU0vTXFGnu1DyvOaHF0PLUytCq0DqtNa5N03bXFmhXaJ/RfspUZnoxs5hVzC7mpI6GToCOVGe/Tq/OjK6R7nzdtbrNug/0SHosvVS9Cr1OvUl9bf1Q/eX6jfp3DYgGLIN0gx0G3QbThkaGsYYbDNsMnxipGgUaLTVqNLpvTDX2MF5sXGt8wwRnwjLJNNltcs0UNnUwTTetMe0zg80czQRmu836zbHmzuZC81rzQQuKhZdFnkWjxbAlwzLEcq1lm+VzK32rBKutVt1WH60drLOs66zv2SjZBNmstemw+d3W1JZrW2N7w45q52e3yq7d7oW9mT3ffo/9bQeaQ6jDBodOhw+OTo5ixybHcSd9p2SnXU6DLDornFXKuuSMdfZ2XuV80vmti6OLxOWYy2+uFq6Zroddn8w1msufWzd3xE3XjeO2323Ineme7L7PfchDx4PjUevxyFPPk+dZ7znmZeKV4XXE67m3tbfYu8V7mu3CXsE+64P4+PsU+/T6KvnO9632fein65fm1+g36e/gv8z/bAA2IDhga8BgoGYgN7AhcDLIKWhFUFcwJTgquDr4UYhpiDikIxQODQrdFnp/nsE84by2MBAWGLYt7EG4Ufji8B8jcBHhETURjyNtIpdHdkfRopKiDke9jvaOLou+N994vnR+Z4x8TGJMQ8x0rE9seexQnFXcirir8erxgvj2BHxCTEJ9wtQC3wXbF4wmOiQWJd5aaLSwYOHlReqLshadSpJP4iQdT8YmxyYfTn7PCePUcqZSAlN2pUxy2dwd3Gc8T14Fb5zvxi/nj6W6pZanPklzS9uWNp7ukV6ZPiFgC6oFLzICMvZmTGeGZR7MnM2KzWrOJmQnZ58QKgkzhV05WjkFOf0iM1GRaGixy+LtiyfFweL6XCh3YW67hI7+TPVIjaXrpcN57nk1eW/yY/KPFygWCAt6lpgu2bRkbKnf0m+XYZZxl3Uu11m+ZvnwCq8V+1dCK1NWdq7SW1W4anS1/+pDa0hrMtf8tNZ6bfnaV+ti13UUahauLhxZ77++sUiuSFw0uMF1w96NmI2Cjb2b7Dbt3PSxmFd8pcS6pLLkfSm39Mo3Nt9UfTO7OXVzb5lj2Z4tuC3CLbe2emw9VK5YvrR8ZFvottYKZkVxxavtSdsvV9pX7t1B2iHdMVQVUtW+U3/nlp3vq9Orb9Z41zTv0ti1adf0bt7ugT2ee5r2au4t2ftun2Df7f3++1trDWsrD+AO5B14XBdT1/0t69uGevX6kvoPB4UHhw5FHupqcGpoOKxxuKwRbpQ2jh9JPHLtO5/v2pssmvY3M5pLjoKj0qNPv0/+/tax4GOdx1nHm34w+GFXC62luBVqXdI62ZbeNtQe395/IuhEZ4drR8uPlj8ePKlzsuaU8qmy06TThadnzyw9M3VWdHbiXNq5kc6kznvn487f6Iro6r0QfOHSRb+L57u9us9ccrt08rLL5RNXWFfarjpebe1x6Gn5yeGnll7H3tY+p772a87XOvrn9p8e8Bg4d93n+sUbgTeu3px3s//W/Fu3BxMHh27zbj+5k3Xnxd28uzP3Vt/H3i9+oPCg8qHGw9qfTX5uHnIcOjXsM9zzKOrRvRHuyLNfcn95P1r4mPq4ckx7rOGJ7ZOT437j154ueDr6TPRsZqLoV8Vfdz03fv7Db56/9UzGTY6+EL+Y/b30pdrLg6/sX3VOhU89fJ39ema6+I3am0NvWW+738W+G5vJf49/X/XB5EPHx+CP92ezZ2f/AAOY8/wRDtFgAAAACXBIWXMAADIjAAAyIwHN55PYAAACDElEQVQ4EX2Uuy+mQRSHX7ewEZcGm90siYRCpVRoJEujkezWomD/AP4DrYReJSJBpVFoCBLNRiEq0ajcsoWECOv2eX7zzRnzvoZJnm/OnPecM2fOmfkqSqVS9tmoYGATjIrrom9lURGvzZn5G/yCLgWXPrbLydo8BUaV0jNqYBm02IQWr69K+X2WYTXO2uyR6atkRhs0OinL0lmmdsHB7c7cChNwCOcw7LOrTvm5b8UPOFmwXuR10FHFPxgze+TkkXP1MyPmTtgBBXqGp0ieQ2502fg62yZOl1tkmTsKDlNwB8dwAwr8HyzwKvL3VNCQIQZqkHV2CVk124BbUMArmIQF0HobenzQcPx3XfZ3TJlcQhPUgoa6vQfjMAsqi3Uf0Q87Mku9CGmroAOGQN2VUlzDb2/zBfkH1Pq183WyfmIwsmNr9wNQMGWreRe6C/Yh2EcBrTFdOB+BMhuFbVDQNWgAXexQO9skl53b4e0eDuBwASdQD31wD6rvn9jWgmnONcU3xJ5UP456alugQH9hBVTjn9jqJM/MuRi5DDG047Yj74OOOGgZII94nWrrasnsfIJNEN6a0YzRonfUXBfZ9LDWvVRdk+/a/aPwMR76N9ELmYF5gt3746l2pzANKsUZaLyUp/Kv3b2gkzMLXZ2HoIwE/70G1QM2eue58S6gffXFxqd82yO9fFTb5HgFY6LjklrrExcAAAAASUVORK5CYII=\" /> <\/button> <button type=\"button\" class=\"btn btn-default\" ng-class=\"cycledirection\" ng-click=\"bicycle();\"> <img alt=\"\" src=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAKRGlDQ1BJQ0MgUHJvZmlsZQAASA2dlndUFNcXx9/MbC+0XZYiZem9twWkLr1IlSYKy+4CS1nWZRewN0QFIoqICFYkKGLAaCgSK6JYCAgW7AEJIkoMRhEVlczGHPX3Oyf5/U7eH3c+8333nnfn3vvOGQAoASECYQ6sAEC2UCKO9PdmxsUnMPG9AAZEgAM2AHC4uaLQKL9ogK5AXzYzF3WS8V8LAuD1LYBaAK5bBIQzmX/p/+9DkSsSSwCAwtEAOx4/l4tyIcpZ+RKRTJ9EmZ6SKWMYI2MxmiDKqjJO+8Tmf/p8Yk8Z87KFPNRHlrOIl82TcRfKG/OkfJSREJSL8gT8fJRvoKyfJc0WoPwGZXo2n5MLAIYi0yV8bjrK1ihTxNGRbJTnAkCgpH3FKV+xhF+A5gkAO0e0RCxIS5cwjbkmTBtnZxYzgJ+fxZdILMI53EyOmMdk52SLOMIlAHz6ZlkUUJLVlokW2dHG2dHRwtYSLf/n9Y+bn73+GWS9/eTxMuLPnkGMni/al9gvWk4tAKwptDZbvmgpOwFoWw+A6t0vmv4+AOQLAWjt++p7GLJ5SZdIRC5WVvn5+ZYCPtdSVtDP6386fPb8e/jqPEvZeZ9rx/Thp3KkWRKmrKjcnKwcqZiZK+Jw+UyL/x7ifx34VVpf5WEeyU/li/lC9KgYdMoEwjS03UKeQCLIETIFwr/r8L8M+yoHGX6aaxRodR8BPckSKPTRAfJrD8DQyABJ3IPuQJ/7FkKMAbKbF6s99mnuUUb3/7T/YeAy9BXOFaQxZTI7MprJlYrzZIzeCZnBAhKQB3SgBrSAHjAGFsAWOAFX4Al8QRAIA9EgHiwCXJAOsoEY5IPlYA0oAiVgC9gOqsFeUAcaQBM4BtrASXAOXARXwTVwE9wDQ2AUPAOT4DWYgSAID1EhGqQGaUMGkBlkC7Egd8gXCoEioXgoGUqDhJAUWg6tg0qgcqga2g81QN9DJ6Bz0GWoH7oDDUPj0O/QOxiBKTAd1oQNYSuYBXvBwXA0vBBOgxfDS+FCeDNcBdfCR+BW+Bx8Fb4JD8HP4CkEIGSEgeggFggLYSNhSAKSioiRlUgxUonUIk1IB9KNXEeGkAnkLQaHoWGYGAuMKyYAMx/DxSzGrMSUYqoxhzCtmC7MdcwwZhLzEUvFamDNsC7YQGwcNg2bjy3CVmLrsS3YC9ib2FHsaxwOx8AZ4ZxwAbh4XAZuGa4UtxvXjDuL68eN4KbweLwa3gzvhg/Dc/ASfBF+J/4I/gx+AD+Kf0MgE7QJtgQ/QgJBSFhLqCQcJpwmDBDGCDNEBaIB0YUYRuQRlxDLiHXEDmIfcZQ4Q1IkGZHcSNGkDNIaUhWpiXSBdJ/0kkwm65KdyRFkAXk1uYp8lHyJPEx+S1GimFLYlESKlLKZcpBylnKH8pJKpRpSPakJVAl1M7WBep76kPpGjiZnKRcox5NbJVcj1yo3IPdcnihvIO8lv0h+qXyl/HH5PvkJBaKCoQJbgaOwUqFG4YTCoMKUIk3RRjFMMVuxVPGw4mXFJ0p4JUMlXyWeUqHSAaXzSiM0hKZHY9O4tHW0OtoF2igdRzeiB9Iz6CX07+i99EllJWV75RjlAuUa5VPKQwyEYcgIZGQxyhjHGLcY71Q0VbxU+CqbVJpUBlSmVeeoeqryVYtVm1Vvqr5TY6r5qmWqbVVrU3ugjlE3VY9Qz1ffo35BfWIOfY7rHO6c4jnH5tzVgDVMNSI1lmkc0OjRmNLU0vTXFGnu1DyvOaHF0PLUytCq0DqtNa5N03bXFmhXaJ/RfspUZnoxs5hVzC7mpI6GToCOVGe/Tq/OjK6R7nzdtbrNug/0SHosvVS9Cr1OvUl9bf1Q/eX6jfp3DYgGLIN0gx0G3QbThkaGsYYbDNsMnxipGgUaLTVqNLpvTDX2MF5sXGt8wwRnwjLJNNltcs0UNnUwTTetMe0zg80czQRmu836zbHmzuZC81rzQQuKhZdFnkWjxbAlwzLEcq1lm+VzK32rBKutVt1WH60drLOs66zv2SjZBNmstemw+d3W1JZrW2N7w45q52e3yq7d7oW9mT3ffo/9bQeaQ6jDBodOhw+OTo5ixybHcSd9p2SnXU6DLDornFXKuuSMdfZ2XuV80vmti6OLxOWYy2+uFq6Zroddn8w1msufWzd3xE3XjeO2323Ineme7L7PfchDx4PjUevxyFPPk+dZ7znmZeKV4XXE67m3tbfYu8V7mu3CXsE+64P4+PsU+/T6KvnO9632fein65fm1+g36e/gv8z/bAA2IDhga8BgoGYgN7AhcDLIKWhFUFcwJTgquDr4UYhpiDikIxQODQrdFnp/nsE84by2MBAWGLYt7EG4Ufji8B8jcBHhETURjyNtIpdHdkfRopKiDke9jvaOLou+N994vnR+Z4x8TGJMQ8x0rE9seexQnFXcirir8erxgvj2BHxCTEJ9wtQC3wXbF4wmOiQWJd5aaLSwYOHlReqLshadSpJP4iQdT8YmxyYfTn7PCePUcqZSAlN2pUxy2dwd3Gc8T14Fb5zvxi/nj6W6pZanPklzS9uWNp7ukV6ZPiFgC6oFLzICMvZmTGeGZR7MnM2KzWrOJmQnZ58QKgkzhV05WjkFOf0iM1GRaGixy+LtiyfFweL6XCh3YW67hI7+TPVIjaXrpcN57nk1eW/yY/KPFygWCAt6lpgu2bRkbKnf0m+XYZZxl3Uu11m+ZvnwCq8V+1dCK1NWdq7SW1W4anS1/+pDa0hrMtf8tNZ6bfnaV+ti13UUahauLhxZ77++sUiuSFw0uMF1w96NmI2Cjb2b7Dbt3PSxmFd8pcS6pLLkfSm39Mo3Nt9UfTO7OXVzb5lj2Z4tuC3CLbe2emw9VK5YvrR8ZFvottYKZkVxxavtSdsvV9pX7t1B2iHdMVQVUtW+U3/nlp3vq9Orb9Z41zTv0ti1adf0bt7ugT2ee5r2au4t2ftun2Df7f3++1trDWsrD+AO5B14XBdT1/0t69uGevX6kvoPB4UHhw5FHupqcGpoOKxxuKwRbpQ2jh9JPHLtO5/v2pssmvY3M5pLjoKj0qNPv0/+/tax4GOdx1nHm34w+GFXC62luBVqXdI62ZbeNtQe395/IuhEZ4drR8uPlj8ePKlzsuaU8qmy06TThadnzyw9M3VWdHbiXNq5kc6kznvn487f6Iro6r0QfOHSRb+L57u9us9ccrt08rLL5RNXWFfarjpebe1x6Gn5yeGnll7H3tY+p772a87XOvrn9p8e8Bg4d93n+sUbgTeu3px3s//W/Fu3BxMHh27zbj+5k3Xnxd28uzP3Vt/H3i9+oPCg8qHGw9qfTX5uHnIcOjXsM9zzKOrRvRHuyLNfcn95P1r4mPq4ckx7rOGJ7ZOT437j154ueDr6TPRsZqLoV8Vfdz03fv7Db56/9UzGTY6+EL+Y/b30pdrLg6/sX3VOhU89fJ39ema6+I3am0NvWW+738W+G5vJf49/X/XB5EPHx+CP92ezZ2f/AAOY8/wRDtFgAAAACXBIWXMAADIjAAAyIwHN55PYAAACdUlEQVQ4EYWUTYhNYRjHz7l3lGFm4aNoMmOSKJOvfBMLlFgqdjbWUpQoWYkSmY1IpBs7stBkig2LWVlQMlM2RqJ8hcFME3Pv9fu9zns611y89bvPe56P/3nej3PTer2eNBtpmpaI1YoxfCm+5gVZYkuxIM6jGLYD3154A31ojf9X1BcWobAEdoJJLoKTUdie+VqK+X/OLf7XaM2CH7Hfs3nZLv9WFDtpiJNvFxPYTgJ7oAt+QD/+h8aZ15g37DE+1jN5yeEl+hndcBIGQccL2JTFFM1zo06DIAmeLCbxMI6DAl/hOdiNwWewKssrR6Foc0GSypIlHmX+Cc7AYpgPFaiCoo9geZY7JYppS+xHGDxUhUTHZxgCRXfCfpgF8RDXMD8INvQTgfz6hQnOOs45xHfATFgN92AYzkIXjMAH8GVuySJqtmKfUK4vsTP3TLEFPJ+HlaCwXU0HRb/AA9gMa8Ht8EUzYB9coH491pG65GlMbH8Y7UPYV3AFvHcV6IQ74GF4L9dBBe5CLxg7hs5C6mvuyVyYDZdwtmN7YACugsV2sgJOwDnYCCPgqjoQuYl9CVsgcQ8V9eQ85VG4DN67pfAarkEfeCh2q3U8Bb9xx3topyG1kqlwCmy/lTdiQlfXsYd9jvBspzeMF3zzeL4F4VsPNx3lbhxHwOGGL4F3cJrCb8Tdu3FwRQdgA/RDFXbBY+gld8KPPPzvUeRStoHX5i3cJ2EMf/yuY56iu2EZODys2+R6H8thOTgmfUIkmNzgLz4z91q1mVfMDUsm4KV0Q+Pfkrbpvwl5cVUu1zoP09zQQS5o0GFBDP72NP8lLZwouf5p5OMXXuuOrTWbb2EAAAAASUVORK5CYII=\" /> <\/button> <button type=\"button\" class=\"btn btn-default\" ng-class=\"drivedirection\" ng-click=\"drive();\"> <img alt=\"\" src=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAKRGlDQ1BJQ0MgUHJvZmlsZQAASA2dlndUFNcXx9/MbC+0XZYiZem9twWkLr1IlSYKy+4CS1nWZRewN0QFIoqICFYkKGLAaCgSK6JYCAgW7AEJIkoMRhEVlczGHPX3Oyf5/U7eH3c+8333nnfn3vvOGQAoASECYQ6sAEC2UCKO9PdmxsUnMPG9AAZEgAM2AHC4uaLQKL9ogK5AXzYzF3WS8V8LAuD1LYBaAK5bBIQzmX/p/+9DkSsSSwCAwtEAOx4/l4tyIcpZ+RKRTJ9EmZ6SKWMYI2MxmiDKqjJO+8Tmf/p8Yk8Z87KFPNRHlrOIl82TcRfKG/OkfJSREJSL8gT8fJRvoKyfJc0WoPwGZXo2n5MLAIYi0yV8bjrK1ihTxNGRbJTnAkCgpH3FKV+xhF+A5gkAO0e0RCxIS5cwjbkmTBtnZxYzgJ+fxZdILMI53EyOmMdk52SLOMIlAHz6ZlkUUJLVlokW2dHG2dHRwtYSLf/n9Y+bn73+GWS9/eTxMuLPnkGMni/al9gvWk4tAKwptDZbvmgpOwFoWw+A6t0vmv4+AOQLAWjt++p7GLJ5SZdIRC5WVvn5+ZYCPtdSVtDP6386fPb8e/jqPEvZeZ9rx/Thp3KkWRKmrKjcnKwcqZiZK+Jw+UyL/x7ifx34VVpf5WEeyU/li/lC9KgYdMoEwjS03UKeQCLIETIFwr/r8L8M+yoHGX6aaxRodR8BPckSKPTRAfJrD8DQyABJ3IPuQJ/7FkKMAbKbF6s99mnuUUb3/7T/YeAy9BXOFaQxZTI7MprJlYrzZIzeCZnBAhKQB3SgBrSAHjAGFsAWOAFX4Al8QRAIA9EgHiwCXJAOsoEY5IPlYA0oAiVgC9gOqsFeUAcaQBM4BtrASXAOXARXwTVwE9wDQ2AUPAOT4DWYgSAID1EhGqQGaUMGkBlkC7Egd8gXCoEioXgoGUqDhJAUWg6tg0qgcqga2g81QN9DJ6Bz0GWoH7oDDUPj0O/QOxiBKTAd1oQNYSuYBXvBwXA0vBBOgxfDS+FCeDNcBdfCR+BW+Bx8Fb4JD8HP4CkEIGSEgeggFggLYSNhSAKSioiRlUgxUonUIk1IB9KNXEeGkAnkLQaHoWGYGAuMKyYAMx/DxSzGrMSUYqoxhzCtmC7MdcwwZhLzEUvFamDNsC7YQGwcNg2bjy3CVmLrsS3YC9ib2FHsaxwOx8AZ4ZxwAbh4XAZuGa4UtxvXjDuL68eN4KbweLwa3gzvhg/Dc/ASfBF+J/4I/gx+AD+Kf0MgE7QJtgQ/QgJBSFhLqCQcJpwmDBDGCDNEBaIB0YUYRuQRlxDLiHXEDmIfcZQ4Q1IkGZHcSNGkDNIaUhWpiXSBdJ/0kkwm65KdyRFkAXk1uYp8lHyJPEx+S1GimFLYlESKlLKZcpBylnKH8pJKpRpSPakJVAl1M7WBep76kPpGjiZnKRcox5NbJVcj1yo3IPdcnihvIO8lv0h+qXyl/HH5PvkJBaKCoQJbgaOwUqFG4YTCoMKUIk3RRjFMMVuxVPGw4mXFJ0p4JUMlXyWeUqHSAaXzSiM0hKZHY9O4tHW0OtoF2igdRzeiB9Iz6CX07+i99EllJWV75RjlAuUa5VPKQwyEYcgIZGQxyhjHGLcY71Q0VbxU+CqbVJpUBlSmVeeoeqryVYtVm1Vvqr5TY6r5qmWqbVVrU3ugjlE3VY9Qz1ffo35BfWIOfY7rHO6c4jnH5tzVgDVMNSI1lmkc0OjRmNLU0vTXFGnu1DyvOaHF0PLUytCq0DqtNa5N03bXFmhXaJ/RfspUZnoxs5hVzC7mpI6GToCOVGe/Tq/OjK6R7nzdtbrNug/0SHosvVS9Cr1OvUl9bf1Q/eX6jfp3DYgGLIN0gx0G3QbThkaGsYYbDNsMnxipGgUaLTVqNLpvTDX2MF5sXGt8wwRnwjLJNNltcs0UNnUwTTetMe0zg80czQRmu836zbHmzuZC81rzQQuKhZdFnkWjxbAlwzLEcq1lm+VzK32rBKutVt1WH60drLOs66zv2SjZBNmstemw+d3W1JZrW2N7w45q52e3yq7d7oW9mT3ffo/9bQeaQ6jDBodOhw+OTo5ixybHcSd9p2SnXU6DLDornFXKuuSMdfZ2XuV80vmti6OLxOWYy2+uFq6Zroddn8w1msufWzd3xE3XjeO2323Ineme7L7PfchDx4PjUevxyFPPk+dZ7znmZeKV4XXE67m3tbfYu8V7mu3CXsE+64P4+PsU+/T6KvnO9632fein65fm1+g36e/gv8z/bAA2IDhga8BgoGYgN7AhcDLIKWhFUFcwJTgquDr4UYhpiDikIxQODQrdFnp/nsE84by2MBAWGLYt7EG4Ufji8B8jcBHhETURjyNtIpdHdkfRopKiDke9jvaOLou+N994vnR+Z4x8TGJMQ8x0rE9seexQnFXcirir8erxgvj2BHxCTEJ9wtQC3wXbF4wmOiQWJd5aaLSwYOHlReqLshadSpJP4iQdT8YmxyYfTn7PCePUcqZSAlN2pUxy2dwd3Gc8T14Fb5zvxi/nj6W6pZanPklzS9uWNp7ukV6ZPiFgC6oFLzICMvZmTGeGZR7MnM2KzWrOJmQnZ58QKgkzhV05WjkFOf0iM1GRaGixy+LtiyfFweL6XCh3YW67hI7+TPVIjaXrpcN57nk1eW/yY/KPFygWCAt6lpgu2bRkbKnf0m+XYZZxl3Uu11m+ZvnwCq8V+1dCK1NWdq7SW1W4anS1/+pDa0hrMtf8tNZ6bfnaV+ti13UUahauLhxZ77++sUiuSFw0uMF1w96NmI2Cjb2b7Dbt3PSxmFd8pcS6pLLkfSm39Mo3Nt9UfTO7OXVzb5lj2Z4tuC3CLbe2emw9VK5YvrR8ZFvottYKZkVxxavtSdsvV9pX7t1B2iHdMVQVUtW+U3/nlp3vq9Orb9Z41zTv0ti1adf0bt7ugT2ee5r2au4t2ftun2Df7f3++1trDWsrD+AO5B14XBdT1/0t69uGevX6kvoPB4UHhw5FHupqcGpoOKxxuKwRbpQ2jh9JPHLtO5/v2pssmvY3M5pLjoKj0qNPv0/+/tax4GOdx1nHm34w+GFXC62luBVqXdI62ZbeNtQe395/IuhEZ4drR8uPlj8ePKlzsuaU8qmy06TThadnzyw9M3VWdHbiXNq5kc6kznvn487f6Iro6r0QfOHSRb+L57u9us9ccrt08rLL5RNXWFfarjpebe1x6Gn5yeGnll7H3tY+p772a87XOvrn9p8e8Bg4d93n+sUbgTeu3px3s//W/Fu3BxMHh27zbj+5k3Xnxd28uzP3Vt/H3i9+oPCg8qHGw9qfTX5uHnIcOjXsM9zzKOrRvRHuyLNfcn95P1r4mPq4ckx7rOGJ7ZOT437j154ueDr6TPRsZqLoV8Vfdz03fv7Db56/9UzGTY6+EL+Y/b30pdrLg6/sX3VOhU89fJ39ema6+I3am0NvWW+738W+G5vJf49/X/XB5EPHx+CP92ezZ2f/AAOY8/wRDtFgAAAACXBIWXMAADIjAAAyIwHN55PYAAACW0lEQVQ4EY2UvUuXURSA3/f30SdWRiVEhjQ0JEUogUsROAQNLo2tTtUQLc0p/QENLYGTjlERJE02tOjgEDVIQ0uCpRWVFeXX2/Nc75WbGnrg+Z17zz333HPPue+vrKqqyKUsyxrzem77z9iNy+z/J0AjdzYY6yvYZFvCnjIPuhYwBUO3EKkL9sEylGDWarNR74BpmCTYYh40BNTAYoXS8TZcgw9gpl4/v9YScw/dCfoOQ429K2ZqugWTZjzpAouPYQQegFmGWkVtph7yE+7AKehj7zti1NHeKFyhYWDkLryFduebwZp1RhXn4TP0x7lJaS9SsGOMx2EwLliGcAPnCWwhYPR5yHwUdsV53WDWRLkMJ2CK9DvQh2GBsYFzsdZNDDPgbW5CLzyDSmcbcx0GwGLbPevk2uodGKyTtLYb+xEw+A2Se6RfJ/yCj3ALbIqBtuIPPvdgEBbhBdjEogfcfD/Wwc69jjY32TnLktCmvwfbWVTxEt7AAa+bHM9Sm5PML0I7KK77VHJJNfXgS+z5je6A9xDkHL9z4FFfwes7XgCvshmu6fMD5uP4ObrVDOzYIVCsQcpA+1ayN3M4yLhmwC/wBPx+j8f5K7SZ+ina8Vw80Dra3TNgDJ/PGJh5MPjm7JjXmIBu2A9HoW0d2nwuV2AW3HMVwm3Dw6awnzCYkWKTZuneN+zf0W5YE2zhLy7uSWtzuC1hazYyB1M+DU9hBnsdjSq9cqorw9B1bT6TIbB2U6D4xFa/VzW0Qvq2N3zHJhsTDmv47pFkV6e/L3VKP6SVz9m0QUw9+eTjv0wEQUUiFZVVAAAAAElFTkSuQmCC\" /> <\/button>             <div id=\"directionInfo\" style=\"float: right;font-size: 10px;line-height: 13px;color: #fff;margin-left: 10px;\">TravelMode: {{travelmode}} <br />Distance = <span style='white-space:nowrap; text-overflow:ellipsis; overflow:hidden;width:35px;'>{{distmiles}}<\/span> miles <br />Time = {{duration}}<\/div>         <\/div>         <div ng-show=\"selitem != '' \" style=\"margin: 0px; font-weight: normal; font-size: 10px; padding: 0px 5px; box-shadow: 0px 0px 2px rgb(255, 255, 255);\" class=\"alert alert-danger\"> {{trackinginfo}} <\/div>     <\/div>     <div id=\"MapMapCanvas\" style=\"position:absolute;width:100%;height:100%;margin:0px;padding:0px;\"><\/div> <\/div>",
          "mapcenter": "33.932056,-80.36925",
          "mapzoom": "16",
          "pageprocessor": "function pageprocessorMaps(pagedef, $scope, $routeParams, $compile, $http, $rootScope, $sce, $window, $location) {\r\n  var data1 = $compile($(pagedef.pageTemplate))($scope);\r\n  $(\"#appContent\")\r\n    .append(data1);\r\n\r\n  var cb1 = function(loaded) {\r\n    $('#MapMapCanvas').gmap({\r\n      'callback': function() {\r\n        var self = this;\r\n        if (pagedef.mapmarkers) {\r\n          var markers = $.parseJSON(pagedef.mapmarkers);\r\n          var i = 0;\r\n          $.each(markers, function(key, val) {\r\n            setTimeout(function() {\r\n              self.addMarker({\r\n                'position': val.lat + \",\" + val.long,\r\n                'bounds': true,\r\n                \"animation\": google.maps.Animation.DROP\r\n              }).click(function() {\r\n                self.openInfoWindow({\r\n                  'content': val.desc\r\n                }, this);\r\n              });\r\n            }, i * 100);\r\n            i++;\r\n          });\r\n\r\n        }\r\n\r\n      }\r\n    });\r\n\r\n  }\r\n\r\n  window.cb1 = cb1;\r\n  $.getScript(\"https://maps.googleapis.com/maps/api/js?key=AIzaSyDUbP_Qxh9wbPOvgW8iH_zuLu8K3fSlv0I&sensor=false&callback=cb1\");\r\n\r\n\r\n  $scope.selitem = \"\";\r\n  $scope.markers = [];\r\n  var points = $.parseJSON(pagedef.mapmarkers);\r\n  console.log(points);\r\n  var items = [];\r\n  $.each(points, function(key, val) {\r\n    var item = {\r\n      \"name\": val.desc,\r\n      \"clat\": val.lat,\r\n      \"clong\": val.long,\r\n      \"zoom\": \"16\",\r\n      \"markers\": [{\r\n        \"lat\": val.lat,\r\n        \"long\": val.long,\r\n        \"desc\": val.desc\r\n      }]\r\n    };\r\n    items.push(item);\r\n  });\r\n  $scope.items = items;\r\n  $rootScope.items = items;\r\n\r\n  $scope.walkdirection = \"btn-primary\";\r\n  $scope.cycledirection = \"\";\r\n  $scope.drivedirection = \"\";\r\n  $scope.selectitem = function() {\r\n    $(\"#building_selector\")\r\n      .blur();\r\n    var item = $scope.items[$scope.selitem];\r\n    if (item) {\r\n      $scope.curitem = item;\r\n      try {\r\n        var cb = function(loaded) {\r\n\r\n          var geocoder;\r\n          var placeCoordinate;\r\n          var errorCallback = function(error) {\r\n            $.unblockUI();\r\n            navigator.notification.alert(\"Unable to locate your location. Please check your GPS settings, network connectivity and Location services.\", function() {}, 'Alert', 'Ok');\r\n            $scope.trackinginfo = \"Unable to locate your location. Please check your GPS settings, network connectivity and Location services.\" + error.message + \" ( \" + error.code + \" )\";\r\n            $scope.$digest();\r\n          }\r\n          var placeGeoCoder = function(results) {\r\n            try {\r\n              $.unblockUI();\r\n\r\n              placeCoordinate = results;\r\n              $rootScope.mylocation = results;\r\n              var latlng = new google.maps.LatLng(item.clat, item.clong);\r\n              var myOptions = {\r\n                zoom: 18,\r\n                center: latlng,\r\n                mapTypeId: google.maps.MapTypeId.ROADMAP\r\n              };\r\n              var mapDisplay = document.getElementById(\"MapMapCanvas\")\r\n              var map = new google.maps.Map(mapDisplay, myOptions);\r\n              var myloc = new google.maps.Marker({\r\n                position: latlng,\r\n                map: map,\r\n                title: \"title\"\r\n              });\r\n              map.setTilt(45);\r\n              $scope.markers.push(myloc);\r\n              $scope.map = map;\r\n              $scope.walk();\r\n            } catch (e) {\r\n              $.unblockUI();\r\n              //alert(\"Error : \" + e);\r\n            }\r\n          }\r\n\r\n          $scope.placeGeoCoder = placeGeoCoder;\r\n          $scope.errorCallback = errorCallback;\r\n          if (navigator.geolocation) {\r\n            $.blockUI();\r\n            navigator.geolocation.getCurrentPosition(placeGeoCoder, errorCallback, {\r\n              timeout: 10000,\r\n              frequency: 3000,\r\n              enableHighAccuracy: true\r\n            });\r\n          } else {\r\n            //alert(\"not working\")\r\n          }\r\n        };\r\n        window.cb = cb;\r\n        if (typeof google === 'object' && typeof google.maps === 'object') {\r\n          window.cb(true);\r\n        } else {\r\n          var script = document.createElement(\"script\");\r\n          script.type = \"text/javascript\";\r\n          script.src = \"https://maps.google.com/maps/api/js?sensor=false&callback=cb\";\r\n          document.body.appendChild(script);\r\n\r\n        }\r\n\r\n      } catch (e) {\r\n        //alert(e);\r\n      }\r\n\r\n    }\r\n  }\r\n\r\n  $scope.travelmode = \"Walk\";\r\n  $scope.walk = function() {\r\n    $scope.travelmode = \"Walk\";\r\n    $scope.curtravelmode = \"walk\";\r\n    $scope.walkdirection = \"btn-primary\";\r\n    $scope.cycledirection = \"\";\r\n    $scope.drivedirection = \"\";\r\n    $scope.directiondisplay(\"walk\", $scope.map, $rootScope.mylocation.coords.latitude, $rootScope.mylocation.coords.longitude, $scope.curitem.clat, $scope.curitem.clong);\r\n\r\n  }\r\n\r\n  $scope.bicycle = function() {\r\n    $scope.travelmode = \"Bicycle\";\r\n    $scope.curtravelmode = \"cycle\";\r\n    $scope.walkdirection = \"\";\r\n    $scope.cycledirection = \"btn-primary\";\r\n    $scope.drivedirection = \"\";\r\n    $scope.directiondisplay(\"cycle\", $scope.map, $rootScope.mylocation.coords.latitude, $rootScope.mylocation.coords.longitude, $scope.curitem.clat, $scope.curitem.clong);\r\n\r\n  }\r\n\r\n  $scope.drive = function() {\r\n    $scope.travelmode = \"Drive\";\r\n    $scope.curtravelmode = \"drive\";\r\n    $scope.walkdirection = \"\";\r\n    $scope.cycledirection = \"\";\r\n    $scope.drivedirection = \"btn-primary\";\r\n    $scope.directiondisplay(\"drive\", $scope.map, $rootScope.mylocation.coords.latitude, $rootScope.mylocation.coords.longitude, $scope.curitem.clat, $scope.curitem.clong);\r\n  }\r\n\r\n\r\n  $scope.directiondisplay = function(mode, map, slat, slng, elat, elng) {\r\n    $scope.trackinginfo = \"\";\r\n    if ($scope.directionsDisplay) {\r\n      $scope.directionsDisplay.setMap(null);\r\n    }\r\n\r\n    var directionsDisplay = new google.maps.DirectionsRenderer({\r\n      suppressMarkers: false\r\n    });\r\n    var icons = {\r\n      start: new google.maps.MarkerImage(\r\n\r\n        // URL\r\n        'images/start-pin.png',\r\n        // (image width,height)\r\n        new google.maps.Size(32, 32),\r\n        //Point for the Image\r\n        new google.maps.Point(0, 0)\r\n      ),\r\n      end: new google.maps.MarkerImage(\r\n        // URL\r\n        'images/end-pin.png',\r\n        // (image width,height)\r\n        new google.maps.Size(32, 32),\r\n        //Point for the Image\r\n        new google.maps.Point(0, 0)\r\n      )\r\n    };\r\n    directionsDisplay.setMap(null);\r\n    directionsDisplay.setMap(map);\r\n    $scope.directionsDisplay = directionsDisplay;\r\n\r\n    try {\r\n\r\n      var directionsService = new google.maps.DirectionsService();\r\n      var start = new google.maps.LatLng(slat, slng);\r\n      var end = new google.maps.LatLng(elat, elng);\r\n      var travelModeOption = mode;\r\n      var request = {\r\n        origin: start,\r\n        destination: end,\r\n        travelMode: \"\",\r\n        unitSystem: google.maps.UnitSystem.METRIC\r\n      };\r\n\r\n      switch (travelModeOption) {\r\n        case \"walk\":\r\n          {\r\n            var usertravelMode = \"WALKING\";\r\n            request.travelMode = google.maps.TravelMode.WALKING;\r\n            break;\r\n          }\r\n        case \"cycle\":\r\n          {\r\n            var usertravelMode = \"BICYCLING\";\r\n            request.travelMode = google.maps.TravelMode.BICYCLING;\r\n            break;\r\n          }\r\n        case \"drive\":\r\n          {\r\n            var usertravelMode = \"DRIVING\";\r\n            request.travelMode = google.maps.TravelMode.DRIVING;\r\n            break;\r\n          }\r\n        default:\r\n          {\r\n            var usertravelMode = \"WALKING\";\r\n            request.travelMode = google.maps.TravelMode.WALKING;\r\n            break;\r\n          }\r\n      }\r\n    } catch (e) {\r\n      //alert(e)\r\n    }\r\n    directionsService.route(request, function(result, status) {\r\n      if (status == google.maps.DirectionsStatus.OK) {\r\n        try {\r\n          for (i in $scope.markers) {\r\n            $scope.markers[i].setMap(null);\r\n          }\r\n          var len = result.routes[0].legs[0].distance.text.length - 3;\r\n          var miles = (result.routes[0].legs[0].distance.value) * 0.000621;\r\n          var d = miles.toString();\r\n          $scope.distmiles = d.slice(0, 6);\r\n          $scope.duration = JSON.stringify(result.routes[0].legs[0].duration.text);\r\n        } catch (e) {}\r\n        for (i in $scope.markers) {\r\n          $scope.markers[i].setMap(null);\r\n        }\r\n        directionsDisplay.setDirections(result);\r\n        $scope.$digest();\r\n      } else {\r\n        //navigator.notification.alert(\"Oops! Your device dont have GPS enabled \" + status, function() {}, 'Alert', 'Ok');\r\n        $scope.trackinginfo = \"Unable to get GPS data. ( \" + status + \" )\";\r\n        $scope.$digest();\r\n      }\r\n    });\r\n  }\r\n\r\n\r\n}",
          "mapmarkers": "{\r\n  \"map00\": {\r\n    \"lat\": \"33.933279\",\r\n    \"long\": \"-80.37099\",\r\n    \"desc\": \"Main Campus - M100\",\r\n    \"address\": \"506 N. Guignard Drive\",\r\n    \"city\": \"Sumter\",\r\n    \"zip\": \"29150\"\r\n  },\r\n  \"map01\": {\r\n    \"lat\": \"33.932976\",\r\n    \"long\": \"-80.371422\",\r\n    \"desc\": \"Main Campus - M200\",\r\n    \"address\": \"506 N. Guignard Drive\",\r\n    \"city\": \"Sumter\",\r\n    \"zip\": \"29150\"\r\n  },\r\n  \"map02\": {\r\n    \"lat\": \"33.933289\",\r\n    \"long\": \"-80.370325\",\r\n    \"desc\": \"Main Campus - M300\",\r\n    \"address\": \"506 N. Guignard Drive\",\r\n    \"city\": \"Sumter\",\r\n    \"zip\": \"29150\"\r\n  },\r\n  \"map03\": {\r\n    \"lat\": \"33.932056\",\r\n    \"long\": \"-80.36925\",\r\n    \"desc\": \"Main Campus - M300A\",\r\n    \"address\": \"506 N. Guignard Drive\",\r\n    \"city\": \"Sumter\",\r\n    \"zip\": \"29150\"\r\n  },\r\n  \"map04\": {\r\n    \"lat\": \"33.932165\",\r\n    \"long\": \"-80.369376\",\r\n    \"desc\": \"Main Campus - M300B\",\r\n    \"address\": \"506 N. Guignard Drive\",\r\n    \"city\": \"Sumter\",\r\n    \"zip\": \"29150\"\r\n  },\r\n  \"map05\": {\r\n    \"lat\": \"33.934607\",\r\n    \"long\": \"-80.371803\",\r\n    \"desc\": \"Main Campus - M400\",\r\n    \"address\": \"506 N. Guignard Drive\",\r\n    \"city\": \"Sumter\",\r\n    \"zip\": \"29150\"\r\n  },\r\n  \"map06\": {\r\n    \"lat\": \"33.934066\",\r\n    \"long\": \"-80.371068\",\r\n    \"desc\": \"Main Campus - M500\",\r\n    \"address\": \"506 N. Guignard Drive\",\r\n    \"city\": \"Sumter\",\r\n    \"zip\": \"29150\"\r\n  },\r\n  \"map07\": {\r\n    \"lat\": \"33.935234\",\r\n    \"long\": \"-80.370373\",\r\n    \"desc\": \"Main Campus - M600\",\r\n    \"address\": \"506 N. Guignard Drive\",\r\n    \"city\": \"Sumter\",\r\n    \"zip\": \"29150\"\r\n  },\r\n  \"map08\": {\r\n    \"lat\": \"33.937003\",\r\n    \"long\": \"-80.373147\",\r\n    \"desc\": \"Main Campus - M700\",\r\n    \"address\": \"506 N. Guignard Drive\",\r\n    \"city\": \"Sumter\",\r\n    \"zip\": \"29150\"\r\n  },\r\n  \"map09\": {\r\n    \"lat\": \"33.945909\",\r\n    \"long\": \"-80.369571\",\r\n    \"desc\": \"Advanced Manufacturing Technology Training Center\",\r\n    \"address\": \"853 Broad Street\",\r\n    \"city\": \"Sumter\",\r\n    \"zip\": \"29150\"\r\n  },\r\n  \"map10\": {\r\n    \"lat\": \"33.725621\",\r\n    \"long\": \"-80.199681\",\r\n    \"desc\": \"F.E. DuBose Campus\",\r\n    \"address\": \"3351 Sumter Highway\",\r\n    \"city\": \"Manning\",\r\n    \"zip\": \"29102\"\r\n  },\r\n  \"map11\": {\r\n    \"lat\": \"33.91772\",\r\n    \"long\": \"-80.340872\",\r\n    \"desc\": \"Health Sciences Center\",\r\n    \"address\": \"133 S. Main Street\",\r\n    \"city\": \"Sumter\",\r\n    \"zip\": \"29150\"\r\n\r\n  },\r\n\r\n  \"map12\": {\r\n    \"lat\": \"34.219731\",\r\n    \"long\": \"-80.587125\",\r\n    \"desc\": \"Kershaw County Campus\",\r\n    \"address\": \"80 Campus Drive\",\r\n    \"city\": \"Camden\",\r\n    \"zip\": \"29020\"\r\n\r\n  },\r\n\r\n  \"map13\": {\r\n    \"lat\": \"34.248338\",\r\n    \"long\": \"-80.60662\",\r\n    \"desc\": \"Kershaw County Downtown Campus\",\r\n    \"address\": \"1125 Little Street\",\r\n    \"city\": \"Camden\",\r\n    \"zip\": \"29020\"\r\n\r\n  },\r\n\r\n  \"map14\": {\r\n    \"lat\": \"34.218651\",\r\n    \"long\": \"-80.247102\",\r\n    \"desc\": \"Lee County Site\",\r\n    \"address\": \"200 North Main Street\",\r\n    \"city\": \"Bishopville\",\r\n    \"zip\": \"29010\"\r\n\r\n  },\r\n\r\n  \"map15\": {\r\n    \"lat\": \"33.918559\",\r\n    \"long\": \"-80.341573\",\r\n    \"desc\": \"Legal Studies Center\",\r\n    \"address\": \"111 South Main Street\",\r\n    \"city\": \"Sumter\",\r\n    \"zip\": \"29150\"\r\n\r\n  },\r\n\r\n  \"map16\": {\r\n    \"lat\": \"33.992268\",\r\n    \"long\": \"-80.348796\",\r\n    \"desc\": \"Natural Resources Management Center\",\r\n    \"address\": \"735 Brewington Road\",\r\n    \"city\": \"Sumter\",\r\n    \"zip\": \"29153\"\r\n\r\n  },\r\n\r\n  \"map17\": {\r\n    \"lat\": \"33.968732\",\r\n    \"long\": \"-80.483539\",\r\n    \"desc\": \"Shaw AFB Education Center Site\",\r\n    \"address\": \"398 Shaw Drive, Building 501\",\r\n    \"city\": \"Shaw AFB\",\r\n    \"zip\": \"29152\"\r\n\r\n  },\r\n\r\n  \"map18\": {\r\n    \"lat\": \"33.979774\",\r\n    \"long\": \"-80.489172\",\r\n    \"desc\": \"Shaw Center\",\r\n    \"address\": \"2140 Peach Orchard Road\",\r\n    \"city\": \"Sumter\",\r\n    \"zip\": \"29154\"\r\n\r\n  }\r\n}"
        }
      ]
    },
    {
      "id": 45777,
      "name": "Photos105",
      "displayname": "Instagram",
      "logo": "CCTC/Photos105.png",
      "logourl": "CCTC/Photos105.png",
      "description": "Photos",
      "appFeatureType": "Public",
      "roles": null,
      "showInDock": false,
      "showInHome": true,
      "networkrequired": true,
      "analytics": true,
      "pages": 
      [
        {
          "pageid": "Photos105",
          "pageTemplate": "<div><\/div>",
          "pageprocessor": "function pageprocessorPhotos105(pagedef, $scope, $routeParams, $compile, $http, $rootScope, $sce, $window, $location) {\r\n  if (window.device) {\r\n    $.blockUI({\r\n      message: '<div id=\"floatingBarsG\"><div class=\"blockG\" id=\"rotateG_01\"><\/div><div class=\"blockG\" id=\"rotateG_02\"><\/div><div class=\"blockG\" id=\"rotateG_03\"><\/div><div class=\"blockG\" id=\"rotateG_04\"><\/div><div class=\"blockG\" id=\"rotateG_05\"><\/div><div class=\"blockG\" id=\"rotateG_06\"><\/div><div class=\"blockG\" id=\"rotateG_07\"><\/div><div class=\"blockG\" id=\"rotateG_08\"><\/div><\/div><div><\/div>'\r\n    });\r\n  }\r\n  var iabRef = window.open(pagedef.url, \"_blank\", \"location=no,hidden=yes,enableViewportScale=yes,clearcache=yes,toolbarposition=top\");\r\n  var hideBlockUi = function() {\r\n    $.unblockUI();\r\n    iabRef.show();\r\n  };\r\n  var iabClose = function(data) {\r\n    $.unblockUI();\r\n    iabRef.removeEventListener(\"exit\", iabClose);\r\n    window.location.href = \"index.html#home\";\r\n  };\r\n  iabRef.addEventListener(\"exit\", iabClose);\r\n  var loadStop = function(data) {\r\n    hideBlockUi();\r\n    iabRef.removeEventListener(\"loadstop\", loadStop);\r\n  };\r\n  iabRef.addEventListener(\"loadstop\", loadStop);\r\n}",
          "url": "https://www.instagram.com/centralcarolina/"
        }
      ]
    },
    {
      "id": 45780,
      "name": "Library108",
      "displayname": "Library",
      "logo": "CCTC/Library108.png",
      "logourl": "CCTC/Library108.png",
      "description": "Library",
      "appFeatureType": "Public",
      "roles": null,
      "showInDock": false,
      "showInHome": true,
      "networkrequired": true,
      "analytics": true,
      "pages": 
      [
        {
          "pageid": "Library108",
          "pageTemplate": "<div><\/div>",
          "pageprocessor": "function pageprocessorLibrary108(pagedef, $scope, $routeParams, $compile, $http, $rootScope, $sce, $window, $location) {\r\n  if (window.device) {\r\n     $.blockUI({\r\n        message: '<div id=\"floatingBarsG\"><div class=\"blockG\" id=\"rotateG_01\"><\/div><div class=\"blockG\" id=\"rotateG_02\"><\/div><div class=\"blockG\" id=\"rotateG_03\"><\/div><div class=\"blockG\" id=\"rotateG_04\"><\/div><div class=\"blockG\" id=\"rotateG_05\"><\/div><div class=\"blockG\" id=\"rotateG_06\"><\/div><div class=\"blockG\" id=\"rotateG_07\"><\/div><div class=\"blockG\" id=\"rotateG_08\"><\/div><\/div><div><\/div>'\r\n      });\r\n  }\r\n  var iabRef = window.open(pagedef.url, \"_blank\", \"location=no,hidden=yes,enableViewportScale=yes,clearcache=yes\");\r\n  var hideBlockUi = function() {\r\n    $.unblockUI();\r\n    iabRef.show();\r\n  };\r\n  var iabClose = function(data) {\r\n    $.unblockUI();\r\n    iabRef.removeEventListener(\"exit\", iabClose);\r\n    window.location.href = \"index.html#home\";\r\n  };\r\n  iabRef.addEventListener(\"exit\", iabClose);\r\n  var loadStop = function(data) {\r\n    hideBlockUi();\r\n    iabRef.removeEventListener(\"loadstop\", loadStop);\r\n  };\r\n  iabRef.addEventListener(\"loadstop\", loadStop);\r\n}",
          "url": "http://www.cctech.edu/resources/library/"
        }
      ]
    }
  ],
  "pages": 
  [
  ]
}
